/* Widget Preview Container - Prevent scroll behavior */
.widget-preview-container * {
  scroll-margin: 0 !important;
  scroll-padding: 0 !important;
}

.widget-preview-container *:focus {
  outline: none !important;
}

.widget-preview-container *[tabindex] {
  outline: none !important;
}

/* Prevent scrollIntoView from scrolling the page */
.widget-preview-container {
  isolation: isolate;
}

.widget-preview-container * {
  scroll-behavior: auto !important;
}

/* Widget Customization Tab - Remove ALL overflow restrictions for sticky to work */
/* Target all possible parent containers that could block sticky */
.widget-customization-tab,
.widget-customization-tab *:not(.widget-preview-container):not(.widget-preview-container *),
.widget-customization-tab *:not(.widget-preview-container):not(.widget-preview-container *) *:not(.widget-preview-container):not(.widget-preview-container *) {
  overflow: visible !important;
  overflow-x: visible !important;
  overflow-y: visible !important;
}

.widget-customization-tab .grid {
  align-items: start !important;
  overflow: visible !important;
}

/* Sticky Live Preview Component - Force sticky positioning with maximum specificity */
.sticky-live-preview-wrapper {
  position: relative !important;
  align-self: flex-start !important;
  width: 100% !important;
  overflow: visible !important;
  display: block !important;
}

@media (min-width: 1024px) {
  .sticky-live-preview-wrapper {
    position: -webkit-sticky !important;
    position: sticky !important;
    top: 24px !important;
    align-self: flex-start !important;
    z-index: 10 !important;
    will-change: position !important;
    overflow: visible !important;
    height: fit-content !important;
    max-height: calc(100vh - 48px) !important;
    transform: none !important;
  }
  
  /* Ensure grid allows sticky */
  .widget-customization-tab .grid,
  .widget-customization-tab > div[class*="grid"],
  .widget-customization-tab > div.grid {
    display: grid !important;
    align-items: start !important;
    overflow: visible !important;
    overflow-x: visible !important;
    overflow-y: visible !important;
  }
  
  /* Ensure all parent containers allow sticky - target Radix UI */
  .widget-customization-tab,
  [data-state][class*="widget-customization"],
  [data-radix-tabs-content].widget-customization-tab,
  .widget-customization-tabs-root,
  .widget-customization-tabs-root * {
    overflow: visible !important;
    overflow-y: visible !important;
    overflow-x: visible !important;
    height: auto !important;
    max-height: none !important;
    transform: none !important;
  }
  
  /* Ensure content area allows sticky */
  div.flex-1[class*="p-0"]:has(.widget-customization-tab),
  div.flex-1[class*="p-0"]:has(.widget-customization-tabs-root) {
    overflow: visible !important;
  }
}
