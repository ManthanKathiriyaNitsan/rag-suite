{"file_contents":{"design_guidelines.md":{"content":"# RAG-Powered AI Platform Design Guidelines\n\n## Design Approach\n**Reference-Based Approach**: Drawing inspiration from enterprise productivity tools like Linear, Notion, and modern dashboard applications. This approach emphasizes clean data presentation, sophisticated dark themes, and professional enterprise aesthetics.\n\n## Core Design Elements\n\n### A. Color Palette\n**Dark Mode (Primary)**\n- Primary: `217 91% 60%` (#1F6FEB)\n- Surface: `222 84% 5%` (#0B1020) \n- Card: `222 84% 11%` (#0F172A)\n- Text: `220 13% 91%` (#E5E7EB)\n- Success: `142 76% 47%` (#22C55E)\n- Warning: `38 92% 50%` (#F59E0B)\n- Danger: `0 72% 51%` (#EF4444)\n- Info: `199 89% 48%` (#38BDF8)\n\n**Light Mode**\n- Surface: `0 0% 100%` (white)\n- Card: `220 14% 96%` (#F8FAFC)\n- Text: `222 84% 5%` (#0F172A)\n- Borders: `220 13% 91%` (#E5E7EB)\n\n### B. Typography\n**Font Family**: Inter via Google Fonts CDN\n**Hierarchy**:\n- H1: 32px, weight 600, letter-spacing -0.02em\n- H2: 24px, weight 600, letter-spacing -0.01em  \n- H3: 20px, weight 500\n- Body: 16px, weight 400, line-height 1.5\n- Caption: 14px, weight 400, opacity 0.7\n\n### C. Layout System\n**Spacing Units**: Tailwind units of 2, 4, 6, 8, 12, 16\n- Component padding: p-4, p-6\n- Section margins: m-8, m-12\n- Card spacing: p-6\n- Button padding: px-4 py-2, px-6 py-3\n\n### D. Component Library\n\n**Navigation**\n- Sidebar: 280px fixed width, collapsible to 64px icon-only\n- Top bar: 64px height with search, user menu, theme toggle\n- Breadcrumbs for deep navigation\n\n**Data Display**\n- Cards: rounded-lg, subtle shadows, hover elevation\n- Tables: zebra striping, sortable headers, pagination\n- Charts: Minimal grid lines, branded color palette\n- Badges: Small rounded-full status indicators\n\n**Forms & Inputs**\n- Input fields: rounded-md borders, focus rings in primary color\n- Buttons: Primary (filled), Secondary (outline), Ghost (text)\n- Toggles: iOS-style switches for settings\n- Multi-select: Tokenized chips with remove buttons\n\n**Overlays**\n- Modals: Backdrop blur, centered max-width containers\n- Drawers: Slide-in panels for detail views\n- Tooltips: Dark background, white text, small arrow\n- Toasts: Top-right positioned, auto-dismiss\n\n**Widget Components**\n- Floating launcher: 60px circle, bottom-right positioned\n- Chat panel: 400px width desktop, full-screen mobile\n- Message bubbles: User (right, primary color), AI (left, card color)\n- Citation chips: Hover previews, source links\n\n### E. Interaction Patterns\n\n**Loading States**\n- Skeleton screens for data-heavy components\n- Streaming text animation for AI responses\n- Progress indicators for crawl jobs\n\n**Empty States**\n- Centered illustrations with helpful CTAs\n- Contextual suggestions for next actions\n- Clear guidance for first-time users\n\n**Error Handling**\n- Inline validation messages\n- Retry mechanisms for failed operations\n- Graceful degradation for connectivity issues\n\n## Responsive Behavior\n\n**Breakpoints**\n- Desktop: ≥1280px (full sidebar, multi-column layouts)\n- Tablet: 768-1279px (collapsible sidebar, stacked components)\n- Mobile: ≤767px (hidden sidebar, single column, bottom sheets)\n\n**Mobile Adaptations**\n- Bottom navigation for primary actions\n- Swipe gestures for drawer panels\n- Thumb-friendly touch targets (44px minimum)\n- Full-screen modals instead of centered overlays\n\n## Accessibility Features\n\n- WCAG 2.1 AA compliance\n- 4.5:1 contrast ratios for all text\n- Focus rings on all interactive elements\n- Keyboard navigation for all workflows\n- Screen reader announcements for dynamic content\n- Reduced motion preferences respected\n\n## Theme Implementation\n\n- Explicit theme toggle in header\n- System preference detection as default\n- Consistent theme application across widget embeds\n- CSS custom properties for easy theme switching\n- Local storage persistence for user preference","size_bytes":3794},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","size_bytes":325},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":80},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \".5625rem\", /* 9px */\n        md: \".375rem\", /* 6px */\n        sm: \".1875rem\", /* 3px */\n      },\n      colors: {\n        // Flat / base colors (regular buttons)\n        background: \"hsl(var(--background) / <alpha-value>)\",\n        foreground: \"hsl(var(--foreground) / <alpha-value>)\",\n        border: \"hsl(var(--border) / <alpha-value>)\",\n        input: \"hsl(var(--input) / <alpha-value>)\",\n        card: {\n          DEFAULT: \"hsl(var(--card) / <alpha-value>)\",\n          foreground: \"hsl(var(--card-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--card-border) / <alpha-value>)\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover) / <alpha-value>)\",\n          foreground: \"hsl(var(--popover-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--popover-border) / <alpha-value>)\",\n        },\n        primary: {\n          DEFAULT: \"hsl(var(--primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--primary-foreground) / <alpha-value>)\",\n          border: \"var(--primary-border)\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary) / <alpha-value>)\",\n          foreground: \"hsl(var(--secondary-foreground) / <alpha-value>)\",\n          border: \"var(--secondary-border)\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted) / <alpha-value>)\",\n          foreground: \"hsl(var(--muted-foreground) / <alpha-value>)\",\n          border: \"var(--muted-border)\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--accent-foreground) / <alpha-value>)\",\n          border: \"var(--accent-border)\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive) / <alpha-value>)\",\n          foreground: \"hsl(var(--destructive-foreground) / <alpha-value>)\",\n          border: \"var(--destructive-border)\",\n        },\n        ring: \"hsl(var(--ring) / <alpha-value>)\",\n        chart: {\n          \"1\": \"hsl(var(--chart-1) / <alpha-value>)\",\n          \"2\": \"hsl(var(--chart-2) / <alpha-value>)\",\n          \"3\": \"hsl(var(--chart-3) / <alpha-value>)\",\n          \"4\": \"hsl(var(--chart-4) / <alpha-value>)\",\n          \"5\": \"hsl(var(--chart-5) / <alpha-value>)\",\n        },\n        sidebar: {\n          ring: \"hsl(var(--sidebar-ring) / <alpha-value>)\",\n          DEFAULT: \"hsl(var(--sidebar) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--sidebar-border) / <alpha-value>)\",\n        },\n        \"sidebar-primary\": {\n          DEFAULT: \"hsl(var(--sidebar-primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-primary-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-primary-border)\",\n        },\n        \"sidebar-accent\": {\n          DEFAULT: \"hsl(var(--sidebar-accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-accent-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-accent-border)\"\n        },\n        status: {\n          online: \"rgb(34 197 94)\",\n          away: \"rgb(245 158 11)\",\n          busy: \"rgb(239 68 68)\",\n          offline: \"rgb(156 163 175)\",\n        },\n      },\n      fontFamily: {\n        sans: [\"var(--font-sans)\"],\n        serif: [\"var(--font-serif)\"],\n        mono: [\"var(--font-mono)\"],\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: { height: \"0\" },\n          to: { height: \"var(--radix-accordion-content-height)\" },\n        },\n        \"accordion-up\": {\n          from: { height: \"var(--radix-accordion-content-height)\" },\n          to: { height: \"0\" },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","size_bytes":4050},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","size_bytes":971},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\n\nconst app = express();\n\n// Basic middleware for static app\napp.use(express.json());\napp.use(express.urlencoded({ extended: false }));\n\n// Simple request logging\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  const method = req.method;\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      log(`${method} ${path} ${res.statusCode} in ${duration}ms`);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  const server = await registerRoutes(app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  // ALWAYS serve the app on the port specified in the environment variable PORT\n  // Other ports are firewalled. Default to 5000 if not specified.\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = parseInt(process.env.PORT || '5000', 10);\n  server.listen({\n    port,\n    host: \"0.0.0.0\",\n    reusePort: true,\n  }, () => {\n    log(`serving on port ${port}`);\n  });\n})();\n","size_bytes":1669},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  // Static mock API routes for demo purposes\n  app.post(\"/api/auth/login\", (req, res) => {\n    const { email, password } = req.body;\n    \n    // Simple mock authentication\n    if (email === \"admin@ragsuite.com\" && password === \"demo123\") {\n      res.json({\n        message: \"Login successful\",\n        user: {\n          id: \"demo-user-1\",\n          username: \"admin\", \n          email: \"admin@ragsuite.com\",\n          role: \"admin\",\n        },\n      });\n    } else {\n      res.status(401).json({ message: \"Invalid credentials\" });\n    }\n  });\n\n  app.post(\"/api/auth/logout\", (req, res) => {\n    res.json({ message: \"Logout successful\" });\n  });\n\n  const httpServer = createServer(app);\n  return httpServer;\n}\n","size_bytes":871},"server/storage.ts":{"content":"// Static in-memory storage for demo purposes\n// No database dependencies - fully static\n\nexport interface MockUser {\n  id: string;\n  username: string;\n  email: string;\n  role: string;\n}\n\n// Static demo data\nconst mockUsers: MockUser[] = [\n  {\n    id: \"demo-user-1\",\n    username: \"admin\",\n    email: \"admin@ragsuite.com\", \n    role: \"admin\"\n  }\n];\n\nexport const storage = {\n  // Get user by credentials (for demo login)\n  getUserByEmail: (email: string): MockUser | undefined => {\n    return mockUsers.find(user => user.email === email);\n  },\n  \n  // Get all users \n  getUsers: (): MockUser[] => {\n    return [...mockUsers];\n  }\n};\n","size_bytes":633},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","size_bytes":2263},"shared/schema.ts":{"content":"import { sql } from \"drizzle-orm\";\nimport { pgTable, text, varchar, timestamp, boolean, integer, jsonb } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\nexport const users = pgTable(\"users\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  username: text(\"username\").notNull().unique(),\n  password: text(\"password\").notNull(),\n});\n\nexport const insertUserSchema = createInsertSchema(users).pick({\n  username: true,\n  password: true,\n});\n\nexport type InsertUser = z.infer<typeof insertUserSchema>;\nexport type User = typeof users.$inferSelect;\n\n// Integrations schema\nexport const integrations = pgTable(\"integrations\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  name: text(\"name\").notNull(),\n  slug: text(\"slug\").notNull().unique(),\n  description: text(\"description\"),\n  publicId: text(\"public_id\").notNull().unique(),\n  status: text(\"status\").notNull().default(\"active\"), // active, paused, archived\n  ownerId: varchar(\"owner_id\").references(() => users.id),\n  tags: text(\"tags\").array().default([]),\n  \n  // Configuration (stored as JSON)\n  config: jsonb(\"config\").notNull().default({}),\n  theme: jsonb(\"theme\").default({}),\n  \n  // Environments\n  environments: text(\"environments\").array().default([]), // staging, production\n  \n  // Analytics\n  queriesLast7d: integer(\"queries_last_7d\").default(0),\n  queriesLast30d: integer(\"queries_last_30d\").default(0),\n  errorsLast7d: integer(\"errors_last_7d\").default(0),\n  errorsLast30d: integer(\"errors_last_30d\").default(0),\n  \n  // Timestamps\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n  lastPublish: timestamp(\"last_publish\"),\n});\n\nexport const integrationKeys = pgTable(\"integration_keys\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  integrationId: varchar(\"integration_id\").notNull().references(() => integrations.id, { onDelete: \"cascade\" }),\n  label: text(\"label\").notNull(),\n  keyPrefix: text(\"key_prefix\").notNull(),\n  keyHash: text(\"key_hash\").notNull(), // Store hashed key for security\n  environment: text(\"environment\").notNull(), // staging, production\n  rateLimit: integer(\"rate_limit\").default(1000),\n  expiresAt: timestamp(\"expires_at\"),\n  isActive: boolean(\"is_active\").default(true),\n  lastUsedAt: timestamp(\"last_used_at\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const integrationDomains = pgTable(\"integration_domains\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  integrationId: varchar(\"integration_id\").notNull().references(() => integrations.id, { onDelete: \"cascade\" }),\n  origin: text(\"origin\").notNull(),\n  cspHelper: text(\"csp_helper\"),\n  addedAt: timestamp(\"added_at\").defaultNow(),\n});\n\nexport const integrationWebhooks = pgTable(\"integration_webhooks\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  integrationId: varchar(\"integration_id\").notNull().references(() => integrations.id, { onDelete: \"cascade\" }),\n  url: text(\"url\").notNull(),\n  environment: text(\"environment\").notNull(),\n  secretHash: text(\"secret_hash\").notNull(), // Store hashed secret for security\n  events: text(\"events\").array().notNull(),\n  isActive: boolean(\"is_active\").default(true),\n  lastDelivery: timestamp(\"last_delivery\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const integrationVersions = pgTable(\"integration_versions\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  integrationId: varchar(\"integration_id\").notNull().references(() => integrations.id, { onDelete: \"cascade\" }),\n  version: integer(\"version\").notNull(),\n  config: jsonb(\"config\").notNull(),\n  theme: jsonb(\"theme\"),\n  status: text(\"status\").notNull().default(\"draft\"), // draft, live\n  notes: text(\"notes\"),\n  createdBy: varchar(\"created_by\").references(() => users.id),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n}, (table) => ({\n  uniqueVersionPerIntegration: sql`UNIQUE (integration_id, version)`,\n}));\n\nexport const integrationEventLogs = pgTable(\"integration_event_logs\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  integrationId: varchar(\"integration_id\").notNull().references(() => integrations.id, { onDelete: \"cascade\" }),\n  eventType: text(\"event_type\").notNull(), // answer.created, search.performed, etc.\n  payload: jsonb(\"payload\").notNull(),\n  sessionId: text(\"session_id\"),\n  environment: text(\"environment\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const integrationPermissions = pgTable(\"integration_permissions\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  integrationId: varchar(\"integration_id\").notNull().references(() => integrations.id, { onDelete: \"cascade\" }),\n  userId: varchar(\"user_id\").references(() => users.id, { onDelete: \"cascade\" }),\n  role: text(\"role\").notNull(), // viewer, config, admin\n  grantedAt: timestamp(\"granted_at\").defaultNow(),\n  grantedBy: varchar(\"granted_by\").references(() => users.id),\n});\n\nexport const integrationVariants = pgTable(\"integration_variants\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  integrationId: varchar(\"integration_id\").notNull().references(() => integrations.id, { onDelete: \"cascade\" }),\n  name: text(\"name\").notNull(), // A, B, C or custom names\n  configVersionId: varchar(\"config_version_id\").references(() => integrationVersions.id),\n  trafficWeight: integer(\"traffic_weight\").default(0), // 0-100\n  isCanary: boolean(\"is_canary\").default(false),\n  canaryPercentage: integer(\"canary_percentage\").default(0),\n  isActive: boolean(\"is_active\").default(true),\n  metrics: jsonb(\"metrics\").default({}), // Store performance metrics\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const integrationAuditLogs = pgTable(\"integration_audit_logs\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  integrationId: varchar(\"integration_id\").notNull().references(() => integrations.id, { onDelete: \"cascade\" }),\n  action: text(\"action\").notNull(), // key_create, key_rotate, domain_add, config_publish, etc.\n  details: jsonb(\"details\"),\n  performedBy: varchar(\"performed_by\").references(() => users.id),\n  performedAt: timestamp(\"performed_at\").defaultNow(),\n});\n\n// Integration schemas\nexport const insertIntegrationSchema = createInsertSchema(integrations).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n  queriesLast7d: true,\n  queriesLast30d: true,\n  errorsLast7d: true,\n  errorsLast30d: true,\n  lastPublish: true,\n}).extend({\n  publicId: z.string().min(1, \"Public ID is required\"),\n});\n\nexport const insertIntegrationKeySchema = createInsertSchema(integrationKeys).omit({\n  id: true,\n  createdAt: true,\n  lastUsedAt: true,\n  keyHash: true,\n});\n\nexport const insertIntegrationDomainSchema = createInsertSchema(integrationDomains).omit({\n  id: true,\n  addedAt: true,\n});\n\nexport const insertIntegrationWebhookSchema = createInsertSchema(integrationWebhooks).omit({\n  id: true,\n  createdAt: true,\n  lastDelivery: true,\n  secretHash: true,\n});\n\nexport const insertIntegrationVariantSchema = createInsertSchema(integrationVariants).omit({\n  id: true,\n  createdAt: true,\n}).extend({\n  trafficWeight: z.number().min(0).max(100).optional(),\n  canaryPercentage: z.number().min(0).max(100).optional(),\n});\n\nexport type InsertIntegration = z.infer<typeof insertIntegrationSchema>;\nexport type Integration = typeof integrations.$inferSelect;\nexport type InsertIntegrationKey = z.infer<typeof insertIntegrationKeySchema>;\nexport type IntegrationKey = typeof integrationKeys.$inferSelect;\nexport type InsertIntegrationDomain = z.infer<typeof insertIntegrationDomainSchema>;\nexport type IntegrationDomain = typeof integrationDomains.$inferSelect;\nexport type InsertIntegrationWebhook = z.infer<typeof insertIntegrationWebhookSchema>;\nexport type IntegrationWebhook = typeof integrationWebhooks.$inferSelect;\nexport type InsertIntegrationVariant = z.infer<typeof insertIntegrationVariantSchema>;\nexport type IntegrationVariant = typeof integrationVariants.$inferSelect;\nexport type IntegrationVersion = typeof integrationVersions.$inferSelect;\nexport type IntegrationEventLog = typeof integrationEventLogs.$inferSelect;\nexport type IntegrationPermission = typeof integrationPermissions.$inferSelect;\nexport type IntegrationAuditLog = typeof integrationAuditLogs.$inferSelect;\n","size_bytes":8419},"client/src/App.tsx":{"content":"import { Switch, Route } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { SidebarProvider, SidebarTrigger } from \"@/components/ui/sidebar\";\nimport { ThemeProvider } from \"@/contexts/ThemeContext\";\nimport { ThemeToggle } from \"@/components/ThemeToggle\";\nimport { AppSidebar } from \"@/components/AppSidebar\";\nimport { EmbeddableWidget } from \"@/components/EmbeddableWidget\";\nimport { CommandPalette } from \"@/components/CommandPalette\";\nimport { NotificationInbox } from \"@/components/NotificationInbox\";\nimport { HelpSystem } from \"@/components/HelpSystem\";\nimport { OnboardingTour } from \"@/components/OnboardingTour\";\nimport { UserDropdown } from \"@/components/UserDropdown\";\nimport { useOnboarding } from \"@/hooks/useOnboarding\";\nimport { Bell, HelpCircle, Search } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { NotFound } from \"@/pages/ErrorPages\";\nimport Overview from \"@/pages/Overview\";\nimport Crawl from \"@/pages/Crawl\";\nimport Documents from \"@/pages/Documents\";\nimport Analytics from \"@/pages/Analytics\";\nimport Feedback from \"@/pages/Feedback\";\nimport RAGTuning from \"@/pages/RAGTuning\";\nimport Settings from \"@/pages/Settings\";\nimport Integrations from \"@/pages/Integrations\";\nimport Login from \"@/pages/Login\";\nimport Onboarding from \"@/pages/Onboarding\";\nimport Profile from \"@/pages/Profile\";\nimport { useState } from \"react\";\n\nfunction DashboardLayout({ children }: { children: React.ReactNode }) {\n  const [widgetOpen, setWidgetOpen] = useState(false);\n  const [commandPaletteOpen, setCommandPaletteOpen] = useState(false);\n  const [notificationsOpen, setNotificationsOpen] = useState(false);\n  const [helpOpen, setHelpOpen] = useState(false);\n  const { isTourActive, completeTour, skipTour } = useOnboarding();\n  \n  const style = {\n    \"--sidebar-width\": \"20rem\",\n    \"--sidebar-width-icon\": \"4rem\",\n  };\n\n  return (\n    <SidebarProvider style={style as React.CSSProperties}>\n      <div className=\"flex h-screen w-full\">\n        <AppSidebar data-testid=\"sidebar\" />\n        <div className=\"flex flex-col flex-1\">\n          <header className=\"flex items-center justify-between p-4 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\n            <div className=\"flex items-center gap-2\">\n              <SidebarTrigger data-testid=\"button-sidebar-toggle\" />\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={() => setCommandPaletteOpen(true)}\n                data-testid=\"button-search\"\n                className=\"text-muted-foreground\"\n              >\n                <Search className=\"h-4 w-4 mr-2\" />\n                <span className=\"hidden sm:inline\">Search</span>\n                <kbd className=\"ml-2 pointer-events-none hidden sm:inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100\">\n                  <span className=\"text-xs\">⌘</span>K\n                </kbd>\n              </Button>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={() => setNotificationsOpen(true)}\n                data-testid=\"button-notifications\"\n                className=\"relative\"\n              >\n                <Bell className=\"h-4 w-4\" />\n                <Badge\n                  variant=\"destructive\"\n                  className=\"absolute -top-1 -right-1 h-5 w-5 p-0 text-xs flex items-center justify-center\"\n                >\n                  3\n                </Badge>\n              </Button>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={() => setHelpOpen(true)}\n                data-testid=\"button-help\"\n              >\n                <HelpCircle className=\"h-4 w-4\" />\n              </Button>\n              <ThemeToggle />\n              <UserDropdown />\n            </div>\n          </header>\n          <main className=\"flex-1 overflow-auto p-6 bg-background\">\n            {children}\n          </main>\n        </div>\n      </div>\n      \n      {/* Demo Widget - shows the embeddable widget */}\n      <EmbeddableWidget\n        isOpen={widgetOpen}\n        onToggle={() => setWidgetOpen(!widgetOpen)}\n        title=\"RAGSuite Assistant\"\n        showPoweredBy={true}\n      />\n      \n      {/* Global Components */}\n      <CommandPalette\n        open={commandPaletteOpen}\n        onOpenChange={setCommandPaletteOpen}\n      />\n      <NotificationInbox\n        open={notificationsOpen}\n        onOpenChange={setNotificationsOpen}\n      />\n      <HelpSystem\n        open={helpOpen}\n        onOpenChange={setHelpOpen}\n      />\n      \n      {/* Onboarding Tour */}\n      <OnboardingTour\n        isActive={isTourActive}\n        onComplete={completeTour}\n        onClose={skipTour}\n      />\n    </SidebarProvider>\n  );\n}\n\nfunction Router() {\n  return (\n    <Switch>\n      <Route path=\"/login\" component={Login} />\n      <Route path=\"/onboarding\" component={Onboarding} />\n      <Route path=\"/\" nest>\n        <DashboardLayout>\n          <Switch>\n            <Route path=\"/\" component={Overview} />\n            <Route path=\"/crawl\" component={Crawl} />\n            <Route path=\"/rag-tuning\" component={RAGTuning} />\n            <Route path=\"/documents\" component={Documents} />\n            <Route path=\"/analytics\" component={Analytics} />\n            <Route path=\"/feedback\" component={Feedback} />\n            <Route path=\"/integrations\" component={Integrations} />\n            <Route path=\"/profile\" component={Profile} />\n            <Route path=\"/settings\" component={Settings} />\n            <Route path=\"/api-keys\" component={Settings} />\n            <Route path=\"/system-health\" component={Settings} />\n            <Route component={NotFound} />\n          </Switch>\n        </DashboardLayout>\n      </Route>\n    </Switch>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <ThemeProvider>\n        <TooltipProvider>\n          <Router />\n          <Toaster />\n        </TooltipProvider>\n      </ThemeProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;","size_bytes":6447},"client/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n/* LIGHT MODE */\n:root {\n  --button-outline: rgba(0,0,0, .10);\n  --badge-outline: rgba(0,0,0, .05);\n\n  /* Automatic computation of border around primary / danger buttons */\n  --opaque-button-border-intensity: -8; /* In terms of percentages */\n\n  /* Backgrounds applied on top of other backgrounds when hovered/active */\n  --elevate-1: rgba(0,0,0, .03);\n  --elevate-2: rgba(0,0,0, .08);\n\n  --background: 0 0% 100%;\n\n  --foreground: 222 84% 5%;\n\n  --border: 220 13% 91%;\n\n  --card: 220 14% 96%;\n\n  --card-foreground: 222 84% 5%;\n\n  --card-border: 220 13% 88%;\n\n  --sidebar: 220 14% 93%;\n\n  --sidebar-foreground: 222 84% 5%;\n\n  --sidebar-border: 220 13% 85%;\n\n  --sidebar-primary: 217 91% 60%;\n\n  --sidebar-primary-foreground: 0 0% 100%;\n\n  --sidebar-accent: 220 14% 88%;\n\n  --sidebar-accent-foreground: 222 84% 5%;\n\n  --sidebar-ring: 217 91% 60%;\n\n  --popover: 220 14% 90%;\n\n  --popover-foreground: 222 84% 5%;\n\n  --popover-border: 220 13% 82%;\n\n  --primary: 217 91% 60%;\n\n  --primary-foreground: 0 0% 100%;\n\n  --secondary: 220 13% 85%;\n\n  --secondary-foreground: 222 84% 5%;\n\n  --muted: 220 14% 88%;\n\n  --muted-foreground: 220 8% 46%;\n\n  --accent: 220 13% 85%;\n\n  --accent-foreground: 222 84% 5%;\n\n  --destructive: 0 72% 51%;\n\n  --destructive-foreground: 0 0% 100%;\n\n  --input: 220 13% 82%;\n  --ring: 217 91% 60%;\n  --chart-1: 217 91% 55%;\n  --chart-2: 142 76% 42%;\n  --chart-3: 38 92% 45%;\n  --chart-4: 0 72% 46%;\n  --chart-5: 199 89% 43%;\n\n  --font-sans: 'Inter', system-ui, -apple-system, sans-serif;\n  --font-serif: Georgia, serif;\n  --font-mono: Menlo, monospace;\n  --radius: .5rem; /* 8px */\n  --shadow-2xs: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00);\n  --shadow-xs: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00);\n  --shadow-sm: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00), 0px 1px 2px -1px hsl(202.8169 89.1213% 53.1373% / 0.00);\n  --shadow: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00), 0px 1px 2px -1px hsl(202.8169 89.1213% 53.1373% / 0.00);\n  --shadow-md: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00), 0px 2px 4px -1px hsl(202.8169 89.1213% 53.1373% / 0.00);\n  --shadow-lg: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00), 0px 4px 6px -1px hsl(202.8169 89.1213% 53.1373% / 0.00);\n  --shadow-xl: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00), 0px 8px 10px -1px hsl(202.8169 89.1213% 53.1373% / 0.00);\n  --shadow-2xl: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00);\n  --tracking-normal: 0em;\n  --spacing: 0.25rem;\n\n  /* Automatically computed borders - intensity can be controlled by the user by the --opaque-button-border-intensity setting */\n\n  /* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n.dark {\n  --button-outline: rgba(255,255,255, .10);\n  --badge-outline: rgba(255,255,255, .05);\n\n  --opaque-button-border-intensity: 9;  /* In terms of percentages */\n\n  /* Backgrounds applied on top of other backgrounds when hovered/active */\n  --elevate-1: rgba(255,255,255, .04);\n  --elevate-2: rgba(255,255,255, .09);\n\n  --background: 222 84% 5%;\n\n  --foreground: 220 13% 91%;\n\n  --border: 222 84% 11%;\n\n  --card: 222 84% 11%;\n\n  --card-foreground: 220 13% 91%;\n\n  --card-border: 222 84% 16%;\n\n  --sidebar: 222 84% 8%;\n\n  --sidebar-foreground: 220 13% 91%;\n\n  --sidebar-border: 222 84% 14%;\n\n  --sidebar-primary: 217 91% 60%;\n\n  --sidebar-primary-foreground: 0 0% 100%;\n\n  --sidebar-accent: 222 84% 14%;\n\n  --sidebar-accent-foreground: 220 13% 91%;\n\n  --sidebar-ring: 217 91% 60%;\n\n  --popover: 222 84% 14%;\n\n  --popover-foreground: 220 13% 91%;\n\n  --popover-border: 222 84% 18%;\n\n  --primary: 217 91% 60%;\n\n  --primary-foreground: 0 0% 100%;\n\n  --secondary: 222 84% 16%;\n\n  --secondary-foreground: 220 13% 91%;\n\n  --muted: 222 84% 16%;\n\n  --muted-foreground: 220 8% 54%;\n\n  --accent: 222 5% 18%;\n\n  --accent-foreground: 220 13% 91%;\n\n  --destructive: 0 72% 51%;\n\n  --destructive-foreground: 0 0% 100%;\n\n  /* Used as the border around inputs. Dark mode: Should be a border that is light enough to have high contrast when rendered on a --card background. More contrast than standard --border */\n  --input: 222 84% 18%;\n  --ring: 217 91% 60%;\n  --chart-1: 217 91% 65%;\n  --chart-2: 142 76% 57%;\n  --chart-3: 38 92% 60%;\n  --chart-4: 0 72% 61%;\n  --chart-5: 199 89% 58%;\n\n  --shadow-2xs: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00);\n  --shadow-xs: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00);\n  --shadow-sm: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00), 0px 1px 2px -1px hsl(202.8169 89.1213% 53.1373% / 0.00);\n  --shadow: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00), 0px 1px 2px -1px hsl(202.8169 89.1213% 53.1373% / 0.00);\n  --shadow-md: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00), 0px 2px 4px -1px hsl(202.8169 89.1213% 53.1373% / 0.00);\n  --shadow-lg: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00), 0px 4px 6px -1px hsl(202.8169 89.1213% 53.1373% / 0.00);\n  --shadow-xl: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00), 0px 8px 10px -1px hsl(202.8169 89.1213% 53.1373% / 0.00);\n  --shadow-2xl: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00);\n\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n  }\n}\n\n/**\n * Using the elevate system.\n * Automatic contrast adjustment.\n *\n * <element className=\"hover-elevate\" />\n * <element className=\"active-elevate-2\" />\n *\n * // Using the tailwind utility when a data attribute is \"on\"\n * <element className=\"toggle-elevate data-[state=on]:toggle-elevated\" />\n * // Or manually controlling the toggle state\n * <element className=\"toggle-elevate toggle-elevated\" />\n *\n * Elevation systems have to handle many states.\n * - not-hovered, vs. hovered vs. active  (three mutually exclusive states)\n * - toggled or not\n * - focused or not (this is not handled with these utilities)\n *\n * Even without handling focused or not, this is six possible combinations that\n * need to be distinguished from eachother visually.\n */\n@layer utilities {\n\n  /* Hide ugly search cancel button in Chrome until we can style it properly */\n  input[type=\"search\"]::-webkit-search-cancel-button {\n    @apply hidden;\n  }\n\n  /* Placeholder styling for contentEditable div */\n  [contenteditable][data-placeholder]:empty::before {\n    content: attr(data-placeholder);\n    color: hsl(var(--muted-foreground));\n    pointer-events: none;\n  }\n\n  /* .no-default-hover-elevate/no-default-active-elevate is an escape hatch so consumers of\n   * buttons/badges can remove the automatic brightness adjustment on interactions\n   * and program their own. */\n  .no-default-hover-elevate {}\n\n  .no-default-active-elevate {}\n\n\n  /**\n   * Toggleable backgrounds go behind the content. Hoverable/active goes on top.\n   * This way they can stack/compound. Both will overlap the parent's borders!\n   * So borders will be automatically adjusted both on toggle, and hover/active,\n   * and they will be compounded.\n   */\n  .toggle-elevate::before,\n  .toggle-elevate-2::before {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: -1;\n    /* sits behind content but above backdrop */\n  }\n\n  .toggle-elevate.toggle-elevated::before {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.toggle-elevate::before {\n    inset: -1px;\n  }\n\n  /* Does not work on elements with overflow:hidden! */\n  .hover-elevate:not(.no-default-hover-elevate),\n  .active-elevate:not(.no-default-active-elevate),\n  .hover-elevate-2:not(.no-default-hover-elevate),\n  .active-elevate-2:not(.no-default-active-elevate) {\n    position: relative;\n    z-index: 0;\n  }\n\n  .hover-elevate:not(.no-default-hover-elevate)::after,\n  .active-elevate:not(.no-default-active-elevate)::after,\n  .hover-elevate-2:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:not(.no-default-active-elevate)::after {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: 999;\n    /* sits in front of content */\n  }\n\n  .hover-elevate:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-1);\n  }\n\n  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate-2:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate-2:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after {\n    inset: -1px;\n  }\n}","size_bytes":10451},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","size_bytes":157},"client/src/components/AppSidebar.tsx":{"content":"import {\n  BarChart3,\n  Bot,\n  Database,\n  FileText,\n  Home,\n  MessageSquare,\n  Search,\n  Settings,\n  Sliders,\n  Puzzle,\n} from \"lucide-react\";\nimport { Link, useLocation } from \"wouter\";\nimport {\n  Sidebar,\n  SidebarContent,\n  SidebarGroup,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarMenu,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarHeader,\n  SidebarFooter,\n} from \"@/components/ui/sidebar\";\nimport { Badge } from \"@/components/ui/badge\";\n\nconst menuItems = [\n  {\n    title: \"Overview\",\n    url: \"/\",\n    icon: Home,\n  },\n  {\n    title: \"Crawl\",\n    url: \"/crawl\",\n    icon: Search,\n  },\n  {\n    title: \"Documents\",\n    url: \"/documents\",\n    icon: FileText,\n  },\n  {\n    title: \"RAG Tuning\",\n    url: \"/rag-tuning\",\n    icon: Bot,\n  },\n  {\n    title: \"Analytics\",\n    url: \"/analytics\",\n    icon: BarChart3,\n  },\n  {\n    title: \"Feedback\",\n    url: \"/feedback\",\n    icon: MessageSquare,\n  },\n  {\n    title: \"Integrations\",\n    url: \"/integrations\",\n    icon: Puzzle,\n  },\n];\n\nconst settingsItems = [\n  {\n    title: \"Settings\",\n    url: \"/settings\",\n    icon: Settings,\n  },\n  {\n    title: \"API Keys\",\n    url: \"/api-keys\",\n    icon: Database,\n  },\n  {\n    title: \"System Health\",\n    url: \"/system-health\",\n    icon: Sliders,\n  },\n];\n\nexport function AppSidebar() {\n  const [location] = useLocation();\n\n  return (\n    <Sidebar>\n      <SidebarHeader className=\"px-6 py-4\">\n        <div className=\"flex items-center gap-2\">\n          <Bot className=\"h-6 w-6 text-primary\" />\n          <span className=\"font-semibold text-lg\">RAGSuite</span>\n        </div>\n      </SidebarHeader>\n\n      <SidebarContent>\n        <SidebarGroup>\n          <SidebarGroupLabel>Application</SidebarGroupLabel>\n          <SidebarGroupContent>\n            <SidebarMenu>\n              {menuItems.map((item) => (\n                <SidebarMenuItem key={item.title}>\n                  <SidebarMenuButton\n                    asChild\n                    isActive={location === item.url}\n                    data-testid={`link-${item.title.toLowerCase().replace(' ', '-')}`}\n                  >\n                    <Link href={item.url}>\n                      <item.icon className=\"h-4 w-4\" />\n                      <span>{item.title}</span>\n                    </Link>\n                  </SidebarMenuButton>\n                </SidebarMenuItem>\n              ))}\n            </SidebarMenu>\n          </SidebarGroupContent>\n        </SidebarGroup>\n\n        <SidebarGroup>\n          <SidebarGroupLabel>Management</SidebarGroupLabel>\n          <SidebarGroupContent>\n            <SidebarMenu>\n              {settingsItems.map((item) => (\n                <SidebarMenuItem key={item.title}>\n                  <SidebarMenuButton\n                    asChild\n                    isActive={location === item.url}\n                    data-testid={`link-${item.title.toLowerCase().replace(' ', '-')}`}\n                  >\n                    <Link href={item.url}>\n                      <item.icon className=\"h-4 w-4\" />\n                      <span>{item.title}</span>\n                    </Link>\n                  </SidebarMenuButton>\n                </SidebarMenuItem>\n              ))}\n            </SidebarMenu>\n          </SidebarGroupContent>\n        </SidebarGroup>\n      </SidebarContent>\n\n      <SidebarFooter className=\"px-6 py-4\">\n        <div className=\"flex items-center gap-2 text-xs text-muted-foreground\">\n          <Badge variant=\"outline\" className=\"text-xs\">v1.0.0</Badge>\n        </div>\n      </SidebarFooter>\n    </Sidebar>\n  );\n}","size_bytes":3521},"client/src/components/AuditLog.tsx":{"content":"import { useState } from \"react\";\nimport { History, Filter, ExternalLink, User, Settings, Database, Key, Globe, FileText } from \"lucide-react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Input } from \"@/components/ui/input\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\n\ninterface AuditEntry {\n  id: string;\n  timestamp: Date;\n  actor: {\n    id: string;\n    name: string;\n    email: string;\n    type: \"user\" | \"system\" | \"api\";\n  };\n  action: string;\n  entity: {\n    type: string;\n    id: string;\n    name?: string;\n  };\n  summary: string;\n  metadata: Record<string, any>;\n  resourceUrl?: string;\n  ipAddress?: string;\n  userAgent?: string;\n}\n\n// todo: remove mock functionality\nconst mockAuditEntries: AuditEntry[] = [\n  {\n    id: \"audit-001\",\n    timestamp: new Date(Date.now() - 5 * 60 * 1000),\n    actor: {\n      id: \"user-123\",\n      name: \"John Doe\",\n      email: \"john@company.com\",\n      type: \"user\",\n    },\n    action: \"config.update\",\n    entity: {\n      type: \"integration\",\n      id: \"int-456\",\n      name: \"Documentation Widget\",\n    },\n    summary: \"Updated RAG configuration for Documentation Widget\",\n    metadata: {\n      changes: [\"topK: 5 → 8\", \"temperature: 0.7 → 0.5\"],\n      version: \"v2.1.3\",\n    },\n    resourceUrl: \"/integrations/int-456\",\n    ipAddress: \"192.168.1.100\",\n    userAgent: \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)\",\n  },\n  {\n    id: \"audit-002\",\n    timestamp: new Date(Date.now() - 15 * 60 * 1000),\n    actor: {\n      id: \"api-789\",\n      name: \"Production API\",\n      email: \"api@company.com\",\n      type: \"api\",\n    },\n    action: \"key.create\",\n    entity: {\n      type: \"api_key\",\n      id: \"key-789\",\n      name: \"Mobile App Key\",\n    },\n    summary: \"Created new API key for Mobile App integration\",\n    metadata: {\n      rateLimit: 1000,\n      environment: \"production\",\n      permissions: [\"read\", \"write\"],\n    },\n    resourceUrl: \"/settings?tab=api-keys\",\n    ipAddress: \"10.0.0.15\",\n  },\n  {\n    id: \"audit-003\",\n    timestamp: new Date(Date.now() - 30 * 60 * 1000),\n    actor: {\n      id: \"user-456\",\n      name: \"Jane Smith\",\n      email: \"jane@company.com\",\n      type: \"user\",\n    },\n    action: \"source.create\",\n    entity: {\n      type: \"crawl_source\",\n      id: \"src-123\",\n      name: \"API Documentation\",\n    },\n    summary: \"Added new crawl source for API Documentation\",\n    metadata: {\n      url: \"https://api.company.com/docs\",\n      depth: 3,\n      cadence: \"daily\",\n    },\n    resourceUrl: \"/crawl/sources/src-123\",\n    ipAddress: \"203.0.113.42\",\n  },\n  {\n    id: \"audit-004\",\n    timestamp: new Date(Date.now() - 1 * 60 * 60 * 1000),\n    actor: {\n      id: \"system\",\n      name: \"System\",\n      email: \"system@ragsuite.com\",\n      type: \"system\",\n    },\n    action: \"crawl.complete\",\n    entity: {\n      type: \"crawl_job\",\n      id: \"job-456\",\n      name: \"Scheduled Crawl\",\n    },\n    summary: \"Completed scheduled crawl job for docs.company.com\",\n    metadata: {\n      pagesIndexed: 142,\n      duration: \"3m 42s\",\n      errors: 0,\n    },\n    resourceUrl: \"/crawl/jobs/job-456\",\n  },\n  {\n    id: \"audit-005\",\n    timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000),\n    actor: {\n      id: \"user-123\",\n      name: \"John Doe\",\n      email: \"john@company.com\",\n      type: \"user\",\n    },\n    action: \"integration.publish\",\n    entity: {\n      type: \"integration\",\n      id: \"int-456\",\n      name: \"Documentation Widget\",\n    },\n    summary: \"Published integration v2.1 to production\",\n    metadata: {\n      version: \"v2.1\",\n      environment: \"production\",\n      previousVersion: \"v2.0\",\n    },\n    resourceUrl: \"/integrations/int-456\",\n    ipAddress: \"192.168.1.100\",\n  },\n];\n\nexport function AuditLog() {\n  const [entries] = useState(mockAuditEntries);\n  const [actorFilter, setActorFilter] = useState(\"all\");\n  const [entityFilter, setEntityFilter] = useState(\"all\");\n  const [actionFilter, setActionFilter] = useState(\"all\");\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const getIcon = (entityType: string) => {\n    switch (entityType) {\n      case \"integration\":\n        return <Globe className=\"h-4 w-4\" />;\n      case \"api_key\":\n        return <Key className=\"h-4 w-4\" />;\n      case \"crawl_source\":\n        return <Database className=\"h-4 w-4\" />;\n      case \"crawl_job\":\n        return <Settings className=\"h-4 w-4\" />;\n      case \"document\":\n        return <FileText className=\"h-4 w-4\" />;\n      case \"user\":\n        return <User className=\"h-4 w-4\" />;\n      default:\n        return <History className=\"h-4 w-4\" />;\n    }\n  };\n\n  const getActorBadge = (actorType: string) => {\n    switch (actorType) {\n      case \"user\":\n        return <Badge variant=\"default\">User</Badge>;\n      case \"api\":\n        return <Badge variant=\"secondary\">API</Badge>;\n      case \"system\":\n        return <Badge variant=\"outline\">System</Badge>;\n      default:\n        return <Badge variant=\"outline\">{actorType}</Badge>;\n    }\n  };\n\n  const getActionColor = (action: string) => {\n    if (action.includes(\"create\") || action.includes(\"publish\")) return \"text-green-600\";\n    if (action.includes(\"delete\") || action.includes(\"revoke\")) return \"text-red-600\";\n    if (action.includes(\"update\") || action.includes(\"modify\")) return \"text-blue-600\";\n    return \"text-muted-foreground\";\n  };\n\n  const filteredEntries = entries.filter(entry => {\n    if (actorFilter !== \"all\" && entry.actor.type !== actorFilter) return false;\n    if (entityFilter !== \"all\" && entry.entity.type !== entityFilter) return false;\n    if (actionFilter !== \"all\" && !entry.action.includes(actionFilter)) return false;\n    if (searchQuery && !entry.summary.toLowerCase().includes(searchQuery.toLowerCase()) &&\n        !entry.actor.name.toLowerCase().includes(searchQuery.toLowerCase()) &&\n        !entry.entity.name?.toLowerCase().includes(searchQuery.toLowerCase())) return false;\n    return true;\n  });\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold tracking-tight\">Audit Log</h1>\n          <p className=\"text-muted-foreground\">\n            Chronological record of all system activities and changes\n          </p>\n        </div>\n      </div>\n\n      {/* Filters */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Filter className=\"h-5 w-5\" />\n            Filters\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid gap-4 md:grid-cols-5\">\n            <div>\n              <Input\n                placeholder=\"Search activities...\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                data-testid=\"input-search-audit\"\n              />\n            </div>\n\n            <Select value={actorFilter} onValueChange={setActorFilter}>\n              <SelectTrigger data-testid=\"select-actor-filter\">\n                <SelectValue placeholder=\"Actor\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"all\">All Actors</SelectItem>\n                <SelectItem value=\"user\">Users</SelectItem>\n                <SelectItem value=\"api\">API</SelectItem>\n                <SelectItem value=\"system\">System</SelectItem>\n              </SelectContent>\n            </Select>\n\n            <Select value={entityFilter} onValueChange={setEntityFilter}>\n              <SelectTrigger data-testid=\"select-entity-filter\">\n                <SelectValue placeholder=\"Entity\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"all\">All Entities</SelectItem>\n                <SelectItem value=\"integration\">Integrations</SelectItem>\n                <SelectItem value=\"api_key\">API Keys</SelectItem>\n                <SelectItem value=\"crawl_source\">Crawl Sources</SelectItem>\n                <SelectItem value=\"crawl_job\">Crawl Jobs</SelectItem>\n                <SelectItem value=\"document\">Documents</SelectItem>\n              </SelectContent>\n            </Select>\n\n            <Select value={actionFilter} onValueChange={setActionFilter}>\n              <SelectTrigger data-testid=\"select-action-filter\">\n                <SelectValue placeholder=\"Action\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"all\">All Actions</SelectItem>\n                <SelectItem value=\"create\">Create</SelectItem>\n                <SelectItem value=\"update\">Update</SelectItem>\n                <SelectItem value=\"delete\">Delete</SelectItem>\n                <SelectItem value=\"publish\">Publish</SelectItem>\n                <SelectItem value=\"crawl\">Crawl</SelectItem>\n              </SelectContent>\n            </Select>\n\n            <Button\n              variant=\"outline\"\n              onClick={() => {\n                setActorFilter(\"all\");\n                setEntityFilter(\"all\");\n                setActionFilter(\"all\");\n                setSearchQuery(\"\");\n              }}\n              data-testid=\"button-clear-filters\"\n            >\n              Clear Filters\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Audit Entries Table */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <History className=\"h-5 w-5\" />\n            Activity Log ({filteredEntries.length} entries)\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead>Timestamp</TableHead>\n                <TableHead>Actor</TableHead>\n                <TableHead>Action</TableHead>\n                <TableHead>Entity</TableHead>\n                <TableHead>Summary</TableHead>\n                <TableHead className=\"w-[50px]\"></TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {filteredEntries.map((entry) => (\n                <TableRow\n                  key={entry.id}\n                  className=\"hover-elevate cursor-pointer\"\n                  data-testid={`audit-entry-${entry.id}`}\n                >\n                  <TableCell className=\"font-mono text-sm\">\n                    <div>\n                      <div>{entry.timestamp.toLocaleDateString()}</div>\n                      <div className=\"text-muted-foreground\">\n                        {entry.timestamp.toLocaleTimeString()}\n                      </div>\n                    </div>\n                  </TableCell>\n                  <TableCell>\n                    <div className=\"flex items-center gap-2\">\n                      <div>\n                        <div className=\"font-medium\">{entry.actor.name}</div>\n                        <div className=\"text-sm text-muted-foreground\">{entry.actor.email}</div>\n                      </div>\n                      {getActorBadge(entry.actor.type)}\n                    </div>\n                  </TableCell>\n                  <TableCell>\n                    <span className={`font-medium ${getActionColor(entry.action)}`}>\n                      {entry.action}\n                    </span>\n                  </TableCell>\n                  <TableCell>\n                    <div className=\"flex items-center gap-2\">\n                      {getIcon(entry.entity.type)}\n                      <div>\n                        <div className=\"font-medium\">{entry.entity.name || entry.entity.id}</div>\n                        <div className=\"text-sm text-muted-foreground capitalize\">\n                          {entry.entity.type.replace(\"_\", \" \")}\n                        </div>\n                      </div>\n                    </div>\n                  </TableCell>\n                  <TableCell>\n                    <div className=\"max-w-[300px]\">\n                      <p className=\"line-clamp-2\">{entry.summary}</p>\n                      {entry.metadata && Object.keys(entry.metadata).length > 0 && (\n                        <div className=\"mt-1 flex flex-wrap gap-1\">\n                          {Object.entries(entry.metadata).slice(0, 2).map(([key, value]) => (\n                            <Badge key={key} variant=\"outline\" className=\"text-xs\">\n                              {key}: {value?.toString()}\n                            </Badge>\n                          ))}\n                          {Object.keys(entry.metadata).length > 2 && (\n                            <Badge variant=\"outline\" className=\"text-xs\">\n                              +{Object.keys(entry.metadata).length - 2} more\n                            </Badge>\n                          )}\n                        </div>\n                      )}\n                    </div>\n                  </TableCell>\n                  <TableCell>\n                    {entry.resourceUrl && (\n                      <Button\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          console.log(\"Navigate to:\", entry.resourceUrl);\n                        }}\n                        data-testid={`button-view-resource-${entry.id}`}\n                      >\n                        <ExternalLink className=\"h-4 w-4\" />\n                      </Button>\n                    )}\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n\n          {filteredEntries.length === 0 && (\n            <div className=\"text-center py-8\">\n              <History className=\"h-8 w-8 text-muted-foreground mx-auto mb-2\" />\n              <p className=\"text-sm text-muted-foreground\">No audit entries found</p>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}","size_bytes":14088},"client/src/components/ChatMessage.tsx":{"content":"import * as React from \"react\";\nimport { useState, useCallback } from \"react\";\nimport { Copy, ThumbsUp, ThumbsDown, User, Bot } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Card } from \"@/components/ui/card\";\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\n\ninterface Citation {\n  title: string;\n  url: string;\n  snippet: string;\n}\n\ninterface ChatMessageProps {\n  type: \"user\" | \"assistant\";\n  content: string;\n  citations?: Citation[];\n  timestamp?: Date;\n  showFeedback?: boolean;\n}\n\nexport const ChatMessage = React.memo(function ChatMessage({\n  type,\n  content,\n  citations = [],\n  timestamp,\n  showFeedback = false,\n}: ChatMessageProps) {\n  const [feedback, setFeedback] = useState<\"up\" | \"down\" | null>(null);\n  const [copied, setCopied] = useState(false);\n\n  const handleCopy = useCallback(() => {\n    navigator.clipboard.writeText(content);\n    setCopied(true);\n    setTimeout(() => setCopied(false), 2000);\n  }, [content]);\n\n  const handleFeedback = useCallback((type: \"up\" | \"down\") => {\n    setFeedback(feedback === type ? null : type);\n  }, [feedback]);\n\n  return (\n    <div\n      className={`flex gap-3 ${type === \"user\" ? \"justify-end\" : \"justify-start\"}`}\n      data-testid={`message-${type}`}\n    >\n      {type === \"assistant\" && (\n        <Avatar className=\"h-8 w-8 mt-1\">\n          <AvatarFallback className=\"bg-primary text-primary-foreground\">\n            <Bot className=\"h-4 w-4\" />\n          </AvatarFallback>\n        </Avatar>\n      )}\n\n      <div className={`max-w-[80%] ${type === \"user\" ? \"order-first\" : \"\"}`}>\n        <Card\n          className={`p-4 ${\n            type === \"user\"\n              ? \"bg-primary text-primary-foreground ml-auto\"\n              : \"bg-card\"\n          }`}\n        >\n          <div className=\"space-y-3\">\n            <div className=\"prose prose-sm max-w-none\">\n              <p className=\"whitespace-pre-wrap\">{content}</p>\n            </div>\n\n            {citations.length > 0 && (\n              <div className=\"space-y-2\">\n                <p className=\"text-xs font-medium opacity-70\">Sources:</p>\n                <div className=\"flex flex-wrap gap-1\">\n                  {citations.map((citation, index) => (\n                    <Badge\n                      key={index}\n                      variant=\"outline\"\n                      className=\"text-xs cursor-pointer hover-elevate\"\n                      onClick={() => {/* Citation clicked */}}\n                      data-testid={`citation-${index}`}\n                    >\n                      {citation.title}\n                    </Badge>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {type === \"assistant\" && (\n              <div className=\"flex items-center justify-between pt-2 border-t border-border/20\">\n                <div className=\"flex items-center gap-1\">\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    onClick={handleCopy}\n                    data-testid=\"button-copy\"\n                    className=\"h-8 px-2\"\n                  >\n                    <Copy className=\"h-3 w-3\" />\n                    {copied && <span className=\"ml-1 text-xs\">Copied!</span>}\n                  </Button>\n                </div>\n\n                {showFeedback && (\n                  <div className=\"flex items-center gap-1\">\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onClick={() => handleFeedback(\"up\")}\n                      data-testid=\"button-feedback-up\"\n                      className={`h-8 px-2 ${\n                        feedback === \"up\" ? \"bg-accent\" : \"\"\n                      }`}\n                    >\n                      <ThumbsUp className=\"h-3 w-3\" />\n                    </Button>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onClick={() => handleFeedback(\"down\")}\n                      data-testid=\"button-feedback-down\"\n                      className={`h-8 px-2 ${\n                        feedback === \"down\" ? \"bg-accent\" : \"\"\n                      }`}\n                    >\n                      <ThumbsDown className=\"h-3 w-3\" />\n                    </Button>\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n        </Card>\n\n        {timestamp && (\n          <p className=\"text-xs text-muted-foreground mt-1 px-1\">\n            {timestamp.toLocaleTimeString()}\n          </p>\n        )}\n      </div>\n\n      {type === \"user\" && (\n        <Avatar className=\"h-8 w-8 mt-1\">\n          <AvatarFallback className=\"bg-secondary\">\n            <User className=\"h-4 w-4\" />\n          </AvatarFallback>\n        </Avatar>\n      )}\n    </div>\n  );\n});","size_bytes":4871},"client/src/components/CommandPalette.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useLocation } from \"wouter\";\nimport {\n  Search,\n  Settings,\n  Plus,\n  FileText,\n  Activity,\n  Database,\n  MessageSquare,\n  BarChart3,\n  Users,\n  Key,\n  Globe,\n  Zap,\n  HelpCircle,\n  Bell,\n  History,\n} from \"lucide-react\";\nimport {\n  CommandDialog,\n  CommandEmpty,\n  CommandGroup,\n  CommandInput,\n  CommandItem,\n  CommandList,\n} from \"@/components/ui/command\";\n\ninterface CommandAction {\n  id: string;\n  title: string;\n  description?: string;\n  icon: React.ComponentType<{ className?: string }>;\n  action: () => void;\n  keywords?: string[];\n}\n\ninterface CommandPaletteProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n}\n\nexport function CommandPalette({ open, onOpenChange }: CommandPaletteProps) {\n  const [, setLocation] = useLocation();\n\n  const navigationCommands: CommandAction[] = [\n    {\n      id: \"nav-overview\",\n      title: \"Go to Overview\",\n      description: \"View dashboard and analytics\",\n      icon: BarChart3,\n      action: () => setLocation(\"/\"),\n      keywords: [\"dashboard\", \"home\", \"overview\"],\n    },\n    {\n      id: \"nav-crawl\",\n      title: \"Go to Crawl Sources\",\n      description: \"Manage crawl sources and jobs\",\n      icon: Globe,\n      action: () => setLocation(\"/crawl\"),\n      keywords: [\"crawl\", \"sources\", \"spider\"],\n    },\n    {\n      id: \"nav-documents\",\n      title: \"Go to Documents\",\n      description: \"Browse document library\",\n      icon: FileText,\n      action: () => setLocation(\"/documents\"),\n      keywords: [\"documents\", \"files\", \"library\"],\n    },\n    {\n      id: \"nav-rag-tuning\",\n      title: \"Go to RAG Tuning\",\n      description: \"Configure RAG parameters\",\n      icon: Zap,\n      action: () => setLocation(\"/rag-tuning\"),\n      keywords: [\"rag\", \"tuning\", \"playground\", \"ai\"],\n    },\n    {\n      id: \"nav-analytics\",\n      title: \"Go to Analytics\",\n      description: \"View performance metrics\",\n      icon: BarChart3,\n      action: () => setLocation(\"/analytics\"),\n      keywords: [\"analytics\", \"metrics\", \"performance\"],\n    },\n    {\n      id: \"nav-feedback\",\n      title: \"Go to Feedback\",\n      description: \"Review user feedback\",\n      icon: MessageSquare,\n      action: () => setLocation(\"/feedback\"),\n      keywords: [\"feedback\", \"reviews\", \"moderation\"],\n    },\n    {\n      id: \"nav-settings\",\n      title: \"Go to Settings\",\n      description: \"Configure organization settings\",\n      icon: Settings,\n      action: () => setLocation(\"/settings\"),\n      keywords: [\"settings\", \"configuration\", \"preferences\"],\n    },\n  ];\n\n  const actionCommands: CommandAction[] = [\n    {\n      id: \"create-source\",\n      title: \"Create Crawl Source\",\n      description: \"Add a new website to crawl\",\n      icon: Plus,\n      action: () => {\n        setLocation(\"/crawl\");\n        setTimeout(() => {\n          const addButton = document.querySelector('[data-testid=\"button-add-source\"]') as HTMLElement;\n          addButton?.click();\n        }, 100);\n      },\n      keywords: [\"create\", \"add\", \"new\", \"source\", \"crawl\"],\n    },\n    {\n      id: \"upload-document\",\n      title: \"Upload Documents\",\n      description: \"Upload files to the document library\",\n      icon: FileText,\n      action: () => {\n        setLocation(\"/documents\");\n        setTimeout(() => {\n          const uploadButton = document.querySelector('[data-testid=\"button-upload-document\"]') as HTMLElement;\n          uploadButton?.click();\n        }, 100);\n      },\n      keywords: [\"upload\", \"documents\", \"files\"],\n    },\n    {\n      id: \"create-api-key\",\n      title: \"Create API Key\",\n      description: \"Generate a new API key\",\n      icon: Key,\n      action: () => {\n        setLocation(\"/settings\");\n        setTimeout(() => {\n          const apiTab = document.querySelector('[data-testid=\"tab-api-keys\"]') as HTMLElement;\n          apiTab?.click();\n          setTimeout(() => {\n            const createButton = document.querySelector('[data-testid=\"button-create-api-key\"]') as HTMLElement;\n            createButton?.click();\n          }, 100);\n        }, 100);\n      },\n      keywords: [\"create\", \"api\", \"key\", \"token\"],\n    },\n    {\n      id: \"start-crawl\",\n      title: \"Start Manual Crawl\",\n      description: \"Trigger a crawl job manually\",\n      icon: Activity,\n      action: () => {\n        setLocation(\"/crawl\");\n        console.log(\"Start crawl action triggered\");\n      },\n      keywords: [\"start\", \"crawl\", \"manual\", \"trigger\"],\n    },\n    {\n      id: \"test-rag\",\n      title: \"Test RAG System\",\n      description: \"Open RAG tuning playground\",\n      icon: Zap,\n      action: () => setLocation(\"/rag-tuning\"),\n      keywords: [\"test\", \"rag\", \"playground\", \"query\"],\n    },\n  ];\n\n  const systemCommands: CommandAction[] = [\n    {\n      id: \"view-notifications\",\n      title: \"View Notifications\",\n      description: \"See system alerts and updates\",\n      icon: Bell,\n      action: () => console.log(\"Open notifications\"),\n      keywords: [\"notifications\", \"alerts\", \"inbox\"],\n    },\n    {\n      id: \"view-audit-log\",\n      title: \"View Audit Log\",\n      description: \"See system activity history\",\n      icon: History,\n      action: () => console.log(\"Open audit log\"),\n      keywords: [\"audit\", \"log\", \"history\", \"activity\"],\n    },\n    {\n      id: \"help-docs\",\n      title: \"Open Documentation\",\n      description: \"View help and documentation\",\n      icon: HelpCircle,\n      action: () => window.open(\"https://docs.ragsuite.com\", \"_blank\"),\n      keywords: [\"help\", \"docs\", \"documentation\", \"support\"],\n    },\n    {\n      id: \"system-health\",\n      title: \"Check System Health\",\n      description: \"View system status and health\",\n      icon: Activity,\n      action: () => {\n        setLocation(\"/settings\");\n        setTimeout(() => {\n          const healthTab = document.querySelector('[data-testid=\"tab-health\"]') as HTMLElement;\n          healthTab?.click();\n        }, 100);\n      },\n      keywords: [\"health\", \"status\", \"system\", \"monitoring\"],\n    },\n  ];\n\n  const allCommands = [...navigationCommands, ...actionCommands, ...systemCommands];\n\n  // Keyboard shortcut handling\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if ((e.metaKey || e.ctrlKey) && e.key === \"k\") {\n        e.preventDefault();\n        onOpenChange(!open);\n      }\n    };\n\n    document.addEventListener(\"keydown\", handleKeyDown);\n    return () => document.removeEventListener(\"keydown\", handleKeyDown);\n  }, [open, onOpenChange]);\n\n  const handleSelect = (commandId: string) => {\n    const command = allCommands.find(cmd => cmd.id === commandId);\n    if (command) {\n      command.action();\n      onOpenChange(false);\n    }\n  };\n\n  return (\n    <CommandDialog open={open} onOpenChange={onOpenChange}>\n      <CommandInput placeholder=\"Type a command or search...\" data-testid=\"command-input\" />\n      <CommandList>\n        <CommandEmpty>No results found.</CommandEmpty>\n        \n        <CommandGroup heading=\"Navigation\">\n          {navigationCommands.map((command) => (\n            <CommandItem\n              key={command.id}\n              value={`${command.title} ${command.description} ${command.keywords?.join(\" \") || \"\"}`}\n              onSelect={() => handleSelect(command.id)}\n              data-testid={`command-${command.id}`}\n            >\n              <command.icon className=\"mr-2 h-4 w-4\" />\n              <div>\n                <div>{command.title}</div>\n                {command.description && (\n                  <div className=\"text-sm text-muted-foreground\">{command.description}</div>\n                )}\n              </div>\n            </CommandItem>\n          ))}\n        </CommandGroup>\n\n        <CommandGroup heading=\"Actions\">\n          {actionCommands.map((command) => (\n            <CommandItem\n              key={command.id}\n              value={`${command.title} ${command.description} ${command.keywords?.join(\" \") || \"\"}`}\n              onSelect={() => handleSelect(command.id)}\n              data-testid={`command-${command.id}`}\n            >\n              <command.icon className=\"mr-2 h-4 w-4\" />\n              <div>\n                <div>{command.title}</div>\n                {command.description && (\n                  <div className=\"text-sm text-muted-foreground\">{command.description}</div>\n                )}\n              </div>\n            </CommandItem>\n          ))}\n        </CommandGroup>\n\n        <CommandGroup heading=\"System\">\n          {systemCommands.map((command) => (\n            <CommandItem\n              key={command.id}\n              value={`${command.title} ${command.description} ${command.keywords?.join(\" \") || \"\"}`}\n              onSelect={() => handleSelect(command.id)}\n              data-testid={`command-${command.id}`}\n            >\n              <command.icon className=\"mr-2 h-4 w-4\" />\n              <div>\n                <div>{command.title}</div>\n                {command.description && (\n                  <div className=\"text-sm text-muted-foreground\">{command.description}</div>\n                )}\n              </div>\n            </CommandItem>\n          ))}\n        </CommandGroup>\n      </CommandList>\n    </CommandDialog>\n  );\n}","size_bytes":9109},"client/src/components/CrawlSourceTable.tsx":{"content":"import { useState } from \"react\";\nimport { MoreHorizontal, Eye, Edit, Play, Pause } from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\n\ninterface CrawlSource {\n  id: string;\n  url: string;\n  depth: number;\n  cadence: \"Hourly\" | \"Daily\" | \"Weekly\";\n  headless: \"Auto\" | \"On\" | \"Off\";\n  status: \"Active\" | \"Paused\" | \"Error\";\n  lastCrawl: Date;\n  documents: number;\n}\n\ninterface CrawlSourceTableProps {\n  sources?: CrawlSource[];\n}\n\n// todo: remove mock functionality\nconst mockSources: CrawlSource[] = [\n  {\n    id: \"1\",\n    url: \"https://docs.company.com\",\n    depth: 3,\n    cadence: \"Daily\",\n    headless: \"Auto\",\n    status: \"Active\",\n    lastCrawl: new Date(Date.now() - 2 * 60 * 60 * 1000),\n    documents: 245,\n  },\n  {\n    id: \"2\",\n    url: \"https://help.company.com\",\n    depth: 2,\n    cadence: \"Weekly\",\n    headless: \"On\",\n    status: \"Active\",\n    lastCrawl: new Date(Date.now() - 6 * 60 * 60 * 1000),\n    documents: 89,\n  },\n  {\n    id: \"3\",\n    url: \"https://blog.company.com\",\n    depth: 1,\n    cadence: \"Daily\",\n    headless: \"Off\",\n    status: \"Error\",\n    lastCrawl: new Date(Date.now() - 24 * 60 * 60 * 1000),\n    documents: 156,\n  },\n];\n\nexport function CrawlSourceTable({ sources = mockSources }: CrawlSourceTableProps) {\n  const [selectedSources, setSelectedSources] = useState<string[]>([]);\n  const { toast } = useToast();\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case \"Active\":\n        return \"default\";\n      case \"Paused\":\n        return \"secondary\";\n      case \"Error\":\n        return \"destructive\";\n      default:\n        return \"secondary\";\n    }\n  };\n\n  const handleAction = (action: string, sourceId: string) => {\n    console.log(`${action} action for source:`, sourceId);\n    \n    switch (action) {\n      case \"preview\":\n        toast({\n          title: \"Preview Render\",\n          description: \"Opening preview window for source crawl simulation\",\n        });\n        break;\n      case \"edit\":\n        toast({\n          title: \"Edit Source\",\n          description: \"Opening edit form for source configuration\",\n        });\n        break;\n      case \"crawl\":\n        toast({\n          title: \"Crawl Started\",\n          description: \"Crawl job has been queued and will start shortly\",\n        });\n        break;\n      default:\n        console.log(\"Unknown action:\", action);\n    }\n  };\n\n  return (\n    <div className=\"rounded-md border\">\n      <Table>\n        <TableHeader>\n          <TableRow>\n            <TableHead>URL</TableHead>\n            <TableHead>Depth</TableHead>\n            <TableHead>Cadence</TableHead>\n            <TableHead>Headless</TableHead>\n            <TableHead>Status</TableHead>\n            <TableHead>Last Crawl</TableHead>\n            <TableHead>Documents</TableHead>\n            <TableHead className=\"w-[50px]\"></TableHead>\n          </TableRow>\n        </TableHeader>\n        <TableBody>\n          {sources.map((source) => (\n            <TableRow key={source.id} data-testid={`row-source-${source.id}`}>\n              <TableCell className=\"font-medium max-w-[200px] truncate\">\n                {source.url}\n              </TableCell>\n              <TableCell>{source.depth}</TableCell>\n              <TableCell>{source.cadence}</TableCell>\n              <TableCell>\n                <Badge variant=\"outline\" className=\"text-xs\">\n                  {source.headless}\n                </Badge>\n              </TableCell>\n              <TableCell>\n                <Badge variant={getStatusColor(source.status)} className=\"text-xs\">\n                  {source.status}\n                </Badge>\n              </TableCell>\n              <TableCell className=\"text-sm text-muted-foreground\">\n                {new Intl.RelativeTimeFormat(\"en\", { numeric: \"auto\" }).format(\n                  Math.floor((source.lastCrawl.getTime() - Date.now()) / (1000 * 60 * 60)),\n                  \"hour\"\n                )}\n              </TableCell>\n              <TableCell>{source.documents}</TableCell>\n              <TableCell>\n                <DropdownMenu>\n                  <DropdownMenuTrigger asChild>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      data-testid={`button-actions-${source.id}`}\n                    >\n                      <MoreHorizontal className=\"h-4 w-4\" />\n                    </Button>\n                  </DropdownMenuTrigger>\n                  <DropdownMenuContent align=\"end\">\n                    <DropdownMenuItem\n                      onClick={() => handleAction(\"preview\", source.id)}\n                      data-testid={`action-preview-${source.id}`}\n                    >\n                      <Eye className=\"h-4 w-4 mr-2\" />\n                      Preview Render\n                    </DropdownMenuItem>\n                    <DropdownMenuItem\n                      onClick={() => handleAction(\"edit\", source.id)}\n                      data-testid={`action-edit-${source.id}`}\n                    >\n                      <Edit className=\"h-4 w-4 mr-2\" />\n                      Edit\n                    </DropdownMenuItem>\n                    <DropdownMenuItem\n                      onClick={() => handleAction(\"crawl\", source.id)}\n                      data-testid={`action-crawl-${source.id}`}\n                    >\n                      <Play className=\"h-4 w-4 mr-2\" />\n                      Start Crawl\n                    </DropdownMenuItem>\n                  </DropdownMenuContent>\n                </DropdownMenu>\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </div>\n  );\n}","size_bytes":5968},"client/src/components/EmbeddableWidget.tsx":{"content":"import { useState } from \"react\";\nimport { MessageCircle, X, Minimize2, Search, MessageSquare, Zap } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { SearchBar } from \"./SearchBar\";\nimport { ChatMessage } from \"./ChatMessage\";\nimport { Badge } from \"@/components/ui/badge\";\n\ninterface Message {\n  type: \"user\" | \"assistant\";\n  content: string;\n  timestamp: Date;\n  citations?: { title: string; url: string; snippet: string }[];\n}\n\ninterface WidgetProps {\n  isOpen?: boolean;\n  onToggle?: () => void;\n  title?: string;\n  showPoweredBy?: boolean;\n}\n\nexport function EmbeddableWidget({\n  isOpen = false,\n  onToggle,\n  title = \"AI Assistant\",\n  showPoweredBy = true,\n}: WidgetProps) {\n  const [activeTab, setActiveTab] = useState(\"auto\");\n  const [messages, setMessages] = useState<Message[]>([\n    {\n      type: \"assistant\",\n      content: \"Hello! I can help you search for information or answer questions about your documentation. What would you like to know?\",\n      timestamp: new Date(),\n    },\n  ]);\n\n  const handleSearch = (query: string) => {\n    const userMessage: Message = {\n      type: \"user\",\n      content: query,\n      timestamp: new Date(),\n    };\n\n    const assistantMessage: Message = {\n      type: \"assistant\",\n      content: \"I found some relevant information about your query. Here are the key points from our documentation...\",\n      citations: [\n        { title: \"User Guide\", url: \"#\", snippet: \"Relevant information...\" },\n        { title: \"API Docs\", url: \"#\", snippet: \"Technical details...\" },\n      ],\n      timestamp: new Date(),\n    };\n\n    setMessages(prev => [...prev, userMessage, assistantMessage]);\n    // Widget search performed\n  };\n\n  if (!isOpen) {\n    return (\n      <Button\n        onClick={onToggle}\n        className=\"fixed bottom-6 right-6 h-14 w-14 rounded-full shadow-lg z-50\"\n        data-testid=\"button-widget-launcher\"\n      >\n        <MessageCircle className=\"h-6 w-6\" />\n        <span className=\"sr-only\">Open AI Assistant</span>\n      </Button>\n    );\n  }\n\n  return (\n    <Card className=\"fixed bottom-6 right-6 w-96 h-[600px] shadow-xl z-50 flex flex-col\">\n      <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-3\">\n        <CardTitle className=\"text-base font-medium\">{title}</CardTitle>\n        <div className=\"flex items-center gap-1\">\n          <Badge variant=\"outline\" className=\"text-xs\">\n            <div className=\"w-2 h-2 bg-green-500 rounded-full mr-1\" />\n            Online\n          </Badge>\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            onClick={onToggle}\n            data-testid=\"button-widget-close\"\n            className=\"h-8 w-8\"\n          >\n            <X className=\"h-4 w-4\" />\n          </Button>\n        </div>\n      </CardHeader>\n\n      <CardContent className=\"flex-1 flex flex-col p-0\">\n        <Tabs value={activeTab} onValueChange={setActiveTab} className=\"flex-1 flex flex-col\">\n          <div className=\"px-4 pb-3\">\n            <TabsList className=\"grid w-full grid-cols-3\">\n              <TabsTrigger value=\"search\" data-testid=\"tab-search\">\n                <Search className=\"h-4 w-4 mr-1\" />\n                Search\n              </TabsTrigger>\n              <TabsTrigger value=\"chat\" data-testid=\"tab-chat\">\n                <MessageSquare className=\"h-4 w-4 mr-1\" />\n                Chat\n              </TabsTrigger>\n              <TabsTrigger value=\"auto\" data-testid=\"tab-auto\">\n                <Zap className=\"h-4 w-4 mr-1\" />\n                Auto\n              </TabsTrigger>\n            </TabsList>\n          </div>\n\n          <TabsContent value=\"search\" className=\"flex-1 flex flex-col px-4 mt-0\">\n            <div className=\"space-y-3 flex-1 overflow-y-auto\">\n              <SearchBar\n                placeholder=\"Search documentation...\"\n                onSearch={handleSearch}\n                showSendButton\n              />\n              <div className=\"text-sm text-muted-foreground\">\n                Try searching for \"API\", \"getting started\", or \"troubleshooting\"\n              </div>\n            </div>\n          </TabsContent>\n\n          <TabsContent value=\"chat\" className=\"flex-1 flex flex-col px-4 mt-0\">\n            <div className=\"flex-1 overflow-y-auto space-y-4 mb-4\">\n              {messages.map((message, index) => (\n                <ChatMessage\n                  key={index}\n                  type={message.type}\n                  content={message.content}\n                  citations={message.citations}\n                  timestamp={message.timestamp}\n                  showFeedback={message.type === \"assistant\"}\n                />\n              ))}\n            </div>\n            <SearchBar\n              placeholder=\"Type your message...\"\n              onSearch={handleSearch}\n              showSendButton\n            />\n          </TabsContent>\n\n          <TabsContent value=\"auto\" className=\"flex-1 flex flex-col px-4 mt-0\">\n            <div className=\"flex-1 overflow-y-auto space-y-4 mb-4\">\n              {messages.map((message, index) => (\n                <ChatMessage\n                  key={index}\n                  type={message.type}\n                  content={message.content}\n                  citations={message.citations}\n                  timestamp={message.timestamp}\n                  showFeedback={message.type === \"assistant\"}\n                />\n              ))}\n            </div>\n            <SearchBar\n              placeholder=\"Ask anything or search...\"\n              onSearch={handleSearch}\n              showSendButton\n              showMicButton\n            />\n          </TabsContent>\n        </Tabs>\n\n        {showPoweredBy && (\n          <div className=\"px-4 py-2 border-t text-center\">\n            <p className=\"text-xs text-muted-foreground\">\n              Powered by <span className=\"font-medium\">RAGSuite</span>\n            </p>\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n}","size_bytes":6096},"client/src/components/HelpSystem.tsx":{"content":"import { useState } from \"react\";\nimport { HelpCircle, Book, ExternalLink, PlayCircle, CheckCircle, Clock, Users } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/components/ui/dialog\";\nimport {\n  Collapsible,\n  CollapsibleContent,\n  CollapsibleTrigger,\n} from \"@/components/ui/collapsible\";\nimport { Progress } from \"@/components/ui/progress\";\n\ninterface HelpGuide {\n  id: string;\n  title: string;\n  description: string;\n  duration: string;\n  difficulty: \"beginner\" | \"intermediate\" | \"advanced\";\n  category: string;\n  steps: Array<{\n    id: string;\n    title: string;\n    description: string;\n    completed?: boolean;\n  }>;\n  videoUrl?: string;\n  docsUrl?: string;\n}\n\ninterface HelpTopic {\n  id: string;\n  title: string;\n  description: string;\n  url: string;\n  category: string;\n}\n\n// todo: remove mock functionality\nconst gettingStartedGuides: HelpGuide[] = [\n  {\n    id: \"setup-first-source\",\n    title: \"Set Up Your First Crawl Source\",\n    description: \"Learn how to add and configure your first website for crawling and indexing.\",\n    duration: \"5 minutes\",\n    difficulty: \"beginner\",\n    category: \"Setup\",\n    steps: [\n      {\n        id: \"step-1\",\n        title: \"Navigate to Crawl Sources\",\n        description: \"Go to the Crawl section in the sidebar and click on Sources.\",\n        completed: true,\n      },\n      {\n        id: \"step-2\",\n        title: \"Add New Source\",\n        description: \"Click the 'Add Source' button and enter your website URL.\",\n        completed: true,\n      },\n      {\n        id: \"step-3\",\n        title: \"Configure Settings\",\n        description: \"Set crawl depth, frequency, and any URL patterns.\",\n        completed: false,\n      },\n      {\n        id: \"step-4\",\n        title: \"Start Initial Crawl\",\n        description: \"Save your source and trigger the first crawl job.\",\n        completed: false,\n      },\n    ],\n    videoUrl: \"https://youtu.be/example-setup-video\",\n    docsUrl: \"https://docs.ragsuite.com/getting-started/first-source\",\n  },\n  {\n    id: \"configure-rag-settings\",\n    title: \"Configure RAG Settings\",\n    description: \"Optimize your AI responses by tuning RAG parameters in the playground.\",\n    duration: \"8 minutes\",\n    difficulty: \"intermediate\",\n    category: \"Configuration\",\n    steps: [\n      {\n        id: \"step-1\",\n        title: \"Open RAG Tuning\",\n        description: \"Navigate to the RAG Tuning page from the sidebar.\",\n      },\n      {\n        id: \"step-2\",\n        title: \"Understand Parameters\",\n        description: \"Learn about top-K, similarity threshold, and temperature settings.\",\n      },\n      {\n        id: \"step-3\",\n        title: \"Test Queries\",\n        description: \"Run test queries to see how different settings affect responses.\",\n      },\n      {\n        id: \"step-4\",\n        title: \"Save Optimal Settings\",\n        description: \"Apply the best performing configuration to your integration.\",\n      },\n    ],\n    docsUrl: \"https://docs.ragsuite.com/rag-tuning/configuration\",\n  },\n  {\n    id: \"embed-widget\",\n    title: \"Embed Widget on Your Website\",\n    description: \"Add the AI chat widget to your website or application.\",\n    duration: \"10 minutes\",\n    difficulty: \"beginner\",\n    category: \"Integration\",\n    steps: [\n      {\n        id: \"step-1\",\n        title: \"Create Integration\",\n        description: \"Set up a new integration in the Integrations section.\",\n      },\n      {\n        id: \"step-2\",\n        title: \"Generate API Key\",\n        description: \"Create an API key for your website integration.\",\n      },\n      {\n        id: \"step-3\",\n        title: \"Copy Embed Code\",\n        description: \"Get the HTML/JavaScript code snippet for your site.\",\n      },\n      {\n        id: \"step-4\",\n        title: \"Add to Website\",\n        description: \"Paste the code into your website's HTML.\",\n      },\n      {\n        id: \"step-5\",\n        title: \"Test & Customize\",\n        description: \"Verify the widget works and customize its appearance.\",\n      },\n    ],\n    videoUrl: \"https://youtu.be/example-embed-video\",\n    docsUrl: \"https://docs.ragsuite.com/integrations/embed-widget\",\n  },\n];\n\nconst helpTopics: HelpTopic[] = [\n  {\n    id: \"api-reference\",\n    title: \"API Reference\",\n    description: \"Complete documentation for the RAGSuite REST API\",\n    url: \"https://docs.ragsuite.com/api\",\n    category: \"API\",\n  },\n  {\n    id: \"webhook-setup\",\n    title: \"Webhook Configuration\",\n    description: \"Set up webhooks to receive real-time updates\",\n    url: \"https://docs.ragsuite.com/webhooks\",\n    category: \"Integration\",\n  },\n  {\n    id: \"troubleshooting\",\n    title: \"Troubleshooting Guide\",\n    description: \"Common issues and their solutions\",\n    url: \"https://docs.ragsuite.com/troubleshooting\",\n    category: \"Support\",\n  },\n  {\n    id: \"security-best-practices\",\n    title: \"Security Best Practices\",\n    description: \"Keep your RAG system secure and compliant\",\n    url: \"https://docs.ragsuite.com/security\",\n    category: \"Security\",\n  },\n  {\n    id: \"performance-optimization\",\n    title: \"Performance Optimization\",\n    description: \"Tips to improve response times and accuracy\",\n    url: \"https://docs.ragsuite.com/optimization\",\n    category: \"Performance\",\n  },\n];\n\ninterface HelpSystemProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n}\n\nexport function HelpSystem({ open, onOpenChange }: HelpSystemProps) {\n  const [selectedGuide, setSelectedGuide] = useState<HelpGuide | null>(null);\n  const [completedSteps, setCompletedSteps] = useState<Set<string>>(new Set());\n\n  const getDifficultyColor = (difficulty: string) => {\n    switch (difficulty) {\n      case \"beginner\":\n        return \"default\";\n      case \"intermediate\":\n        return \"secondary\";\n      case \"advanced\":\n        return \"destructive\";\n      default:\n        return \"outline\";\n    }\n  };\n\n  const getProgressPercentage = (guide: HelpGuide) => {\n    const completedCount = guide.steps.filter(step => \n      step.completed || completedSteps.has(step.id)\n    ).length;\n    return (completedCount / guide.steps.length) * 100;\n  };\n\n  const markStepCompleted = (stepId: string) => {\n    setCompletedSteps(prev => new Set(prev).add(stepId));\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-4xl max-h-[90vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            <HelpCircle className=\"h-5 w-5\" />\n            Help & Documentation\n          </DialogTitle>\n          <DialogDescription>\n            Get started quickly with guides, tutorials, and comprehensive documentation.\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"grid gap-6 lg:grid-cols-2\">\n          {/* Getting Started Guides */}\n          <div className=\"space-y-4\">\n            <h3 className=\"text-lg font-semibold\">Getting Started</h3>\n            {gettingStartedGuides.map((guide) => (\n              <Card key={guide.id} className=\"cursor-pointer hover-elevate\">\n                <CardHeader className=\"pb-3\">\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"space-y-1\">\n                      <CardTitle className=\"text-base\">{guide.title}</CardTitle>\n                      <p className=\"text-sm text-muted-foreground\">{guide.description}</p>\n                    </div>\n                    <Badge variant={getDifficultyColor(guide.difficulty)} className=\"text-xs\">\n                      {guide.difficulty}\n                    </Badge>\n                  </div>\n                </CardHeader>\n                <CardContent className=\"space-y-3\">\n                  <div className=\"flex items-center gap-4 text-sm text-muted-foreground\">\n                    <div className=\"flex items-center gap-1\">\n                      <Clock className=\"h-4 w-4\" />\n                      {guide.duration}\n                    </div>\n                    <div className=\"flex items-center gap-1\">\n                      <CheckCircle className=\"h-4 w-4\" />\n                      {guide.steps.filter(s => s.completed || completedSteps.has(s.id)).length}/{guide.steps.length} steps\n                    </div>\n                  </div>\n                  \n                  <Progress value={getProgressPercentage(guide)} className=\"h-2\" />\n                  \n                  <div className=\"flex gap-2\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => setSelectedGuide(guide)}\n                      data-testid={`button-start-guide-${guide.id}`}\n                    >\n                      <PlayCircle className=\"h-4 w-4 mr-1\" />\n                      {getProgressPercentage(guide) > 0 ? \"Continue\" : \"Start\"}\n                    </Button>\n                    {guide.videoUrl && (\n                      <Button\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        onClick={() => window.open(guide.videoUrl, \"_blank\")}\n                        data-testid={`button-video-${guide.id}`}\n                      >\n                        <PlayCircle className=\"h-4 w-4 mr-1\" />\n                        Video\n                      </Button>\n                    )}\n                    {guide.docsUrl && (\n                      <Button\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        onClick={() => window.open(guide.docsUrl, \"_blank\")}\n                        data-testid={`button-docs-${guide.id}`}\n                      >\n                        <Book className=\"h-4 w-4 mr-1\" />\n                        Docs\n                      </Button>\n                    )}\n                  </div>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n\n          {/* Documentation Topics */}\n          <div className=\"space-y-4\">\n            <h3 className=\"text-lg font-semibold\">Documentation</h3>\n            <div className=\"space-y-2\">\n              {helpTopics.map((topic) => (\n                <Card key={topic.id} className=\"hover-elevate\">\n                  <CardContent className=\"p-4\">\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"space-y-1\">\n                        <h4 className=\"font-medium\">{topic.title}</h4>\n                        <p className=\"text-sm text-muted-foreground\">{topic.description}</p>\n                        <Badge variant=\"outline\" className=\"text-xs\">\n                          {topic.category}\n                        </Badge>\n                      </div>\n                      <Button\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        onClick={() => window.open(topic.url, \"_blank\")}\n                        data-testid={`button-topic-${topic.id}`}\n                      >\n                        <ExternalLink className=\"h-4 w-4\" />\n                      </Button>\n                    </div>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n\n            {/* Quick Links */}\n            <div className=\"space-y-2\">\n              <h4 className=\"font-medium\">Quick Links</h4>\n              <div className=\"grid gap-2\">\n                <Button\n                  variant=\"outline\"\n                  className=\"justify-start\"\n                  onClick={() => window.open(\"https://docs.ragsuite.com\", \"_blank\")}\n                  data-testid=\"button-full-docs\"\n                >\n                  <Book className=\"h-4 w-4 mr-2\" />\n                  Complete Documentation\n                </Button>\n                <Button\n                  variant=\"outline\"\n                  className=\"justify-start\"\n                  onClick={() => window.open(\"https://community.ragsuite.com\", \"_blank\")}\n                  data-testid=\"button-community\"\n                >\n                  <Users className=\"h-4 w-4 mr-2\" />\n                  Community Forum\n                </Button>\n                <Button\n                  variant=\"outline\"\n                  className=\"justify-start\"\n                  onClick={() => window.open(\"mailto:support@ragsuite.com\", \"_blank\")}\n                  data-testid=\"button-support\"\n                >\n                  <HelpCircle className=\"h-4 w-4 mr-2\" />\n                  Contact Support\n                </Button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Guide Detail Modal */}\n        {selectedGuide && (\n          <Dialog open={!!selectedGuide} onOpenChange={() => setSelectedGuide(null)}>\n            <DialogContent className=\"max-w-2xl\">\n              <DialogHeader>\n                <DialogTitle>{selectedGuide.title}</DialogTitle>\n                <DialogDescription>{selectedGuide.description}</DialogDescription>\n              </DialogHeader>\n\n              <div className=\"space-y-4\">\n                <div className=\"flex items-center gap-4 text-sm\">\n                  <Badge variant={getDifficultyColor(selectedGuide.difficulty)}>\n                    {selectedGuide.difficulty}\n                  </Badge>\n                  <div className=\"flex items-center gap-1\">\n                    <Clock className=\"h-4 w-4\" />\n                    {selectedGuide.duration}\n                  </div>\n                  <div className=\"flex items-center gap-1\">\n                    <CheckCircle className=\"h-4 w-4\" />\n                    {selectedGuide.steps.filter(s => s.completed || completedSteps.has(s.id)).length}/{selectedGuide.steps.length} completed\n                  </div>\n                </div>\n\n                <Progress value={getProgressPercentage(selectedGuide)} className=\"h-2\" />\n\n                <div className=\"space-y-2\">\n                  {selectedGuide.steps.map((step, index) => {\n                    const isCompleted = step.completed || completedSteps.has(step.id);\n                    return (\n                      <Collapsible key={step.id}>\n                        <CollapsibleTrigger className=\"flex items-center gap-3 w-full p-3 text-left rounded-lg border hover-elevate\">\n                          <div className={`flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium ${\n                            isCompleted ? \"bg-green-500 text-white\" : \"bg-muted text-muted-foreground\"\n                          }`}>\n                            {isCompleted ? <CheckCircle className=\"h-4 w-4\" /> : index + 1}\n                          </div>\n                          <div className=\"flex-1\">\n                            <p className=\"font-medium\">{step.title}</p>\n                          </div>\n                        </CollapsibleTrigger>\n                        <CollapsibleContent className=\"pl-9 pr-3 pb-3\">\n                          <p className=\"text-sm text-muted-foreground mb-3\">{step.description}</p>\n                          {!isCompleted && (\n                            <Button\n                              size=\"sm\"\n                              onClick={() => markStepCompleted(step.id)}\n                              data-testid={`button-complete-step-${step.id}`}\n                            >\n                              Mark as Complete\n                            </Button>\n                          )}\n                        </CollapsibleContent>\n                      </Collapsible>\n                    );\n                  })}\n                </div>\n\n                <div className=\"flex gap-2 pt-4 border-t\">\n                  {selectedGuide.videoUrl && (\n                    <Button\n                      variant=\"outline\"\n                      onClick={() => window.open(selectedGuide.videoUrl, \"_blank\")}\n                      data-testid=\"button-guide-video\"\n                    >\n                      <PlayCircle className=\"h-4 w-4 mr-2\" />\n                      Watch Video\n                    </Button>\n                  )}\n                  {selectedGuide.docsUrl && (\n                    <Button\n                      variant=\"outline\"\n                      onClick={() => window.open(selectedGuide.docsUrl, \"_blank\")}\n                      data-testid=\"button-guide-docs\"\n                    >\n                      <Book className=\"h-4 w-4 mr-2\" />\n                      Read Docs\n                    </Button>\n                  )}\n                </div>\n              </div>\n            </DialogContent>\n          </Dialog>\n        )}\n      </DialogContent>\n    </Dialog>\n  );\n}","size_bytes":16748},"client/src/components/NotificationInbox.tsx":{"content":"import * as React from \"react\";\nimport { useState, useMemo, useCallback } from \"react\";\nimport { Bell, Filter, ExternalLink, CheckCircle, AlertTriangle, Info, X } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\";\n\ninterface Notification {\n  id: string;\n  type: \"success\" | \"warning\" | \"error\" | \"info\";\n  title: string;\n  message: string;\n  timestamp: Date;\n  read: boolean;\n  actionUrl?: string;\n  actionText?: string;\n  metadata?: Record<string, any>;\n}\n\n// todo: remove mock functionality\nconst mockNotifications: Notification[] = [\n  {\n    id: \"notif-001\",\n    type: \"success\",\n    title: \"Crawl Job Completed\",\n    message: \"Successfully crawled 142 pages from docs.company.com\",\n    timestamp: new Date(Date.now() - 5 * 60 * 1000),\n    read: false,\n    actionUrl: \"/crawl\",\n    actionText: \"View Results\",\n    metadata: { crawlId: \"crawl-123\", pages: 142, duration: \"3m 42s\" },\n  },\n  {\n    id: \"notif-002\",\n    type: \"warning\",\n    title: \"API Key Expiring Soon\",\n    message: \"Your Production API Key will expire in 7 days\",\n    timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000),\n    read: false,\n    actionUrl: \"/settings\",\n    actionText: \"Renew Key\",\n    metadata: { keyName: \"Production API Key\", expiryDate: \"2024-02-01\" },\n  },\n  {\n    id: \"notif-003\",\n    type: \"error\",\n    title: \"Webhook Delivery Failed\",\n    message: \"Failed to deliver webhook to https://api.yourapp.com/webhooks\",\n    timestamp: new Date(Date.now() - 3 * 60 * 60 * 1000),\n    read: true,\n    actionUrl: \"/settings\",\n    actionText: \"Check Webhook\",\n    metadata: { webhookUrl: \"https://api.yourapp.com/webhooks\", retries: 3 },\n  },\n  {\n    id: \"notif-004\",\n    type: \"info\",\n    title: \"System Maintenance Scheduled\",\n    message: \"Scheduled maintenance on Jan 15, 2024 from 2:00-4:00 AM UTC\",\n    timestamp: new Date(Date.now() - 24 * 60 * 60 * 1000),\n    read: true,\n    metadata: { maintenanceStart: \"2024-01-15T02:00:00Z\", maintenanceEnd: \"2024-01-15T04:00:00Z\" },\n  },\n  {\n    id: \"notif-005\",\n    type: \"success\",\n    title: \"Integration Published\",\n    message: \"Your API integration v2.1 has been successfully published\",\n    timestamp: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000),\n    read: true,\n    actionUrl: \"/integrations\",\n    actionText: \"View Integration\",\n    metadata: { integrationId: \"int-456\", version: \"v2.1\" },\n  },\n];\n\ninterface NotificationInboxProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n}\n\nexport const NotificationInbox = React.memo(function NotificationInbox({ open, onOpenChange }: NotificationInboxProps) {\n  const [notifications, setNotifications] = useState(mockNotifications);\n  const [selectedNotification, setSelectedNotification] = useState<Notification | null>(null);\n  const [typeFilter, setTypeFilter] = useState<string>(\"all\");\n  const [readFilter, setReadFilter] = useState<string>(\"all\");\n\n  const getIcon = useCallback((type: string) => {\n    switch (type) {\n      case \"success\":\n        return <CheckCircle className=\"h-4 w-4 text-green-500\" />;\n      case \"warning\":\n        return <AlertTriangle className=\"h-4 w-4 text-yellow-500\" />;\n      case \"error\":\n        return <AlertTriangle className=\"h-4 w-4 text-red-500\" />;\n      case \"info\":\n      default:\n        return <Info className=\"h-4 w-4 text-blue-500\" />;\n    }\n  }, []);\n\n  const getBadgeVariant = useCallback((type: string) => {\n    switch (type) {\n      case \"success\":\n        return \"default\";\n      case \"warning\":\n        return \"secondary\";\n      case \"error\":\n        return \"destructive\";\n      case \"info\":\n      default:\n        return \"outline\";\n    }\n  }, []);\n\n  const filteredNotifications = useMemo(() => {\n    return notifications.filter(notification => {\n      if (typeFilter !== \"all\" && notification.type !== typeFilter) return false;\n      if (readFilter === \"unread\" && notification.read) return false;\n      if (readFilter === \"read\" && !notification.read) return false;\n      return true;\n    });\n  }, [notifications, typeFilter, readFilter]);\n\n  const unreadCount = useMemo(() => {\n    return notifications.filter(n => !n.read).length;\n  }, [notifications]);\n\n  const markAsRead = (notificationId: string) => {\n    setNotifications(prev =>\n      prev.map(notification =>\n        notification.id === notificationId\n          ? { ...notification, read: true }\n          : notification\n      )\n    );\n  };\n\n  const markAllAsRead = () => {\n    setNotifications(prev =>\n      prev.map(notification => ({ ...notification, read: true }))\n    );\n  };\n\n  const handleNotificationClick = (notification: Notification) => {\n    if (!notification.read) {\n      markAsRead(notification.id);\n    }\n    setSelectedNotification(notification);\n  };\n\n  const handleActionClick = (notification: Notification) => {\n    if (notification.actionUrl) {\n      // Navigate to action URL\n      onOpenChange(false);\n    }\n  };\n\n  return (\n    <>\n      <Sheet open={open} onOpenChange={onOpenChange}>\n        <SheetContent className=\"w-96\">\n          <SheetHeader>\n            <SheetTitle className=\"flex items-center gap-2\">\n              <Bell className=\"h-5 w-5\" />\n              Notifications\n              {unreadCount > 0 && (\n                <Badge variant=\"destructive\" className=\"ml-auto\">\n                  {unreadCount}\n                </Badge>\n              )}\n            </SheetTitle>\n            <SheetDescription>\n              System alerts, updates, and important notifications\n            </SheetDescription>\n          </SheetHeader>\n\n          <div className=\"mt-6 space-y-4\">\n            {/* Filters */}\n            <div className=\"flex gap-2\">\n              <Select value={typeFilter} onValueChange={setTypeFilter}>\n                <SelectTrigger className=\"flex-1\" data-testid=\"select-type-filter\">\n                  <SelectValue placeholder=\"Type\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"all\">All Types</SelectItem>\n                  <SelectItem value=\"success\">Success</SelectItem>\n                  <SelectItem value=\"warning\">Warning</SelectItem>\n                  <SelectItem value=\"error\">Error</SelectItem>\n                  <SelectItem value=\"info\">Info</SelectItem>\n                </SelectContent>\n              </Select>\n\n              <Select value={readFilter} onValueChange={setReadFilter}>\n                <SelectTrigger className=\"flex-1\" data-testid=\"select-read-filter\">\n                  <SelectValue placeholder=\"Status\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"all\">All</SelectItem>\n                  <SelectItem value=\"unread\">Unread</SelectItem>\n                  <SelectItem value=\"read\">Read</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n\n            {unreadCount > 0 && (\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={markAllAsRead}\n                className=\"w-full\"\n                data-testid=\"button-mark-all-read\"\n              >\n                Mark All as Read\n              </Button>\n            )}\n\n            {/* Notifications List */}\n            <div className=\"space-y-2 max-h-[60vh] overflow-y-auto\">\n              {filteredNotifications.map((notification) => (\n                <Card\n                  key={notification.id}\n                  className={`cursor-pointer hover-elevate transition-colors ${\n                    !notification.read ? \"border-primary/50 bg-primary/5\" : \"\"\n                  }`}\n                  onClick={() => handleNotificationClick(notification)}\n                  data-testid={`notification-${notification.id}`}\n                >\n                  <CardContent className=\"p-4\">\n                    <div className=\"flex items-start gap-3\">\n                      {getIcon(notification.type)}\n                      <div className=\"flex-1 space-y-1\">\n                        <div className=\"flex items-center justify-between\">\n                          <p className=\"font-medium text-sm\">{notification.title}</p>\n                          {!notification.read && (\n                            <div className=\"h-2 w-2 bg-primary rounded-full\" />\n                          )}\n                        </div>\n                        <p className=\"text-sm text-muted-foreground line-clamp-2\">\n                          {notification.message}\n                        </p>\n                        <div className=\"flex items-center justify-between\">\n                          <span className=\"text-xs text-muted-foreground\">\n                            {new Intl.RelativeTimeFormat(\"en\", { numeric: \"auto\" }).format(\n                              Math.floor((notification.timestamp.getTime() - Date.now()) / (1000 * 60)),\n                              \"minute\"\n                            )}\n                          </span>\n                          <Badge variant={getBadgeVariant(notification.type)} className=\"text-xs\">\n                            {notification.type}\n                          </Badge>\n                        </div>\n                        {notification.actionText && (\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            className=\"mt-2 h-7\"\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              handleActionClick(notification);\n                            }}\n                            data-testid={`button-action-${notification.id}`}\n                          >\n                            {notification.actionText}\n                            <ExternalLink className=\"h-3 w-3 ml-1\" />\n                          </Button>\n                        )}\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n              ))}\n\n              {filteredNotifications.length === 0 && (\n                <div className=\"text-center py-8\">\n                  <Bell className=\"h-8 w-8 text-muted-foreground mx-auto mb-2\" />\n                  <p className=\"text-sm text-muted-foreground\">No notifications found</p>\n                </div>\n              )}\n            </div>\n          </div>\n        </SheetContent>\n      </Sheet>\n\n      {/* Notification Detail Modal */}\n      {selectedNotification && (\n        <Sheet\n          open={!!selectedNotification}\n          onOpenChange={() => setSelectedNotification(null)}\n        >\n          <SheetContent className=\"w-96\">\n            <SheetHeader>\n              <SheetTitle className=\"flex items-center gap-2\">\n                {getIcon(selectedNotification.type)}\n                {selectedNotification.title}\n              </SheetTitle>\n              <div className=\"flex items-center gap-2\">\n                <Badge variant={getBadgeVariant(selectedNotification.type)}>\n                  {selectedNotification.type}\n                </Badge>\n                <span className=\"text-sm text-muted-foreground\">\n                  {selectedNotification.timestamp.toLocaleString()}\n                </span>\n              </div>\n            </SheetHeader>\n\n            <div className=\"mt-6 space-y-4\">\n              <div>\n                <h4 className=\"font-medium mb-2\">Message</h4>\n                <p className=\"text-sm text-muted-foreground\">{selectedNotification.message}</p>\n              </div>\n\n              {selectedNotification.metadata && (\n                <div>\n                  <h4 className=\"font-medium mb-2\">Details</h4>\n                  <div className=\"space-y-2\">\n                    {Object.entries(selectedNotification.metadata).map(([key, value]) => (\n                      <div key={key} className=\"flex justify-between text-sm\">\n                        <span className=\"text-muted-foreground capitalize\">\n                          {key.replace(/([A-Z])/g, \" $1\").trim()}:\n                        </span>\n                        <span className=\"font-mono\">{value?.toString()}</span>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {selectedNotification.actionUrl && (\n                <Button\n                  onClick={() => handleActionClick(selectedNotification)}\n                  className=\"w-full\"\n                  data-testid=\"button-detail-action\"\n                >\n                  {selectedNotification.actionText}\n                  <ExternalLink className=\"h-4 w-4 ml-2\" />\n                </Button>\n              )}\n            </div>\n          </SheetContent>\n        </Sheet>\n      )}\n    </>\n  );\n});","size_bytes":13018},"client/src/components/SearchBar.tsx":{"content":"import * as React from \"react\";\nimport { useState, useCallback } from \"react\";\nimport { Search, Mic, Send } from \"lucide-react\";\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\n\ninterface SearchBarProps {\n  placeholder?: string;\n  onSearch?: (query: string) => void;\n  showMicButton?: boolean;\n  showSendButton?: boolean;\n  className?: string;\n}\n\nexport const SearchBar = React.memo(function SearchBar({\n  placeholder = \"Ask about policies, docs, or how-tos...\",\n  onSearch,\n  showMicButton = false,\n  showSendButton = false,\n  className = \"\",\n}: SearchBarProps) {\n  const [query, setQuery] = useState(\"\");\n\n  const handleSubmit = useCallback((e: React.FormEvent) => {\n    e.preventDefault();\n    if (query.trim() && onSearch) {\n      onSearch(query.trim());\n    }\n  }, [query, onSearch]);\n\n  return (\n    <form onSubmit={handleSubmit} className={`relative ${className}`}>\n      <div className=\"relative flex items-center\">\n        <Search className=\"absolute left-3 h-4 w-4 text-muted-foreground\" />\n        <Input\n          type=\"text\"\n          placeholder={placeholder}\n          value={query}\n          onChange={(e) => setQuery(e.target.value)}\n          className=\"pl-10 pr-20\"\n          data-testid=\"input-search\"\n        />\n        <div className=\"absolute right-2 flex items-center gap-1\">\n          {showMicButton && (\n            <Button\n              type=\"button\"\n              variant=\"ghost\"\n              size=\"icon\"\n              onClick={() => {/* Mic clicked */}}\n              data-testid=\"button-mic\"\n              className=\"h-8 w-8\"\n            >\n              <Mic className=\"h-4 w-4\" />\n            </Button>\n          )}\n          {showSendButton && (\n            <Button\n              type=\"submit\"\n              variant=\"ghost\"\n              size=\"icon\"\n              disabled={!query.trim()}\n              data-testid=\"button-send\"\n              className=\"h-8 w-8\"\n            >\n              <Send className=\"h-4 w-4\" />\n            </Button>\n          )}\n        </div>\n      </div>\n    </form>\n  );\n});","size_bytes":2084},"client/src/components/StatsCard.tsx":{"content":"import { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { TrendingUp, TrendingDown } from \"lucide-react\";\nimport { Badge } from \"@/components/ui/badge\";\n\ninterface StatsCardProps {\n  title: string;\n  value: string | number;\n  description?: string;\n  trend?: {\n    value: number;\n    isPositive: boolean;\n  };\n  icon?: React.ReactNode;\n}\n\nexport function StatsCard({ title, value, description, trend, icon }: StatsCardProps) {\n  return (\n    <Card data-testid={`card-stat-${title.toLowerCase().replace(/\\s+/g, '-')}`}>\n      <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n        <CardTitle className=\"text-sm font-medium\">{title}</CardTitle>\n        {icon && <div className=\"text-muted-foreground\">{icon}</div>}\n      </CardHeader>\n      <CardContent>\n        <div className=\"text-2xl font-bold\">{value}</div>\n        {(description || trend) && (\n          <div className=\"flex items-center gap-2 mt-1\">\n            {trend && (\n              <Badge\n                variant={trend.isPositive ? \"default\" : \"destructive\"}\n                className=\"text-xs\"\n              >\n                {trend.isPositive ? (\n                  <TrendingUp className=\"h-3 w-3 mr-1\" />\n                ) : (\n                  <TrendingDown className=\"h-3 w-3 mr-1\" />\n                )}\n                {Math.abs(trend.value)}%\n              </Badge>\n            )}\n            {description && (\n              <p className=\"text-xs text-muted-foreground\">{description}</p>\n            )}\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n}","size_bytes":1605},"client/src/components/ThemeToggle.tsx":{"content":"import { Moon, Sun } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { useTheme } from \"@/contexts/ThemeContext\";\n\nexport function ThemeToggle() {\n  const { theme, toggleTheme } = useTheme();\n\n  return (\n    <Button\n      variant=\"ghost\"\n      size=\"icon\"\n      onClick={toggleTheme}\n      data-testid=\"button-theme-toggle\"\n      className=\"hover-elevate\"\n    >\n      {theme === \"light\" ? (\n        <Moon className=\"h-4 w-4\" />\n      ) : (\n        <Sun className=\"h-4 w-4\" />\n      )}\n      <span className=\"sr-only\">Toggle theme</span>\n    </Button>\n  );\n}","size_bytes":586},"client/src/contexts/ThemeContext.tsx":{"content":"import { createContext, useContext, useEffect, useState } from \"react\";\n\ntype Theme = \"light\" | \"dark\";\n\ninterface ThemeContextType {\n  theme: Theme;\n  toggleTheme: () => void;\n  setTheme: (theme: Theme) => void;\n}\n\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\n\nexport function ThemeProvider({ children }: { children: React.ReactNode }) {\n  const [theme, setTheme] = useState<Theme>(() => {\n    // Check localStorage first\n    const saved = localStorage.getItem(\"theme\");\n    if (saved === \"light\" || saved === \"dark\") return saved;\n    \n    // Default to dark as per design brief\n    return \"dark\";\n  });\n\n  useEffect(() => {\n    const root = document.documentElement;\n    root.classList.remove(\"light\", \"dark\");\n    root.classList.add(theme);\n    localStorage.setItem(\"theme\", theme);\n  }, [theme]);\n\n  const toggleTheme = () => {\n    setTheme(prev => prev === \"light\" ? \"dark\" : \"light\");\n  };\n\n  return (\n    <ThemeContext.Provider value={{ theme, toggleTheme, setTheme }}>\n      {children}\n    </ThemeContext.Provider>\n  );\n}\n\nexport function useTheme() {\n  const context = useContext(ThemeContext);\n  if (!context) {\n    throw new Error(\"useTheme must be used within a ThemeProvider\");\n  }\n  return context;\n}","size_bytes":1247},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","size_bytes":565},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","size_bytes":3895},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","size_bytes":1383},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","size_bytes":166},"client/src/pages/Analytics.tsx":{"content":"import { useState } from \"react\";\nimport { TrendingUp, Download, Clock, Users, ThumbsUp } from \"lucide-react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, PieChart, Pie, Cell, BarChart, Bar } from \"recharts\";\n\n// todo: remove mock functionality\nconst queryData = [\n  { date: \"2024-01-01\", queries: 145, p95: 245, p50: 180, satisfaction: 89 },\n  { date: \"2024-01-02\", queries: 210, p95: 267, p50: 195, satisfaction: 91 },\n  { date: \"2024-01-03\", queries: 189, p95: 234, p50: 178, satisfaction: 87 },\n  { date: \"2024-01-04\", queries: 267, p95: 289, p50: 203, satisfaction: 93 },\n  { date: \"2024-01-05\", queries: 312, p95: 301, p50: 215, satisfaction: 89 },\n  { date: \"2024-01-06\", queries: 198, p95: 256, p50: 187, satisfaction: 85 },\n  { date: \"2024-01-07\", queries: 156, p95: 223, p50: 165, satisfaction: 88 },\n];\n\nconst sourceCoverage = [\n  { name: \"docs.company.com\", value: 45, color: \"#1F6FEB\" },\n  { name: \"help.company.com\", value: 25, color: \"#22C55E\" },\n  { name: \"api.company.com\", value: 20, color: \"#F59E0B\" },\n  { name: \"blog.company.com\", value: 10, color: \"#EF4444\" },\n];\n\nconst popularQueries = [\n  { query: \"How to configure SSL certificates?\", count: 342, satisfaction: 94 },\n  { query: \"API rate limiting documentation\", count: 298, satisfaction: 87 },\n  { query: \"Deployment troubleshooting guide\", count: 276, satisfaction: 91 },\n  { query: \"Database backup procedures\", count: 234, satisfaction: 89 },\n  { query: \"User authentication setup\", count: 198, satisfaction: 85 },\n  { query: \"Error code explanations\", count: 187, satisfaction: 82 },\n  { query: \"Performance optimization tips\", count: 165, satisfaction: 88 },\n  { query: \"Security best practices\", count: 143, satisfaction: 92 },\n];\n\nconst hardQueries = [\n  {\n    query: \"How to configure advanced load balancer settings with custom headers?\",\n    attempts: 45,\n    satisfaction: 34,\n    avgLatency: \"4.2s\",\n    lastAttempt: \"2 hours ago\",\n  },\n  {\n    query: \"Integration with legacy SAML providers using custom attributes\",\n    attempts: 38,\n    satisfaction: 28,\n    avgLatency: \"3.8s\",\n    lastAttempt: \"4 hours ago\",\n  },\n  {\n    query: \"Custom webhook payload validation for third-party services\",\n    attempts: 32,\n    satisfaction: 41,\n    avgLatency: \"3.1s\",\n    lastAttempt: \"6 hours ago\",\n  },\n  {\n    query: \"Advanced database sharding configuration for high throughput\",\n    attempts: 29,\n    satisfaction: 35,\n    avgLatency: \"4.7s\",\n    lastAttempt: \"8 hours ago\",\n  },\n];\n\nexport default function Analytics() {\n  const [timeRange, setTimeRange] = useState(\"7d\");\n\n  const getSatisfactionColor = (satisfaction: number) => {\n    if (satisfaction >= 90) return \"default\";\n    if (satisfaction >= 70) return \"secondary\";\n    return \"destructive\";\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold tracking-tight\">Analytics</h1>\n          <p className=\"text-muted-foreground\">\n            Track performance metrics and user engagement\n          </p>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <Select value={timeRange} onValueChange={setTimeRange}>\n            <SelectTrigger className=\"w-32\" data-testid=\"select-time-range\">\n              <SelectValue />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"7d\">Last 7 days</SelectItem>\n              <SelectItem value=\"30d\">Last 30 days</SelectItem>\n              <SelectItem value=\"90d\">Last 3 months</SelectItem>\n            </SelectContent>\n          </Select>\n          <Button variant=\"outline\" data-testid=\"button-export\">\n            <Download className=\"h-4 w-4 mr-2\" />\n            Export\n          </Button>\n        </div>\n      </div>\n\n      {/* Key Metrics Cards */}\n      <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-4\">\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Total Queries</CardTitle>\n            <Users className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">1,777</div>\n            <p className=\"text-xs text-muted-foreground\">\n              +12% from last period\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Avg Latency (p95)</CardTitle>\n            <Clock className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">259ms</div>\n            <p className=\"text-xs text-muted-foreground\">\n              -5% from last period\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Satisfaction Rate</CardTitle>\n            <ThumbsUp className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">89%</div>\n            <p className=\"text-xs text-muted-foreground\">\n              +3% from last period\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Daily Average</CardTitle>\n            <TrendingUp className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">254</div>\n            <p className=\"text-xs text-muted-foreground\">\n              queries per day\n            </p>\n          </CardContent>\n        </Card>\n      </div>\n\n      <div className=\"grid gap-6 lg:grid-cols-2\">\n        {/* Query Volume Chart */}\n        <Card>\n          <CardHeader>\n            <CardTitle>Daily Queries</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <ResponsiveContainer width=\"100%\" height={250}>\n              <LineChart data={queryData}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"date\" tickFormatter={(value) => new Date(value).toLocaleDateString()} />\n                <YAxis />\n                <Tooltip labelFormatter={(value) => new Date(value).toLocaleDateString()} />\n                <Line type=\"monotone\" dataKey=\"queries\" stroke=\"hsl(var(--primary))\" strokeWidth={2} />\n              </LineChart>\n            </ResponsiveContainer>\n          </CardContent>\n        </Card>\n\n        {/* Latency Chart */}\n        <Card>\n          <CardHeader>\n            <CardTitle>Response Latency</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <ResponsiveContainer width=\"100%\" height={250}>\n              <LineChart data={queryData}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"date\" tickFormatter={(value) => new Date(value).toLocaleDateString()} />\n                <YAxis />\n                <Tooltip \n                  labelFormatter={(value) => new Date(value).toLocaleDateString()}\n                  formatter={(value, name) => [`${value}ms`, name === 'p95' ? 'p95' : 'p50']}\n                />\n                <Line type=\"monotone\" dataKey=\"p95\" stroke=\"hsl(var(--chart-1))\" strokeWidth={2} name=\"p95\" />\n                <Line type=\"monotone\" dataKey=\"p50\" stroke=\"hsl(var(--chart-2))\" strokeWidth={2} name=\"p50\" />\n              </LineChart>\n            </ResponsiveContainer>\n          </CardContent>\n        </Card>\n\n        {/* Satisfaction Rate Chart */}\n        <Card>\n          <CardHeader>\n            <CardTitle>User Satisfaction</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <ResponsiveContainer width=\"100%\" height={250}>\n              <LineChart data={queryData}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"date\" tickFormatter={(value) => new Date(value).toLocaleDateString()} />\n                <YAxis domain={[0, 100]} />\n                <Tooltip \n                  labelFormatter={(value) => new Date(value).toLocaleDateString()}\n                  formatter={(value) => [`${value}%`, 'Satisfaction']}\n                />\n                <Line type=\"monotone\" dataKey=\"satisfaction\" stroke=\"hsl(var(--chart-2))\" strokeWidth={2} />\n              </LineChart>\n            </ResponsiveContainer>\n          </CardContent>\n        </Card>\n\n        {/* Source Coverage */}\n        <Card>\n          <CardHeader>\n            <CardTitle>Source Coverage</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <ResponsiveContainer width=\"100%\" height={250}>\n              <PieChart>\n                <Pie\n                  data={sourceCoverage}\n                  cx=\"50%\"\n                  cy=\"50%\"\n                  outerRadius={80}\n                  dataKey=\"value\"\n                  label={({ name, value }) => `${name}: ${value}%`}\n                >\n                  {sourceCoverage.map((entry, index) => (\n                    <Cell key={`cell-${index}`} fill={entry.color} />\n                  ))}\n                </Pie>\n                <Tooltip formatter={(value) => `${value}%`} />\n              </PieChart>\n            </ResponsiveContainer>\n          </CardContent>\n        </Card>\n      </div>\n\n      <div className=\"grid gap-6 lg:grid-cols-2\">\n        {/* Popular Queries */}\n        <Card>\n          <CardHeader>\n            <CardTitle>Popular Queries</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-3\">\n              {popularQueries.map((item, index) => (\n                <div\n                  key={index}\n                  className=\"flex items-center justify-between p-3 rounded-lg border hover-elevate\"\n                  data-testid={`popular-query-${index}`}\n                >\n                  <div className=\"space-y-1 flex-1\">\n                    <p className=\"font-medium text-sm line-clamp-1\">{item.query}</p>\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"text-xs text-muted-foreground\">{item.count} queries</span>\n                      <Badge variant={getSatisfactionColor(item.satisfaction)} className=\"text-xs\">\n                        {item.satisfaction}% satisfaction\n                      </Badge>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Hard Queries */}\n        <Card>\n          <CardHeader>\n            <CardTitle>Hard Queries</CardTitle>\n            <p className=\"text-sm text-muted-foreground\">\n              Queries with low satisfaction scores that need attention\n            </p>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-3\">\n              {hardQueries.map((item, index) => (\n                <div\n                  key={index}\n                  className=\"p-3 rounded-lg border hover-elevate cursor-pointer\"\n                  data-testid={`hard-query-${index}`}\n                >\n                  <div className=\"space-y-2\">\n                    <p className=\"font-medium text-sm line-clamp-2\">{item.query}</p>\n                    <div className=\"flex items-center justify-between text-xs\">\n                      <div className=\"flex items-center gap-3\">\n                        <span className=\"text-muted-foreground\">{item.attempts} attempts</span>\n                        <Badge variant=\"destructive\" className=\"text-xs\">\n                          {item.satisfaction}% satisfaction\n                        </Badge>\n                        <span className=\"text-muted-foreground\">{item.avgLatency} avg</span>\n                      </div>\n                      <span className=\"text-muted-foreground\">{item.lastAttempt}</span>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}","size_bytes":12583},"client/src/pages/Crawl.tsx":{"content":"import { useState } from \"react\";\nimport { Plus, Filter } from \"lucide-react\";\nimport { AddSourceForm } from \"@/components/forms/AddSourceForm\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { CrawlSourceTable } from \"@/components/CrawlSourceTable\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\n\n// todo: remove mock functionality\nconst crawlJobs = [\n  {\n    id: \"job-001\",\n    source: \"docs.company.com\",\n    started: new Date(Date.now() - 3 * 60 * 60 * 1000),\n    duration: \"45m 23s\",\n    pages: 142,\n    errors: 0,\n    status: \"Completed\",\n  },\n  {\n    id: \"job-002\", \n    source: \"help.company.com\",\n    started: new Date(Date.now() - 6 * 60 * 60 * 1000),\n    duration: \"23m 12s\",\n    pages: 89,\n    errors: 2,\n    status: \"Completed\",\n  },\n  {\n    id: \"job-003\",\n    source: \"blog.company.com\",\n    started: new Date(Date.now() - 30 * 60 * 1000),\n    duration: \"30m 45s\",\n    pages: 67,\n    errors: 0,\n    status: \"Running\",\n  },\n];\n\nexport default function Crawl() {\n  const [activeTab, setActiveTab] = useState(\"sources\");\n  const [showAddSourceForm, setShowAddSourceForm] = useState(false);\n  const [selectedJobId, setSelectedJobId] = useState<string | null>(null);\n  const { toast } = useToast();\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case \"Completed\":\n        return \"default\";\n      case \"Running\":\n        return \"secondary\";\n      case \"Failed\":\n        return \"destructive\";\n      default:\n        return \"outline\";\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold tracking-tight\">Crawl Management</h1>\n          <p className=\"text-muted-foreground\">\n            Configure and monitor website crawling sources\n          </p>\n        </div>\n        <Button\n          onClick={() => setShowAddSourceForm(true)}\n          data-testid=\"button-add-source\"\n        >\n          <Plus className=\"h-4 w-4 mr-2\" />\n          Add Source\n        </Button>\n      </div>\n\n      <Tabs value={activeTab} onValueChange={setActiveTab}>\n        <TabsList>\n          <TabsTrigger value=\"sources\" data-testid=\"tab-sources\">Sources</TabsTrigger>\n          <TabsTrigger value=\"jobs\" data-testid=\"tab-jobs\">Jobs</TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"sources\" className=\"space-y-4\">\n          <div className=\"flex items-center gap-4\">\n            <Select defaultValue=\"all\">\n              <SelectTrigger className=\"w-40\" data-testid=\"select-status-filter\">\n                <SelectValue placeholder=\"Status\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"all\">All Status</SelectItem>\n                <SelectItem value=\"active\">Active</SelectItem>\n                <SelectItem value=\"paused\">Paused</SelectItem>\n                <SelectItem value=\"error\">Error</SelectItem>\n              </SelectContent>\n            </Select>\n\n            <Select defaultValue=\"all\">\n              <SelectTrigger className=\"w-40\" data-testid=\"select-cadence-filter\">\n                <SelectValue placeholder=\"Cadence\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"all\">All Cadence</SelectItem>\n                <SelectItem value=\"hourly\">Hourly</SelectItem>\n                <SelectItem value=\"daily\">Daily</SelectItem>\n                <SelectItem value=\"weekly\">Weekly</SelectItem>\n              </SelectContent>\n            </Select>\n\n            <Button variant=\"outline\" data-testid=\"button-filters\">\n              <Filter className=\"h-4 w-4 mr-2\" />\n              More Filters\n            </Button>\n          </div>\n\n          <CrawlSourceTable />\n        </TabsContent>\n\n        <TabsContent value=\"jobs\" className=\"space-y-4\">\n          <div className=\"flex items-center gap-4\">\n            <Select defaultValue=\"all\">\n              <SelectTrigger className=\"w-40\" data-testid=\"select-job-status-filter\">\n                <SelectValue placeholder=\"Status\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"all\">All Status</SelectItem>\n                <SelectItem value=\"running\">Running</SelectItem>\n                <SelectItem value=\"completed\">Completed</SelectItem>\n                <SelectItem value=\"failed\">Failed</SelectItem>\n              </SelectContent>\n            </Select>\n\n            <Select defaultValue=\"today\">\n              <SelectTrigger className=\"w-40\" data-testid=\"select-date-filter\">\n                <SelectValue placeholder=\"Date Range\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"today\">Today</SelectItem>\n                <SelectItem value=\"week\">This Week</SelectItem>\n                <SelectItem value=\"month\">This Month</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n\n          <Card>\n            <CardHeader>\n              <CardTitle>Crawl Jobs</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-3\">\n                {crawlJobs.map((job) => (\n                  <div\n                    key={job.id}\n                    className=\"flex items-center justify-between p-4 rounded-lg border hover-elevate cursor-pointer\"\n                    data-testid={`job-${job.id}`}\n                    onClick={() => {\n                      setSelectedJobId(job.id);\n                      toast({\n                        title: \"Job Details\",\n                        description: `Viewing details for crawl job ${job.id}`,\n                      });\n                    }}\n                  >\n                    <div className=\"space-y-1\">\n                      <div className=\"flex items-center gap-2\">\n                        <p className=\"font-medium text-sm\">{job.id}</p>\n                        <Badge variant={getStatusColor(job.status)} className=\"text-xs\">\n                          {job.status}\n                        </Badge>\n                      </div>\n                      <p className=\"text-sm text-muted-foreground\">\n                        {job.source} • Started {job.started.toLocaleTimeString()}\n                      </p>\n                    </div>\n                    <div className=\"text-right space-y-1\">\n                      <p className=\"text-sm font-medium\">{job.pages} pages</p>\n                      <p className=\"text-xs text-muted-foreground\">\n                        {job.duration} • {job.errors} errors\n                      </p>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n\n      {/* Add Source Form */}\n      <AddSourceForm\n        open={showAddSourceForm}\n        onOpenChange={setShowAddSourceForm}\n        onSubmit={(data) => {\n          console.log(\"Source form submitted:\", data);\n          toast({\n            title: \"Source Created\",\n            description: `Successfully created ${data.name}`,\n          });\n        }}\n      />\n    </div>\n  );\n}","size_bytes":7427},"client/src/pages/Documents.tsx":{"content":"import { useState } from \"react\";\nimport { Grid, List, Filter, Search, Upload, Trash2, RefreshCw, FileText, ExternalLink } from \"lucide-react\";\nimport { UploadDocumentForm } from \"@/components/forms/UploadDocumentForm\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\";\n\n// todo: remove mock functionality\nconst mockDocuments = [\n  {\n    id: \"doc-001\",\n    title: \"Authentication Setup Guide\",\n    type: \"HTML\",\n    source: \"docs.company.com\",\n    language: \"English\",\n    status: \"Indexed\",\n    chunks: 12,\n    lastIndexed: new Date(Date.now() - 2 * 60 * 60 * 1000),\n    url: \"https://docs.company.com/auth-setup\",\n    checksum: \"a1b2c3d4e5f6\",\n    size: \"24 KB\",\n  },\n  {\n    id: \"doc-002\",\n    title: \"API Rate Limits Documentation\",\n    type: \"PDF\",\n    source: \"api.company.com\",\n    language: \"English\",\n    status: \"Processing\",\n    chunks: 8,\n    lastIndexed: new Date(Date.now() - 4 * 60 * 60 * 1000),\n    url: \"https://api.company.com/rate-limits.pdf\",\n    checksum: \"f6e5d4c3b2a1\",\n    size: \"156 KB\",\n  },\n  {\n    id: \"doc-003\",\n    title: \"Deployment Best Practices\",\n    type: \"DOC\",\n    source: \"help.company.com\",\n    language: \"English\",\n    status: \"Error\",\n    chunks: 0,\n    lastIndexed: new Date(Date.now() - 24 * 60 * 60 * 1000),\n    url: \"https://help.company.com/deployment\",\n    checksum: \"b2a1c3d4e5f6\",\n    size: \"89 KB\",\n  },\n  {\n    id: \"doc-004\",\n    title: \"Troubleshooting Common Issues\",\n    type: \"TXT\",\n    source: \"support.company.com\",\n    language: \"English\", \n    status: \"Indexed\",\n    chunks: 15,\n    lastIndexed: new Date(Date.now() - 6 * 60 * 60 * 1000),\n    url: \"https://support.company.com/troubleshooting.txt\",\n    checksum: \"c3d4e5f6a1b2\",\n    size: \"67 KB\",\n  },\n];\n\nexport default function Documents() {\n  const [viewMode, setViewMode] = useState<\"grid\" | \"list\">(\"grid\");\n  const [selectedDocs, setSelectedDocs] = useState<string[]>([]);\n  const [selectedDoc, setSelectedDoc] = useState<typeof mockDocuments[0] | null>(null);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [showUploadForm, setShowUploadForm] = useState(false);\n  const { toast } = useToast();\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case \"Indexed\":\n        return \"default\";\n      case \"Processing\":\n        return \"secondary\";\n      case \"Error\":\n        return \"destructive\";\n      default:\n        return \"outline\";\n    }\n  };\n\n  const getTypeColor = (type: string) => {\n    switch (type) {\n      case \"PDF\":\n        return \"destructive\";\n      case \"DOC\":\n        return \"secondary\";\n      case \"HTML\":\n        return \"default\";\n      case \"TXT\":\n        return \"outline\";\n      default:\n        return \"outline\";\n    }\n  };\n\n  const handleBulkAction = (action: string) => {\n    console.log(`${action} action for documents:`, selectedDocs);\n    setSelectedDocs([]);\n  };\n\n  const filteredDocuments = mockDocuments.filter(doc =>\n    doc.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    doc.source.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold tracking-tight\">Document Library</h1>\n          <p className=\"text-muted-foreground\">\n            Manage your indexed documents and content\n          </p>\n        </div>\n        <Button\n          onClick={() => setShowUploadForm(true)}\n          data-testid=\"button-upload-document\"\n        >\n          <Upload className=\"h-4 w-4 mr-2\" />\n          Upload Documents\n        </Button>\n      </div>\n\n      {/* Filters and Search */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-4\">\n          <div className=\"relative\">\n            <Search className=\"absolute left-3 h-4 w-4 text-muted-foreground\" />\n            <Input\n              placeholder=\"Search documents...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"pl-10 w-64\"\n              data-testid=\"input-search-documents\"\n            />\n          </div>\n\n          <Select defaultValue=\"all-sources\">\n            <SelectTrigger className=\"w-40\" data-testid=\"select-source-filter\">\n              <SelectValue placeholder=\"Source\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"all-sources\">All Sources</SelectItem>\n              <SelectItem value=\"docs\">docs.company.com</SelectItem>\n              <SelectItem value=\"api\">api.company.com</SelectItem>\n              <SelectItem value=\"help\">help.company.com</SelectItem>\n            </SelectContent>\n          </Select>\n\n          <Select defaultValue=\"all-types\">\n            <SelectTrigger className=\"w-32\" data-testid=\"select-type-filter\">\n              <SelectValue placeholder=\"Type\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"all-types\">All Types</SelectItem>\n              <SelectItem value=\"pdf\">PDF</SelectItem>\n              <SelectItem value=\"doc\">DOC</SelectItem>\n              <SelectItem value=\"html\">HTML</SelectItem>\n              <SelectItem value=\"txt\">TXT</SelectItem>\n            </SelectContent>\n          </Select>\n\n          <Select defaultValue=\"all-status\">\n            <SelectTrigger className=\"w-32\" data-testid=\"select-status-filter\">\n              <SelectValue placeholder=\"Status\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"all-status\">All Status</SelectItem>\n              <SelectItem value=\"indexed\">Indexed</SelectItem>\n              <SelectItem value=\"processing\">Processing</SelectItem>\n              <SelectItem value=\"error\">Error</SelectItem>\n            </SelectContent>\n          </Select>\n\n          <Button variant=\"outline\" data-testid=\"button-advanced-filters\">\n            <Filter className=\"h-4 w-4 mr-2\" />\n            More Filters\n          </Button>\n        </div>\n\n        <div className=\"flex items-center gap-2\">\n          <div className=\"flex border rounded-md\">\n            <Button\n              variant={viewMode === \"grid\" ? \"default\" : \"ghost\"}\n              size=\"sm\"\n              onClick={() => setViewMode(\"grid\")}\n              data-testid=\"button-grid-view\"\n              className=\"rounded-r-none\"\n            >\n              <Grid className=\"h-4 w-4\" />\n            </Button>\n            <Button\n              variant={viewMode === \"list\" ? \"default\" : \"ghost\"}\n              size=\"sm\"\n              onClick={() => setViewMode(\"list\")}\n              data-testid=\"button-list-view\"\n              className=\"rounded-l-none\"\n            >\n              <List className=\"h-4 w-4\" />\n            </Button>\n          </div>\n        </div>\n      </div>\n\n      {/* Bulk Actions */}\n      {selectedDocs.length > 0 && (\n        <div className=\"flex items-center gap-4 p-4 bg-accent rounded-lg\">\n          <span className=\"text-sm font-medium\">\n            {selectedDocs.length} document{selectedDocs.length > 1 ? \"s\" : \"\"} selected\n          </span>\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={() => {\n              handleBulkAction(\"re-index\");\n              toast({\n                title: \"Re-indexing Started\",\n                description: `Re-indexing ${selectedDocs.length} documents`,\n              });\n            }}\n            data-testid=\"button-bulk-reindex\"\n          >\n            <RefreshCw className=\"h-4 w-4 mr-2\" />\n            Re-index\n          </Button>\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={() => {\n              handleBulkAction(\"delete\");\n              toast({\n                title: \"Documents Deleted\",\n                description: `Deleted ${selectedDocs.length} documents`,\n                variant: \"destructive\",\n              });\n            }}\n            data-testid=\"button-bulk-delete\"\n          >\n            <Trash2 className=\"h-4 w-4 mr-2\" />\n            Delete\n          </Button>\n        </div>\n      )}\n\n      {/* Document Grid/List */}\n      {viewMode === \"grid\" ? (\n        <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n          {filteredDocuments.map((doc) => (\n            <Card\n              key={doc.id}\n              className=\"cursor-pointer hover-elevate\"\n              onClick={() => setSelectedDoc(doc)}\n              data-testid={`card-document-${doc.id}`}\n            >\n              <CardHeader className=\"pb-3\">\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"flex items-center gap-2\">\n                    <Checkbox\n                      checked={selectedDocs.includes(doc.id)}\n                      onCheckedChange={(checked) => {\n                        if (checked) {\n                          setSelectedDocs(prev => [...prev, doc.id]);\n                        } else {\n                          setSelectedDocs(prev => prev.filter(id => id !== doc.id));\n                        }\n                      }}\n                      onClick={(e) => e.stopPropagation()}\n                      data-testid={`checkbox-${doc.id}`}\n                    />\n                    <FileText className=\"h-4 w-4 text-muted-foreground\" />\n                  </div>\n                  <div className=\"flex items-center gap-1\">\n                    <Badge variant={getTypeColor(doc.type)} className=\"text-xs\">\n                      {doc.type}\n                    </Badge>\n                    <Badge variant={getStatusColor(doc.status)} className=\"text-xs\">\n                      {doc.status}\n                    </Badge>\n                  </div>\n                </div>\n                <CardTitle className=\"text-base line-clamp-2\">{doc.title}</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-2 text-sm text-muted-foreground\">\n                  <p>Source: {doc.source}</p>\n                  <p>Chunks: {doc.chunks} • Size: {doc.size}</p>\n                  <p>Last indexed: {new Intl.RelativeTimeFormat(\"en\", { numeric: \"auto\" }).format(\n                    Math.floor((doc.lastIndexed.getTime() - Date.now()) / (1000 * 60 * 60)),\n                    \"hour\"\n                  )}</p>\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      ) : (\n        <Card>\n          <CardContent className=\"p-0\">\n            <div className=\"divide-y\">\n              {filteredDocuments.map((doc) => (\n                <div\n                  key={doc.id}\n                  className=\"flex items-center justify-between p-4 hover-elevate cursor-pointer\"\n                  onClick={() => setSelectedDoc(doc)}\n                  data-testid={`row-document-${doc.id}`}\n                >\n                  <div className=\"flex items-center gap-4\">\n                    <Checkbox\n                      checked={selectedDocs.includes(doc.id)}\n                      onCheckedChange={(checked) => {\n                        if (checked) {\n                          setSelectedDocs(prev => [...prev, doc.id]);\n                        } else {\n                          setSelectedDocs(prev => prev.filter(id => id !== doc.id));\n                        }\n                      }}\n                      onClick={(e) => e.stopPropagation()}\n                      data-testid={`checkbox-${doc.id}`}\n                    />\n                    <FileText className=\"h-4 w-4 text-muted-foreground\" />\n                    <div>\n                      <p className=\"font-medium\">{doc.title}</p>\n                      <p className=\"text-sm text-muted-foreground\">{doc.source}</p>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center gap-4 text-sm\">\n                    <div className=\"text-right\">\n                      <p>{doc.chunks} chunks</p>\n                      <p className=\"text-muted-foreground\">{doc.size}</p>\n                    </div>\n                    <div className=\"flex items-center gap-1\">\n                      <Badge variant={getTypeColor(doc.type)} className=\"text-xs\">\n                        {doc.type}\n                      </Badge>\n                      <Badge variant={getStatusColor(doc.status)} className=\"text-xs\">\n                        {doc.status}\n                      </Badge>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Document Detail Sheet */}\n      <Sheet open={!!selectedDoc} onOpenChange={() => setSelectedDoc(null)}>\n        <SheetContent className=\"w-96\">\n          {selectedDoc && (\n            <>\n              <SheetHeader>\n                <SheetTitle className=\"flex items-center gap-2\">\n                  <FileText className=\"h-5 w-5\" />\n                  Document Details\n                </SheetTitle>\n                <SheetDescription>\n                  View document metadata and processing information\n                </SheetDescription>\n              </SheetHeader>\n              \n              <div className=\"mt-6 space-y-6\">\n                <div>\n                  <h3 className=\"font-medium mb-2\">{selectedDoc.title}</h3>\n                  <div className=\"flex items-center gap-2 mb-4\">\n                    <Badge variant={getTypeColor(selectedDoc.type)} className=\"text-xs\">\n                      {selectedDoc.type}\n                    </Badge>\n                    <Badge variant={getStatusColor(selectedDoc.status)} className=\"text-xs\">\n                      {selectedDoc.status}\n                    </Badge>\n                  </div>\n                </div>\n\n                <div className=\"space-y-4\">\n                  <div>\n                    <label className=\"text-sm font-medium text-muted-foreground\">Source URL</label>\n                    <div className=\"flex items-center gap-2 mt-1\">\n                      <p className=\"text-sm break-all\">{selectedDoc.url}</p>\n                      <Button variant=\"ghost\" size=\"sm\" data-testid=\"button-open-source\">\n                        <ExternalLink className=\"h-3 w-3\" />\n                      </Button>\n                    </div>\n                  </div>\n\n                  <div>\n                    <label className=\"text-sm font-medium text-muted-foreground\">Source Domain</label>\n                    <p className=\"text-sm mt-1\">{selectedDoc.source}</p>\n                  </div>\n\n                  <div>\n                    <label className=\"text-sm font-medium text-muted-foreground\">Language</label>\n                    <p className=\"text-sm mt-1\">{selectedDoc.language}</p>\n                  </div>\n\n                  <div>\n                    <label className=\"text-sm font-medium text-muted-foreground\">File Size</label>\n                    <p className=\"text-sm mt-1\">{selectedDoc.size}</p>\n                  </div>\n\n                  <div>\n                    <label className=\"text-sm font-medium text-muted-foreground\">Checksum</label>\n                    <p className=\"text-sm mt-1 font-mono\">{selectedDoc.checksum}</p>\n                  </div>\n\n                  <div>\n                    <label className=\"text-sm font-medium text-muted-foreground\">Chunks</label>\n                    <p className=\"text-sm mt-1\">{selectedDoc.chunks} text chunks created</p>\n                  </div>\n\n                  <div>\n                    <label className=\"text-sm font-medium text-muted-foreground\">Last Indexed</label>\n                    <p className=\"text-sm mt-1\">{selectedDoc.lastIndexed.toLocaleString()}</p>\n                  </div>\n                </div>\n\n                <div className=\"flex gap-2 pt-4\">\n                  <Button variant=\"outline\" size=\"sm\" data-testid=\"button-reindex-document\">\n                    <RefreshCw className=\"h-4 w-4 mr-2\" />\n                    Re-index\n                  </Button>\n                  <Button variant=\"outline\" size=\"sm\" data-testid=\"button-delete-document\">\n                    <Trash2 className=\"h-4 w-4 mr-2\" />\n                    Delete\n                  </Button>\n                </div>\n              </div>\n            </>\n          )}\n        </SheetContent>\n      </Sheet>\n\n      {/* Upload Document Form */}\n      <UploadDocumentForm\n        open={showUploadForm}\n        onOpenChange={setShowUploadForm}\n        onSubmit={(data) => {\n          console.log(\"Document upload submitted:\", data);\n          toast({\n            title: \"Documents Uploaded\",\n            description: `Successfully uploaded ${data.files?.length || 0} documents`,\n          });\n        }}\n      />\n    </div>\n  );\n}","size_bytes":17157},"client/src/pages/ErrorPages.tsx":{"content":"import { AlertTriangle, Home, ArrowLeft, RefreshCw } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Link } from \"wouter\";\n\nexport function NotFound() {\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-background p-4\">\n      <Card className=\"w-full max-w-md text-center\">\n        <CardHeader>\n          <div className=\"mx-auto mb-4 h-12 w-12 rounded-full bg-secondary flex items-center justify-center\">\n            <AlertTriangle className=\"h-6 w-6 text-muted-foreground\" />\n          </div>\n          <CardTitle className=\"text-2xl\">Page Not Found</CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <p className=\"text-muted-foreground\">\n            The page you're looking for doesn't exist or has been moved.\n          </p>\n          <div className=\"flex flex-col gap-2\">\n            <Link href=\"/\">\n              <Button className=\"w-full\" data-testid=\"button-home\">\n                <Home className=\"h-4 w-4 mr-2\" />\n                Back to Dashboard\n              </Button>\n            </Link>\n            <Button\n              variant=\"outline\"\n              onClick={() => window.history.back()}\n              data-testid=\"button-back\"\n            >\n              <ArrowLeft className=\"h-4 w-4 mr-2\" />\n              Go Back\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\nexport function PermissionDenied() {\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-background p-4\">\n      <Card className=\"w-full max-w-md text-center\">\n        <CardHeader>\n          <div className=\"mx-auto mb-4 h-12 w-12 rounded-full bg-destructive/10 flex items-center justify-center\">\n            <AlertTriangle className=\"h-6 w-6 text-destructive\" />\n          </div>\n          <CardTitle className=\"text-2xl\">Access Denied</CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <p className=\"text-muted-foreground\">\n            You don't have permission to access this resource. Please contact your administrator if you believe this is an error.\n          </p>\n          <div className=\"flex flex-col gap-2\">\n            <Link href=\"/\">\n              <Button className=\"w-full\" data-testid=\"button-home\">\n                <Home className=\"h-4 w-4 mr-2\" />\n                Back to Dashboard\n              </Button>\n            </Link>\n            <Button\n              variant=\"outline\"\n              onClick={() => window.location.reload()}\n              data-testid=\"button-retry\"\n            >\n              <RefreshCw className=\"h-4 w-4 mr-2\" />\n              Try Again\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\nexport function ServerError() {\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-background p-4\">\n      <Card className=\"w-full max-w-md text-center\">\n        <CardHeader>\n          <div className=\"mx-auto mb-4 h-12 w-12 rounded-full bg-destructive/10 flex items-center justify-center\">\n            <AlertTriangle className=\"h-6 w-6 text-destructive\" />\n          </div>\n          <CardTitle className=\"text-2xl\">Something went wrong</CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <p className=\"text-muted-foreground\">\n            We're experiencing technical difficulties. Please try again in a few moments.\n          </p>\n          <div className=\"flex flex-col gap-2\">\n            <Button\n              onClick={() => window.location.reload()}\n              data-testid=\"button-reload\"\n            >\n              <RefreshCw className=\"h-4 w-4 mr-2\" />\n              Reload Page\n            </Button>\n            <Link href=\"/\">\n              <Button variant=\"outline\" className=\"w-full\" data-testid=\"button-home\">\n                <Home className=\"h-4 w-4 mr-2\" />\n                Back to Dashboard\n              </Button>\n            </Link>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\n// Empty state components for various contexts\nexport function EmptyQueries() {\n  return (\n    <div className=\"text-center py-12\">\n      <div className=\"mx-auto mb-4 h-12 w-12 rounded-full bg-secondary flex items-center justify-center\">\n        <AlertTriangle className=\"h-6 w-6 text-muted-foreground\" />\n      </div>\n      <h3 className=\"text-lg font-semibold mb-2\">No queries yet</h3>\n      <p className=\"text-muted-foreground mb-4\">\n        Start using your RAG system to see query analytics here.\n      </p>\n      <Button data-testid=\"button-test-query\">\n        <RefreshCw className=\"h-4 w-4 mr-2\" />\n        Test a Query\n      </Button>\n    </div>\n  );\n}\n\nexport function EmptyDocuments() {\n  return (\n    <div className=\"text-center py-12\">\n      <div className=\"mx-auto mb-4 h-12 w-12 rounded-full bg-secondary flex items-center justify-center\">\n        <AlertTriangle className=\"h-6 w-6 text-muted-foreground\" />\n      </div>\n      <h3 className=\"text-lg font-semibold mb-2\">No documents found</h3>\n      <p className=\"text-muted-foreground mb-4\">\n        Upload documents or configure crawl sources to get started.\n      </p>\n      <div className=\"flex justify-center gap-2\">\n        <Button data-testid=\"button-upload-documents\">\n          Upload Documents\n        </Button>\n        <Button variant=\"outline\" data-testid=\"button-add-source\">\n          Add Crawl Source\n        </Button>\n      </div>\n    </div>\n  );\n}\n\nexport function EmptyFeedback() {\n  return (\n    <div className=\"text-center py-12\">\n      <div className=\"mx-auto mb-4 h-12 w-12 rounded-full bg-secondary flex items-center justify-center\">\n        <AlertTriangle className=\"h-6 w-6 text-muted-foreground\" />\n      </div>\n      <h3 className=\"text-lg font-semibold mb-2\">No feedback yet</h3>\n      <p className=\"text-muted-foreground mb-4\">\n        User feedback will appear here once people start using your AI assistant.\n      </p>\n      <Button variant=\"outline\" data-testid=\"button-view-analytics\">\n        View Analytics\n      </Button>\n    </div>\n  );\n}","size_bytes":6176},"client/src/pages/Feedback.tsx":{"content":"import { useState } from \"react\";\nimport { Filter, ExternalLink, Copy, ThumbsUp, ThumbsDown, MessageSquare } from \"lucide-react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Input } from \"@/components/ui/input\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\n\n// todo: remove mock functionality\nconst feedbackData = [\n  {\n    id: \"fb-001\",\n    query: \"How to configure SSL certificates for my domain?\",\n    excerpt: \"To configure SSL certificates for your domain, you'll need to follow these steps...\",\n    vote: \"up\",\n    reasons: [\"helpful\", \"accurate\"],\n    createdAt: new Date(Date.now() - 5 * 60 * 1000),\n    sessionId: \"sess-abc123\",\n    fullAnswer: \"To configure SSL certificates for your domain, you'll need to follow these steps:\\n\\n1. **Generate a Certificate**: You can use Let's Encrypt for free SSL certificates\\n2. **Configure your web server**: Update your Nginx or Apache configuration\\n3. **Set up automatic renewal**: Ensure certificates renew before expiry\\n\\nThe process varies depending on your hosting provider and web server configuration.\",\n    citations: [\n      { title: \"SSL Setup Guide\", url: \"https://docs.example.com/ssl\" },\n      { title: \"Let's Encrypt Tutorial\", url: \"https://docs.example.com/letsencrypt\" }\n    ],\n    userAgent: \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36\",\n    ipAddress: \"192.168.1.100\",\n  },\n  {\n    id: \"fb-002\",\n    query: \"API rate limits documentation\",\n    excerpt: \"Our API implements rate limiting to ensure fair usage across all clients...\",\n    vote: \"down\",\n    reasons: [\"outdated\", \"missing sources\"],\n    createdAt: new Date(Date.now() - 12 * 60 * 1000),\n    sessionId: \"sess-def456\",\n    fullAnswer: \"Our API implements rate limiting to ensure fair usage across all clients. The current limits are:\\n\\n- Free tier: 100 requests per hour\\n- Pro tier: 1000 requests per hour\\n- Enterprise: Custom limits\\n\\nNote: These limits may be subject to change.\",\n    citations: [\n      { title: \"API Documentation\", url: \"https://api.example.com/docs\" }\n    ],\n    userAgent: \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15\",\n    ipAddress: \"10.0.0.45\",\n  },\n  {\n    id: \"fb-003\",\n    query: \"Database backup procedures\",\n    excerpt: \"Regular database backups are crucial for data protection. Here's our recommended approach...\",\n    vote: \"up\",\n    reasons: [\"complete\", \"clear\"],\n    createdAt: new Date(Date.now() - 25 * 60 * 1000),\n    sessionId: \"sess-ghi789\",\n    fullAnswer: \"Regular database backups are crucial for data protection. Here's our recommended approach:\\n\\n1. **Automated daily backups**: Set up cron jobs for daily database dumps\\n2. **Off-site storage**: Store backups in a separate location\\n3. **Test restores regularly**: Verify backup integrity monthly\\n4. **Document the process**: Keep detailed restore procedures\\n\\nFor PostgreSQL, use pg_dump for logical backups and pg_basebackup for physical backups.\",\n    citations: [\n      { title: \"Backup Best Practices\", url: \"https://docs.example.com/backup\" },\n      { title: \"PostgreSQL Backup Guide\", url: \"https://docs.example.com/postgres-backup\" }\n    ],\n    userAgent: \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36\",\n    ipAddress: \"172.16.0.12\",\n  },\n  {\n    id: \"fb-004\",\n    query: \"Performance optimization for large datasets\",\n    excerpt: \"When working with large datasets, consider these optimization strategies...\",\n    vote: \"down\",\n    reasons: [\"not helpful\", \"too technical\"],\n    createdAt: new Date(Date.now() - 1 * 60 * 60 * 1000),\n    sessionId: \"sess-jkl012\",\n    fullAnswer: \"When working with large datasets, consider these optimization strategies:\\n\\n1. **Indexing**: Create appropriate database indexes\\n2. **Pagination**: Implement cursor-based pagination\\n3. **Caching**: Use Redis for frequently accessed data\\n4. **Query optimization**: Analyze and optimize slow queries\\n\\nProfile your application to identify bottlenecks.\",\n    citations: [\n      { title: \"Performance Guide\", url: \"https://docs.example.com/performance\" }\n    ],\n    userAgent: \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) Chrome/91.0.4472.124\",\n    ipAddress: \"203.0.113.15\",\n  },\n];\n\nexport default function Feedback() {\n  const [selectedFeedback, setSelectedFeedback] = useState<typeof feedbackData[0] | null>(null);\n  const [timeRange, setTimeRange] = useState(\"all\");\n  const [voteFilter, setVoteFilter] = useState(\"all\");\n  const [reasonFilter, setReasonFilter] = useState(\"all\");\n\n  const getVoteIcon = (vote: string) => {\n    return vote === \"up\" ? <ThumbsUp className=\"h-4 w-4\" /> : <ThumbsDown className=\"h-4 w-4\" />;\n  };\n\n  const getVoteColor = (vote: string) => {\n    return vote === \"up\" ? \"default\" : \"destructive\";\n  };\n\n  const filteredFeedback = feedbackData.filter(item => {\n    if (voteFilter !== \"all\" && item.vote !== voteFilter) return false;\n    if (reasonFilter !== \"all\" && !item.reasons.includes(reasonFilter)) return false;\n    return true;\n  });\n\n  const handleCopyToClipboard = (text: string) => {\n    navigator.clipboard.writeText(text);\n    // Copied to clipboard\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold tracking-tight\">Feedback Moderation</h1>\n          <p className=\"text-muted-foreground\">\n            Review and analyze user feedback on AI responses\n          </p>\n        </div>\n      </div>\n\n      {/* Filters */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Filter className=\"h-5 w-5\" />\n            Filters\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"flex items-center gap-4\">\n            <Select value={timeRange} onValueChange={setTimeRange}>\n              <SelectTrigger className=\"w-40\" data-testid=\"select-time-range\">\n                <SelectValue placeholder=\"Time Range\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"all\">All Time</SelectItem>\n                <SelectItem value=\"today\">Today</SelectItem>\n                <SelectItem value=\"week\">This Week</SelectItem>\n                <SelectItem value=\"month\">This Month</SelectItem>\n              </SelectContent>\n            </Select>\n\n            <Select value={voteFilter} onValueChange={setVoteFilter}>\n              <SelectTrigger className=\"w-32\" data-testid=\"select-vote-filter\">\n                <SelectValue placeholder=\"Vote\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"all\">All Votes</SelectItem>\n                <SelectItem value=\"up\">👍 Positive</SelectItem>\n                <SelectItem value=\"down\">👎 Negative</SelectItem>\n              </SelectContent>\n            </Select>\n\n            <Select value={reasonFilter} onValueChange={setReasonFilter}>\n              <SelectTrigger className=\"w-40\" data-testid=\"select-reason-filter\">\n                <SelectValue placeholder=\"Reason\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"all\">All Reasons</SelectItem>\n                <SelectItem value=\"helpful\">Helpful</SelectItem>\n                <SelectItem value=\"accurate\">Accurate</SelectItem>\n                <SelectItem value=\"complete\">Complete</SelectItem>\n                <SelectItem value=\"clear\">Clear</SelectItem>\n                <SelectItem value=\"not helpful\">Not Helpful</SelectItem>\n                <SelectItem value=\"outdated\">Outdated</SelectItem>\n                <SelectItem value=\"missing sources\">Missing Sources</SelectItem>\n                <SelectItem value=\"too technical\">Too Technical</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Feedback Table */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <MessageSquare className=\"h-5 w-5\" />\n            Feedback ({filteredFeedback.length})\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead>Query</TableHead>\n                <TableHead>Vote</TableHead>\n                <TableHead>Reasons</TableHead>\n                <TableHead>Time</TableHead>\n                <TableHead>Session</TableHead>\n                <TableHead className=\"w-[50px]\"></TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {filteredFeedback.map((feedback) => (\n                <TableRow\n                  key={feedback.id}\n                  className=\"cursor-pointer hover-elevate\"\n                  onClick={() => setSelectedFeedback(feedback)}\n                  data-testid={`row-feedback-${feedback.id}`}\n                >\n                  <TableCell className=\"max-w-[300px]\">\n                    <div>\n                      <p className=\"font-medium line-clamp-1\">{feedback.query}</p>\n                      <p className=\"text-sm text-muted-foreground line-clamp-2 mt-1\">\n                        {feedback.excerpt}\n                      </p>\n                    </div>\n                  </TableCell>\n                  <TableCell>\n                    <Badge variant={getVoteColor(feedback.vote)} className=\"flex items-center gap-1 w-fit\">\n                      {getVoteIcon(feedback.vote)}\n                      {feedback.vote}\n                    </Badge>\n                  </TableCell>\n                  <TableCell>\n                    <div className=\"flex flex-wrap gap-1\">\n                      {feedback.reasons.map((reason, index) => (\n                        <Badge key={index} variant=\"outline\" className=\"text-xs\">\n                          {reason}\n                        </Badge>\n                      ))}\n                    </div>\n                  </TableCell>\n                  <TableCell className=\"text-sm text-muted-foreground\">\n                    {new Intl.RelativeTimeFormat(\"en\", { numeric: \"auto\" }).format(\n                      Math.floor((feedback.createdAt.getTime() - Date.now()) / (1000 * 60)),\n                      \"minute\"\n                    )}\n                  </TableCell>\n                  <TableCell className=\"text-sm text-muted-foreground font-mono\">\n                    {feedback.sessionId}\n                  </TableCell>\n                  <TableCell>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        console.log(\"View session:\", feedback.sessionId);\n                      }}\n                      data-testid={`button-view-session-${feedback.id}`}\n                    >\n                      <ExternalLink className=\"h-4 w-4\" />\n                    </Button>\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </CardContent>\n      </Card>\n\n      {/* Feedback Detail Sheet */}\n      <Sheet open={!!selectedFeedback} onOpenChange={() => setSelectedFeedback(null)}>\n        <SheetContent className=\"w-[600px] max-w-[90vw]\">\n          {selectedFeedback && (\n            <>\n              <SheetHeader>\n                <SheetTitle className=\"flex items-center gap-2\">\n                  <MessageSquare className=\"h-5 w-5\" />\n                  Feedback Details\n                </SheetTitle>\n                <SheetDescription>\n                  Full conversation and feedback analysis\n                </SheetDescription>\n              </SheetHeader>\n              \n              <div className=\"mt-6 space-y-6\">\n                {/* Query */}\n                <div>\n                  <label className=\"text-sm font-medium text-muted-foreground\">User Query</label>\n                  <div className=\"mt-2 p-3 bg-secondary rounded-lg\">\n                    <p className=\"text-sm\">{selectedFeedback.query}</p>\n                  </div>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    className=\"mt-2\"\n                    onClick={() => handleCopyToClipboard(selectedFeedback.query)}\n                    data-testid=\"button-copy-query\"\n                  >\n                    <Copy className=\"h-4 w-4 mr-2\" />\n                    Copy Query\n                  </Button>\n                </div>\n\n                {/* Answer */}\n                <div>\n                  <label className=\"text-sm font-medium text-muted-foreground\">AI Response</label>\n                  <div className=\"mt-2 p-3 bg-card border rounded-lg\">\n                    <div className=\"prose prose-sm max-w-none\">\n                      <p className=\"whitespace-pre-wrap text-sm\">{selectedFeedback.fullAnswer}</p>\n                    </div>\n                  </div>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    className=\"mt-2\"\n                    onClick={() => handleCopyToClipboard(selectedFeedback.fullAnswer)}\n                    data-testid=\"button-copy-answer\"\n                  >\n                    <Copy className=\"h-4 w-4 mr-2\" />\n                    Copy Answer\n                  </Button>\n                </div>\n\n                {/* Citations */}\n                <div>\n                  <label className=\"text-sm font-medium text-muted-foreground\">Sources Used</label>\n                  <div className=\"mt-2 space-y-2\">\n                    {selectedFeedback.citations.map((citation, index) => (\n                      <div\n                        key={index}\n                        className=\"flex items-center justify-between p-2 border rounded-lg hover-elevate\"\n                      >\n                        <span className=\"text-sm\">{citation.title}</span>\n                        <Button\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          onClick={() => console.log(\"Open:\", citation.url)}\n                          data-testid={`button-open-citation-${index}`}\n                        >\n                          <ExternalLink className=\"h-3 w-3\" />\n                        </Button>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                {/* Feedback */}\n                <div>\n                  <label className=\"text-sm font-medium text-muted-foreground\">User Feedback</label>\n                  <div className=\"mt-2 flex items-center gap-4\">\n                    <Badge variant={getVoteColor(selectedFeedback.vote)} className=\"flex items-center gap-1\">\n                      {getVoteIcon(selectedFeedback.vote)}\n                      {selectedFeedback.vote === \"up\" ? \"Positive\" : \"Negative\"}\n                    </Badge>\n                    <div className=\"flex flex-wrap gap-1\">\n                      {selectedFeedback.reasons.map((reason, index) => (\n                        <Badge key={index} variant=\"outline\" className=\"text-xs\">\n                          {reason}\n                        </Badge>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n\n                {/* Metadata */}\n                <div className=\"space-y-4 pt-4 border-t\">\n                  <div>\n                    <label className=\"text-sm font-medium text-muted-foreground\">Session ID</label>\n                    <p className=\"text-sm font-mono mt-1\">{selectedFeedback.sessionId}</p>\n                  </div>\n                  \n                  <div>\n                    <label className=\"text-sm font-medium text-muted-foreground\">Timestamp</label>\n                    <p className=\"text-sm mt-1\">{selectedFeedback.createdAt.toLocaleString()}</p>\n                  </div>\n\n                  <div>\n                    <label className=\"text-sm font-medium text-muted-foreground\">User Agent</label>\n                    <p className=\"text-xs mt-1 break-all\">{selectedFeedback.userAgent}</p>\n                  </div>\n\n                  <div>\n                    <label className=\"text-sm font-medium text-muted-foreground\">IP Address</label>\n                    <p className=\"text-sm font-mono mt-1\">{selectedFeedback.ipAddress}</p>\n                  </div>\n                </div>\n\n                <div className=\"flex gap-2 pt-4\">\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => handleCopyToClipboard(JSON.stringify(selectedFeedback, null, 2))}\n                    data-testid=\"button-copy-all\"\n                  >\n                    <Copy className=\"h-4 w-4 mr-2\" />\n                    Copy All Data\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => console.log(\"View full session:\", selectedFeedback.sessionId)}\n                    data-testid=\"button-view-full-session\"\n                  >\n                    <ExternalLink className=\"h-4 w-4 mr-2\" />\n                    View Full Session\n                  </Button>\n                </div>\n              </div>\n            </>\n          )}\n        </SheetContent>\n      </Sheet>\n    </div>\n  );\n}","size_bytes":17731},"client/src/pages/Integrations.tsx":{"content":"import { useState } from \"react\";\nimport { Plus, Search, Filter, Globe, Copy, Pause, Play, Archive, Settings, BarChart3, Users, Edit, ExternalLink } from \"lucide-react\";\nimport IntegrationCreateEdit from \"@/components/IntegrationCreateEdit\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\n\ninterface Integration {\n  id: string;\n  name: string;\n  slug: string;\n  publicId: string;\n  description: string;\n  status: \"active\" | \"paused\" | \"archived\";\n  environments: Array<\"staging\" | \"production\">;\n  lastPublish: Date | null;\n  queriesLast7d: number;\n  errorsLast7d: number;\n  queriesLast30d: number;\n  errorsLast30d: number;\n  owner: {\n    id: string;\n    name: string;\n    email: string;\n  };\n  tags: string[];\n  createdAt: Date;\n  updatedAt: Date;\n}\n\n// Mock data - replace with API calls\nconst mockIntegrations: Integration[] = [\n  {\n    id: \"int-001\",\n    name: \"Documentation Widget\",\n    slug: \"docs-widget\",\n    publicId: \"docs-widget-abc123\",\n    description: \"AI assistant for customer documentation and help center\",\n    status: \"active\",\n    environments: [\"staging\", \"production\"],\n    lastPublish: new Date(Date.now() - 2 * 60 * 60 * 1000),\n    queriesLast7d: 1247,\n    errorsLast7d: 3,\n    queriesLast30d: 5420,\n    errorsLast30d: 12,\n    owner: {\n      id: \"user-001\",\n      name: \"John Doe\",\n      email: \"john@company.com\",\n    },\n    tags: [\"customer-support\", \"documentation\"],\n    createdAt: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000),\n    updatedAt: new Date(Date.now() - 2 * 60 * 60 * 1000),\n  },\n  {\n    id: \"int-002\", \n    name: \"Internal Knowledge Base\",\n    slug: \"kb-internal\",\n    publicId: \"kb-internal-def456\",\n    description: \"Employee knowledge base for internal documentation\",\n    status: \"active\",\n    environments: [\"production\"],\n    lastPublish: new Date(Date.now() - 24 * 60 * 60 * 1000),\n    queriesLast7d: 423,\n    errorsLast7d: 0,\n    queriesLast30d: 1892,\n    errorsLast30d: 2,\n    owner: {\n      id: \"user-002\",\n      name: \"Jane Smith\",\n      email: \"jane@company.com\",\n    },\n    tags: [\"internal\", \"hr\"],\n    createdAt: new Date(Date.now() - 45 * 24 * 60 * 60 * 1000),\n    updatedAt: new Date(Date.now() - 24 * 60 * 60 * 1000),\n  },\n  {\n    id: \"int-003\",\n    name: \"API Documentation Chat\",\n    slug: \"api-docs\",\n    publicId: \"api-docs-ghi789\",\n    description: \"Interactive chat for API documentation and examples\",\n    status: \"paused\",\n    environments: [\"staging\"],\n    lastPublish: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000),\n    queriesLast7d: 0,\n    errorsLast7d: 0,\n    queriesLast30d: 156,\n    errorsLast30d: 5,\n    owner: {\n      id: \"user-003\",\n      name: \"Bob Wilson\",\n      email: \"bob@company.com\",\n    },\n    tags: [\"api\", \"developers\"],\n    createdAt: new Date(Date.now() - 60 * 24 * 60 * 60 * 1000),\n    updatedAt: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000),\n  },\n  {\n    id: \"int-004\",\n    name: \"Product Support Bot\",\n    slug: \"support-bot\",\n    publicId: \"support-bot-jkl012\",\n    description: \"Customer support chatbot for product inquiries\",\n    status: \"archived\",\n    environments: [],\n    lastPublish: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000),\n    queriesLast7d: 0,\n    errorsLast7d: 0,\n    queriesLast30d: 0,\n    errorsLast30d: 15,\n    owner: {\n      id: \"user-004\",\n      name: \"Alice Johnson\", \n      email: \"alice@company.com\",\n    },\n    tags: [\"support\", \"deprecated\"],\n    createdAt: new Date(Date.now() - 90 * 24 * 60 * 60 * 1000),\n    updatedAt: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000),\n  },\n];\n\nexport default function Integrations() {\n  const [integrations, setIntegrations] = useState(mockIntegrations);\n  const [selectedIntegrations, setSelectedIntegrations] = useState<string[]>([]);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [statusFilter, setStatusFilter] = useState(\"all\");\n  const [ownerFilter, setOwnerFilter] = useState(\"all\");\n  const [envFilter, setEnvFilter] = useState(\"all\");\n  \n  // Navigation state\n  const [currentView, setCurrentView] = useState<\"list\" | \"create\" | \"edit\">(\"list\");\n  const [editingIntegrationId, setEditingIntegrationId] = useState<string | undefined>();\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case \"active\":\n        return \"default\";\n      case \"paused\":\n        return \"secondary\";\n      case \"archived\":\n        return \"outline\";\n      default:\n        return \"outline\";\n    }\n  };\n\n  const getEnvBadgeColor = (env: string) => {\n    switch (env) {\n      case \"production\":\n        return \"default\";\n      case \"staging\":\n        return \"secondary\";\n      default:\n        return \"outline\";\n    }\n  };\n\n  const filteredIntegrations = integrations.filter(integration => {\n    if (searchQuery && !integration.name.toLowerCase().includes(searchQuery.toLowerCase()) &&\n        !integration.publicId.toLowerCase().includes(searchQuery.toLowerCase())) return false;\n    if (statusFilter !== \"all\" && integration.status !== statusFilter) return false;\n    if (ownerFilter !== \"all\" && integration.owner.email !== ownerFilter) return false;\n    if (envFilter !== \"all\" && !integration.environments.includes(envFilter as any)) return false;\n    return true;\n  });\n\n  const handleBulkAction = (action: string) => {\n    console.log(`${action} action for integrations:`, selectedIntegrations);\n    setSelectedIntegrations([]);\n  };\n\n  const handleIntegrationAction = (integrationId: string, action: string) => {\n    console.log(`${action} action for integration:`, integrationId);\n    \n    if (action === \"pause\" || action === \"resume\") {\n      setIntegrations(prev =>\n        prev.map(integration =>\n          integration.id === integrationId\n            ? { ...integration, status: action === \"pause\" ? \"paused\" : \"active\" as const }\n            : integration\n        )\n      );\n    }\n  };\n\n  const handleCreateIntegration = () => {\n    console.log(\"Create new integration\");\n    setCurrentView(\"create\");\n    setEditingIntegrationId(undefined);\n  };\n\n  const handleEditIntegration = (integrationId: string) => {\n    console.log(\"Edit integration:\", integrationId);\n    setCurrentView(\"edit\");\n    setEditingIntegrationId(integrationId);\n  };\n\n  const handleOpenIntegration = (integrationId: string) => {\n    console.log(\"Open integration:\", integrationId);\n    // For now, treat \"open\" the same as \"edit\" - open in edit mode\n    setCurrentView(\"edit\");\n    setEditingIntegrationId(integrationId);\n  };\n\n  const handleBackToList = () => {\n    setCurrentView(\"list\");\n    setEditingIntegrationId(undefined);\n  };\n\n  const handleSaveIntegration = (data: any) => {\n    console.log(\"Saving integration data:\", data);\n    // TODO: Implement actual save logic here\n    // For now, just go back to list\n    handleBackToList();\n  };\n\n  const handleDuplicateIntegration = (integrationId: string) => {\n    console.log(\"Duplicate integration:\", integrationId);\n    // TODO: Implement duplication logic\n    // For now, open in create mode with prefilled data\n    setCurrentView(\"create\");\n    setEditingIntegrationId(integrationId); // Can use this to prefill data\n  };\n\n  // Show create/edit form if not in list view\n  if (currentView === \"create\" || currentView === \"edit\") {\n    return (\n      <IntegrationCreateEdit\n        integrationId={editingIntegrationId}\n        mode={currentView}\n        onBack={handleBackToList}\n        onSave={handleSaveIntegration}\n      />\n    );\n  }\n\n  // Show list view\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold tracking-tight\">Integrations</h1>\n          <p className=\"text-muted-foreground\">\n            Manage your AI chat and search integrations across environments\n          </p>\n        </div>\n        <Button onClick={handleCreateIntegration} data-testid=\"button-create-integration\">\n          <Plus className=\"h-4 w-4 mr-2\" />\n          Create Integration\n        </Button>\n      </div>\n\n      {/* Filters */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Filter className=\"h-5 w-5\" />\n            Filters & Search\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"flex items-center gap-4\">\n            <div className=\"relative flex-1\">\n              <Search className=\"absolute left-3 h-4 w-4 text-muted-foreground\" />\n              <Input\n                placeholder=\"Search by name or public ID...\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                className=\"pl-10\"\n                data-testid=\"input-search-integrations\"\n              />\n            </div>\n\n            <Select value={statusFilter} onValueChange={setStatusFilter}>\n              <SelectTrigger className=\"w-32\" data-testid=\"select-status-filter\">\n                <SelectValue placeholder=\"Status\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"all\">All Status</SelectItem>\n                <SelectItem value=\"active\">Active</SelectItem>\n                <SelectItem value=\"paused\">Paused</SelectItem>\n                <SelectItem value=\"archived\">Archived</SelectItem>\n              </SelectContent>\n            </Select>\n\n            <Select value={ownerFilter} onValueChange={setOwnerFilter}>\n              <SelectTrigger className=\"w-40\" data-testid=\"select-owner-filter\">\n                <SelectValue placeholder=\"Owner\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"all\">All Owners</SelectItem>\n                <SelectItem value=\"john@company.com\">John Doe</SelectItem>\n                <SelectItem value=\"jane@company.com\">Jane Smith</SelectItem>\n                <SelectItem value=\"bob@company.com\">Bob Wilson</SelectItem>\n              </SelectContent>\n            </Select>\n\n            <Select value={envFilter} onValueChange={setEnvFilter}>\n              <SelectTrigger className=\"w-40\" data-testid=\"select-env-filter\">\n                <SelectValue placeholder=\"Environment\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"all\">All Environments</SelectItem>\n                <SelectItem value=\"production\">Production</SelectItem>\n                <SelectItem value=\"staging\">Staging</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Bulk Actions */}\n      {selectedIntegrations.length > 0 && (\n        <div className=\"flex items-center gap-4 p-4 bg-accent rounded-lg\">\n          <span className=\"text-sm font-medium\">\n            {selectedIntegrations.length} integration{selectedIntegrations.length > 1 ? \"s\" : \"\"} selected\n          </span>\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={() => handleBulkAction(\"pause\")}\n            data-testid=\"button-bulk-pause\"\n          >\n            <Pause className=\"h-4 w-4 mr-2\" />\n            Pause\n          </Button>\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={() => handleBulkAction(\"resume\")}\n            data-testid=\"button-bulk-resume\"\n          >\n            <Play className=\"h-4 w-4 mr-2\" />\n            Resume\n          </Button>\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={() => handleBulkAction(\"archive\")}\n            data-testid=\"button-bulk-archive\"\n          >\n            <Archive className=\"h-4 w-4 mr-2\" />\n            Archive\n          </Button>\n        </div>\n      )}\n\n      {/* Integrations Table */}\n      <Card>\n        <CardContent className=\"p-0\">\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead className=\"w-[50px]\">\n                  <Checkbox\n                    checked={selectedIntegrations.length === filteredIntegrations.length}\n                    onCheckedChange={(checked) => {\n                      if (checked) {\n                        setSelectedIntegrations(filteredIntegrations.map(i => i.id));\n                      } else {\n                        setSelectedIntegrations([]);\n                      }\n                    }}\n                    data-testid=\"checkbox-select-all\"\n                  />\n                </TableHead>\n                <TableHead>Name</TableHead>\n                <TableHead>Public ID</TableHead>\n                <TableHead>Environments</TableHead>\n                <TableHead>Status</TableHead>\n                <TableHead>Last Publish</TableHead>\n                <TableHead>Queries (7d)</TableHead>\n                <TableHead>Errors (7d)</TableHead>\n                <TableHead>Owner</TableHead>\n                <TableHead className=\"w-[100px]\">Actions</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {filteredIntegrations.map((integration) => (\n                <TableRow\n                  key={integration.id}\n                  className=\"hover-elevate cursor-pointer\"\n                  data-testid={`row-integration-${integration.id}`}\n                >\n                  <TableCell>\n                    <Checkbox\n                      checked={selectedIntegrations.includes(integration.id)}\n                      onCheckedChange={(checked) => {\n                        if (checked) {\n                          setSelectedIntegrations(prev => [...prev, integration.id]);\n                        } else {\n                          setSelectedIntegrations(prev => prev.filter(id => id !== integration.id));\n                        }\n                      }}\n                      onClick={(e) => e.stopPropagation()}\n                      data-testid={`checkbox-${integration.id}`}\n                    />\n                  </TableCell>\n                  <TableCell>\n                    <div>\n                      <div className=\"font-medium\">{integration.name}</div>\n                      <div className=\"text-sm text-muted-foreground line-clamp-1\">\n                        {integration.description}\n                      </div>\n                      <div className=\"flex flex-wrap gap-1 mt-1\">\n                        {integration.tags.map((tag, index) => (\n                          <Badge key={index} variant=\"outline\" className=\"text-xs\">\n                            {tag}\n                          </Badge>\n                        ))}\n                      </div>\n                    </div>\n                  </TableCell>\n                  <TableCell>\n                    <div className=\"font-mono text-sm\">{integration.publicId}</div>\n                  </TableCell>\n                  <TableCell>\n                    <div className=\"flex flex-wrap gap-1\">\n                      {integration.environments.map((env, index) => (\n                        <Badge key={index} variant={getEnvBadgeColor(env)} className=\"text-xs\">\n                          {env}\n                        </Badge>\n                      ))}\n                      {integration.environments.length === 0 && (\n                        <span className=\"text-sm text-muted-foreground\">None</span>\n                      )}\n                    </div>\n                  </TableCell>\n                  <TableCell>\n                    <Badge variant={getStatusColor(integration.status)} className=\"capitalize\">\n                      {integration.status}\n                    </Badge>\n                  </TableCell>\n                  <TableCell className=\"text-sm text-muted-foreground\">\n                    {integration.lastPublish ? (\n                      new Intl.RelativeTimeFormat(\"en\", { numeric: \"auto\" }).format(\n                        Math.floor((integration.lastPublish.getTime() - Date.now()) / (1000 * 60 * 60)),\n                        \"hour\"\n                      )\n                    ) : (\n                      <span className=\"text-muted-foreground\">Never</span>\n                    )}\n                  </TableCell>\n                  <TableCell className=\"text-sm\">\n                    {integration.queriesLast7d.toLocaleString()}\n                  </TableCell>\n                  <TableCell className=\"text-sm\">\n                    <span className={integration.errorsLast7d > 0 ? \"text-red-600\" : \"\"}>\n                      {integration.errorsLast7d}\n                    </span>\n                  </TableCell>\n                  <TableCell>\n                    <div>\n                      <div className=\"font-medium text-sm\">{integration.owner.name}</div>\n                      <div className=\"text-xs text-muted-foreground\">{integration.owner.email}</div>\n                    </div>\n                  </TableCell>\n                  <TableCell>\n                    <DropdownMenu>\n                      <DropdownMenuTrigger asChild>\n                        <Button\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          onClick={(e) => e.stopPropagation()}\n                          data-testid={`button-actions-${integration.id}`}\n                        >\n                          <Settings className=\"h-4 w-4\" />\n                        </Button>\n                      </DropdownMenuTrigger>\n                      <DropdownMenuContent align=\"end\">\n                        <DropdownMenuItem\n                          onClick={() => handleOpenIntegration(integration.id)}\n                          data-testid={`action-open-${integration.id}`}\n                        >\n                          <ExternalLink className=\"h-4 w-4 mr-2\" />\n                          Open\n                        </DropdownMenuItem>\n                        <DropdownMenuItem\n                          onClick={() => handleEditIntegration(integration.id)}\n                          data-testid={`action-edit-${integration.id}`}\n                        >\n                          <Edit className=\"h-4 w-4 mr-2\" />\n                          Edit\n                        </DropdownMenuItem>\n                        <DropdownMenuItem\n                          onClick={() => handleDuplicateIntegration(integration.id)}\n                          data-testid={`action-duplicate-${integration.id}`}\n                        >\n                          <Copy className=\"h-4 w-4 mr-2\" />\n                          Duplicate\n                        </DropdownMenuItem>\n                        {integration.status === \"active\" ? (\n                          <DropdownMenuItem\n                            onClick={() => handleIntegrationAction(integration.id, \"pause\")}\n                            data-testid={`action-pause-${integration.id}`}\n                          >\n                            <Pause className=\"h-4 w-4 mr-2\" />\n                            Pause\n                          </DropdownMenuItem>\n                        ) : (\n                          <DropdownMenuItem\n                            onClick={() => handleIntegrationAction(integration.id, \"resume\")}\n                            data-testid={`action-resume-${integration.id}`}\n                          >\n                            <Play className=\"h-4 w-4 mr-2\" />\n                            Resume\n                          </DropdownMenuItem>\n                        )}\n                        <DropdownMenuItem\n                          onClick={() => handleIntegrationAction(integration.id, \"archive\")}\n                          data-testid={`action-archive-${integration.id}`}\n                        >\n                          <Archive className=\"h-4 w-4 mr-2\" />\n                          Archive\n                        </DropdownMenuItem>\n                        <DropdownMenuItem\n                          onClick={() => console.log(\"View analytics:\", integration.id)}\n                          data-testid={`action-analytics-${integration.id}`}\n                        >\n                          <BarChart3 className=\"h-4 w-4 mr-2\" />\n                          Analytics\n                        </DropdownMenuItem>\n                      </DropdownMenuContent>\n                    </DropdownMenu>\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n\n          {filteredIntegrations.length === 0 && (\n            <div className=\"text-center py-12\">\n              <Globe className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n              <h3 className=\"text-lg font-semibold mb-2\">No integrations found</h3>\n              <p className=\"text-muted-foreground mb-4\">\n                Create your first integration to get started with AI-powered search and chat.\n              </p>\n              <Button onClick={handleCreateIntegration} data-testid=\"button-create-first-integration\">\n                <Plus className=\"h-4 w-4 mr-2\" />\n                Create Integration\n              </Button>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}","size_bytes":21526},"client/src/pages/Login.tsx":{"content":"import { useState } from \"react\";\nimport { Link, useLocation } from \"wouter\";\nimport { Bot, Eye, EyeOff, Shield, Zap, BarChart3 } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\n\nexport default function Login() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [showPassword, setShowPassword] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [, setLocation] = useLocation();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsLoading(true);\n    setError(\"\");\n\n    try {\n      const response = await fetch(\"/api/auth/login\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        credentials: \"include\", // Important for cookies\n        body: JSON.stringify({ email, password }),\n      });\n\n      const data = await response.json();\n\n      if (response.ok) {\n        // Successful login - redirect to dashboard\n        setLocation(\"/\");\n      } else {\n        setError(data.message || \"Login failed\");\n      }\n    } catch (error) {\n      setError(\"Network error. Please try again.\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex bg-background\">\n      {/* Left Panel - Branding & Features */}\n      <div className=\"hidden lg:flex lg:w-1/2 bg-primary/5 relative overflow-hidden\">\n        <div className=\"flex flex-col justify-center px-12 py-16 w-full relative z-10\">\n          <div className=\"max-w-md\">\n            <div className=\"flex items-center gap-3 mb-8\">\n              <div className=\"p-3 bg-primary/10 rounded-xl\">\n                <Bot className=\"h-8 w-8 text-primary\" />\n              </div>\n              <div>\n                <h1 className=\"text-3xl font-bold text-foreground\">RAGSuite</h1>\n                <p className=\"text-sm text-muted-foreground\">Enterprise AI Platform</p>\n              </div>\n            </div>\n            \n            <h2 className=\"text-2xl font-semibold text-foreground mb-4\">\n              Intelligent Search & AI Chat for Your Enterprise\n            </h2>\n            <p className=\"text-muted-foreground mb-8\">\n              Deploy powerful RAG-powered AI assistants that understand your business data. \n              Manage content, configure integrations, and analyze performance from one unified dashboard.\n            </p>\n            \n            <div className=\"space-y-4\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"p-2 bg-primary/10 rounded-lg\">\n                  <Shield className=\"h-5 w-5 text-primary\" />\n                </div>\n                <div>\n                  <h3 className=\"font-medium text-foreground\">Enterprise Security</h3>\n                  <p className=\"text-sm text-muted-foreground\">SOC 2 compliant with advanced permissions</p>\n                </div>\n              </div>\n              \n              <div className=\"flex items-center gap-3\">\n                <div className=\"p-2 bg-primary/10 rounded-lg\">\n                  <Zap className=\"h-5 w-5 text-primary\" />\n                </div>\n                <div>\n                  <h3 className=\"font-medium text-foreground\">Rapid Deployment</h3>\n                  <p className=\"text-sm text-muted-foreground\">Embeddable widgets with zero configuration</p>\n                </div>\n              </div>\n              \n              <div className=\"flex items-center gap-3\">\n                <div className=\"p-2 bg-primary/10 rounded-lg\">\n                  <BarChart3 className=\"h-5 w-5 text-primary\" />\n                </div>\n                <div>\n                  <h3 className=\"font-medium text-foreground\">Advanced Analytics</h3>\n                  <p className=\"text-sm text-muted-foreground\">Track usage, performance, and user satisfaction</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        {/* Background Pattern */}\n        <div className=\"absolute inset-0 opacity-5\">\n          <div className=\"absolute top-10 left-10 w-32 h-32 bg-primary rounded-full blur-3xl\"></div>\n          <div className=\"absolute bottom-20 right-20 w-40 h-40 bg-primary rounded-full blur-3xl\"></div>\n        </div>\n      </div>\n\n      {/* Right Panel - Login Form */}\n      <div className=\"flex-1 flex items-center justify-center p-8\">\n        <div className=\"w-full max-w-md\">\n          {/* Mobile Logo */}\n          <div className=\"lg:hidden flex items-center justify-center gap-2 mb-8\">\n            <Bot className=\"h-8 w-8 text-primary\" />\n            <span className=\"text-2xl font-bold\">RAGSuite</span>\n          </div>\n          \n          <Card className=\"border-0 shadow-lg\">\n            <CardHeader className=\"space-y-4 pb-6\">\n              <div className=\"text-center\">\n                <CardTitle className=\"text-2xl font-semibold\">Welcome back</CardTitle>\n                <p className=\"text-muted-foreground mt-2\">\n                  Sign in to access your admin dashboard\n                </p>\n              </div>\n            </CardHeader>\n            \n            <CardContent className=\"space-y-6\">\n              <form onSubmit={handleSubmit} className=\"space-y-4\">\n                {error && (\n                  <Alert variant=\"destructive\" data-testid=\"error-alert\">\n                    <AlertDescription>{error}</AlertDescription>\n                  </Alert>\n                )}\n                \n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"email\" className=\"text-sm font-medium\">Email address</Label>\n                  <Input\n                    id=\"email\"\n                    type=\"email\"\n                    placeholder=\"Enter your email\"\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    data-testid=\"input-email\"\n                    className=\"h-11\"\n                    required\n                  />\n                </div>\n                \n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"password\" className=\"text-sm font-medium\">Password</Label>\n                  <div className=\"relative\">\n                    <Input\n                      id=\"password\"\n                      type={showPassword ? \"text\" : \"password\"}\n                      placeholder=\"Enter your password\"\n                      value={password}\n                      onChange={(e) => setPassword(e.target.value)}\n                      data-testid=\"input-password\"\n                      className=\"h-11 pr-10\"\n                      required\n                    />\n                    <Button\n                      type=\"button\"\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      className=\"absolute right-0 top-0 h-11 px-3\"\n                      onClick={() => setShowPassword(!showPassword)}\n                      data-testid=\"button-toggle-password\"\n                    >\n                      {showPassword ? (\n                        <EyeOff className=\"h-4 w-4 text-muted-foreground\" />\n                      ) : (\n                        <Eye className=\"h-4 w-4 text-muted-foreground\" />\n                      )}\n                    </Button>\n                  </div>\n                </div>\n                \n                <div className=\"flex items-center justify-between\">\n                  <Link href=\"/forgot-password\">\n                    <Button variant=\"ghost\" size=\"sm\" className=\"text-sm p-0 h-auto\" data-testid=\"link-forgot-password\">\n                      Forgot password?\n                    </Button>\n                  </Link>\n                </div>\n                \n                <Button\n                  type=\"submit\"\n                  className=\"w-full h-11\"\n                  disabled={isLoading}\n                  data-testid=\"button-sign-in\"\n                >\n                  {isLoading ? \"Signing in...\" : \"Sign in\"}\n                </Button>\n              </form>\n              \n              <div className=\"pt-4 border-t\">\n                <div className=\"bg-muted/30 rounded-lg p-3 text-center\">\n                  <p className=\"text-xs text-muted-foreground mb-1\">Demo Account</p>\n                  <p className=\"text-sm font-mono text-foreground\">admin@ragsuite.com / demo123</p>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n          \n          <div className=\"text-center mt-8\">\n            <p className=\"text-xs text-muted-foreground\">\n              © 2024 RAGSuite. Enterprise AI Platform.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","size_bytes":8952},"client/src/pages/Onboarding.tsx":{"content":"import { useState } from \"react\";\nimport { Bot, Upload, Globe, Search, CheckCircle, ArrowLeft, ArrowRight } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Switch } from \"@/components/ui/switch\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { SearchBar } from \"@/components/SearchBar\";\nimport { ChatMessage } from \"@/components/ChatMessage\";\n\nconst steps = [\n  { id: 1, title: \"Branding\", description: \"Customize your organization\" },\n  { id: 2, title: \"Data Source\", description: \"Add your first content source\" },\n  { id: 3, title: \"Quick Test\", description: \"Test your RAG system\" },\n];\n\nexport default function Onboarding() {\n  const [currentStep, setCurrentStep] = useState(1);\n  const [orgName, setOrgName] = useState(\"\");\n  const [primaryColor, setPrimaryColor] = useState(\"#1F6FEB\");\n  const [sourceUrl, setSourceUrl] = useState(\"\");\n  const [crawlDepth, setCrawlDepth] = useState(2);\n  const [cadence, setCadence] = useState(\"daily\");\n  const [headlessMode, setHeadlessMode] = useState(false);\n  const [testQuery, setTestQuery] = useState(\"\");\n  const [testResponse, setTestResponse] = useState<any>(null);\n\n  const handleNext = () => {\n    if (currentStep < 3) {\n      setCurrentStep(currentStep + 1);\n    }\n  };\n\n  const handleBack = () => {\n    if (currentStep > 1) {\n      setCurrentStep(currentStep - 1);\n    }\n  };\n\n  const handleFinish = () => {\n    console.log(\"Onboarding completed, redirecting to dashboard\");\n    // In real app, would redirect to overview\n  };\n\n  const handleTestQuery = (query: string) => {\n    setTestQuery(query);\n    \n    // Simulate streaming response\n    const response = {\n      type: \"assistant\" as const,\n      content: `Based on your query \"${query}\", here's what I found from your newly configured data source:\n\nThis is a simulated response showing how your RAG system will work with the content from ${sourceUrl}. The system has successfully:\n\n✅ Crawled your specified URL with depth ${crawlDepth}\n✅ Processed and indexed the content  \n✅ Generated relevant responses using AI\n\nYour RAG system is ready to help users find information from your documentation!`,\n      citations: [\n        { title: \"Getting Started Guide\", url: sourceUrl, snippet: \"Initial setup and configuration...\" },\n        { title: \"API Reference\", url: `${sourceUrl}/api`, snippet: \"Complete API documentation...\" },\n      ],\n      timestamp: new Date(),\n    };\n    \n    setTestResponse(response);\n    console.log(\"Test query:\", query);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <div className=\"container mx-auto px-4 py-8\">\n        {/* Header */}\n        <div className=\"text-center mb-8\">\n          <div className=\"flex items-center justify-center gap-2 mb-4\">\n            <Bot className=\"h-8 w-8 text-primary\" />\n            <span className=\"text-2xl font-bold\">RAGSuite</span>\n          </div>\n          <h1 className=\"text-3xl font-bold mb-2\">Welcome to RAGSuite!</h1>\n          <p className=\"text-muted-foreground\">\n            Let's get your AI-powered search and chat system set up in just a few steps\n          </p>\n        </div>\n\n        {/* Progress Steps */}\n        <div className=\"flex items-center justify-center mb-8\">\n          <div className=\"flex items-center space-x-4\">\n            {steps.map((step, index) => (\n              <div key={step.id} className=\"flex items-center\">\n                <div className=\"flex items-center\">\n                  <div\n                    className={`\n                      w-10 h-10 rounded-full flex items-center justify-center\n                      ${currentStep > step.id \n                        ? 'bg-primary text-primary-foreground' \n                        : currentStep === step.id \n                        ? 'bg-primary text-primary-foreground' \n                        : 'bg-muted text-muted-foreground'}\n                    `}\n                  >\n                    {currentStep > step.id ? (\n                      <CheckCircle className=\"h-5 w-5\" />\n                    ) : (\n                      <span className=\"font-medium\">{step.id}</span>\n                    )}\n                  </div>\n                  <div className=\"ml-3 text-left\">\n                    <p className=\"font-medium\">{step.title}</p>\n                    <p className=\"text-sm text-muted-foreground\">{step.description}</p>\n                  </div>\n                </div>\n                {index < steps.length - 1 && (\n                  <div\n                    className={`\n                      ml-8 w-16 h-0.5\n                      ${currentStep > step.id ? 'bg-primary' : 'bg-muted'}\n                    `}\n                  />\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"max-w-4xl mx-auto\">\n          <div className=\"grid gap-8 lg:grid-cols-2\">\n            {/* Left Panel - Form */}\n            <Card>\n              <CardHeader>\n                <CardTitle>Step {currentStep}: {steps[currentStep - 1].title}</CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-6\">\n                {/* Step 1: Branding */}\n                {currentStep === 1 && (\n                  <div className=\"space-y-4\">\n                    <div>\n                      <Label htmlFor=\"org-name\">Organization Name</Label>\n                      <Input\n                        id=\"org-name\"\n                        placeholder=\"Enter your organization name\"\n                        value={orgName}\n                        onChange={(e) => setOrgName(e.target.value)}\n                        data-testid=\"input-org-name\"\n                      />\n                    </div>\n\n                    <div>\n                      <Label htmlFor=\"logo-upload\">Logo Upload (Optional)</Label>\n                      <div className=\"mt-2 flex items-center gap-4\">\n                        <div className=\"h-16 w-16 bg-secondary rounded-lg flex items-center justify-center\">\n                          <Upload className=\"h-6 w-6 text-muted-foreground\" />\n                        </div>\n                        <Button variant=\"outline\" data-testid=\"button-upload-logo\">\n                          <Upload className=\"h-4 w-4 mr-2\" />\n                          Upload Logo\n                        </Button>\n                      </div>\n                    </div>\n\n                    <div>\n                      <Label htmlFor=\"primary-color\">Primary Color</Label>\n                      <div className=\"mt-2 flex items-center gap-4\">\n                        <div\n                          className=\"h-10 w-20 rounded border\"\n                          style={{ backgroundColor: primaryColor }}\n                        />\n                        <Input\n                          id=\"primary-color\"\n                          type=\"color\"\n                          value={primaryColor}\n                          onChange={(e) => setPrimaryColor(e.target.value)}\n                          className=\"w-20\"\n                          data-testid=\"input-primary-color\"\n                        />\n                      </div>\n                    </div>\n                  </div>\n                )}\n\n                {/* Step 2: Data Source */}\n                {currentStep === 2 && (\n                  <div className=\"space-y-4\">\n                    <div>\n                      <Label htmlFor=\"source-url\">Website URL</Label>\n                      <Input\n                        id=\"source-url\"\n                        placeholder=\"https://docs.yourcompany.com\"\n                        value={sourceUrl}\n                        onChange={(e) => setSourceUrl(e.target.value)}\n                        data-testid=\"input-source-url\"\n                      />\n                      <p className=\"text-sm text-muted-foreground mt-1\">\n                        Enter the URL of your documentation or content site\n                      </p>\n                    </div>\n\n                    <div>\n                      <Label htmlFor=\"crawl-depth\">Crawl Depth</Label>\n                      <Select value={crawlDepth.toString()} onValueChange={(value) => setCrawlDepth(parseInt(value))}>\n                        <SelectTrigger data-testid=\"select-crawl-depth\">\n                          <SelectValue />\n                        </SelectTrigger>\n                        <SelectContent>\n                          <SelectItem value=\"1\">1 level (homepage only)</SelectItem>\n                          <SelectItem value=\"2\">2 levels (recommended)</SelectItem>\n                          <SelectItem value=\"3\">3 levels</SelectItem>\n                          <SelectItem value=\"4\">4 levels</SelectItem>\n                          <SelectItem value=\"5\">5 levels (deep crawl)</SelectItem>\n                        </SelectContent>\n                      </Select>\n                    </div>\n\n                    <div>\n                      <Label htmlFor=\"cadence\">Crawl Frequency</Label>\n                      <Select value={cadence} onValueChange={setCadence}>\n                        <SelectTrigger data-testid=\"select-cadence\">\n                          <SelectValue />\n                        </SelectTrigger>\n                        <SelectContent>\n                          <SelectItem value=\"hourly\">Every Hour</SelectItem>\n                          <SelectItem value=\"daily\">Daily (recommended)</SelectItem>\n                          <SelectItem value=\"weekly\">Weekly</SelectItem>\n                        </SelectContent>\n                      </Select>\n                    </div>\n\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"space-y-0.5\">\n                        <Label htmlFor=\"headless-mode\">Headless Browser Mode</Label>\n                        <p className=\"text-sm text-muted-foreground\">\n                          Enable for JavaScript-heavy sites\n                        </p>\n                      </div>\n                      <Switch\n                        id=\"headless-mode\"\n                        checked={headlessMode}\n                        onCheckedChange={setHeadlessMode}\n                        data-testid=\"switch-headless-mode\"\n                      />\n                    </div>\n\n                    <Button variant=\"outline\" className=\"w-full\" data-testid=\"button-preview-render\">\n                      <Globe className=\"h-4 w-4 mr-2\" />\n                      Preview Render\n                    </Button>\n                  </div>\n                )}\n\n                {/* Step 3: Quick Test */}\n                {currentStep === 3 && (\n                  <div className=\"space-y-4\">\n                    <div>\n                      <Label>Test Your RAG System</Label>\n                      <p className=\"text-sm text-muted-foreground mb-4\">\n                        Ask a question to see how your AI assistant will respond using your configured data source.\n                      </p>\n                      <SearchBar\n                        placeholder=\"Ask about your documentation...\"\n                        onSearch={handleTestQuery}\n                        showSendButton\n                        data-testid=\"test-query-input\"\n                      />\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label>Example Queries:</Label>\n                      <div className=\"flex flex-wrap gap-2\">\n                        {[\n                          \"How do I get started?\",\n                          \"What are the API endpoints?\",\n                          \"How to configure authentication?\",\n                          \"What are the system requirements?\",\n                        ].map((query, index) => (\n                          <Button\n                            key={index}\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => handleTestQuery(query)}\n                            data-testid={`example-query-${index}`}\n                          >\n                            {query}\n                          </Button>\n                        ))}\n                      </div>\n                    </div>\n\n                    {testResponse && (\n                      <div className=\"mt-6\">\n                        <Label className=\"mb-2 block\">AI Response:</Label>\n                        <div className=\"border rounded-lg p-4\">\n                          <ChatMessage\n                            type={testResponse.type}\n                            content={testResponse.content}\n                            citations={testResponse.citations}\n                            timestamp={testResponse.timestamp}\n                            showFeedback={true}\n                          />\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                )}\n\n                {/* Navigation Buttons */}\n                <div className=\"flex justify-between pt-6 border-t\">\n                  <Button\n                    variant=\"outline\"\n                    onClick={handleBack}\n                    disabled={currentStep === 1}\n                    data-testid=\"button-back\"\n                  >\n                    <ArrowLeft className=\"h-4 w-4 mr-2\" />\n                    Back\n                  </Button>\n                  \n                  {currentStep < 3 ? (\n                    <Button\n                      onClick={handleNext}\n                      disabled={\n                        (currentStep === 1 && !orgName) ||\n                        (currentStep === 2 && !sourceUrl)\n                      }\n                      data-testid=\"button-next\"\n                    >\n                      Next\n                      <ArrowRight className=\"h-4 w-4 ml-2\" />\n                    </Button>\n                  ) : (\n                    <Button\n                      onClick={handleFinish}\n                      data-testid=\"button-finish\"\n                    >\n                      Finish Setup\n                      <CheckCircle className=\"h-4 w-4 ml-2\" />\n                    </Button>\n                  )}\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Right Panel - Live Preview */}\n            <Card>\n              <CardHeader>\n                <CardTitle>Live Preview</CardTitle>\n              </CardHeader>\n              <CardContent>\n                {currentStep === 1 && (\n                  <div className=\"space-y-4\">\n                    <div className=\"p-4 border rounded-lg\">\n                      <div className=\"flex items-center gap-2 mb-4\">\n                        <div className=\"h-8 w-8 bg-secondary rounded flex items-center justify-center\">\n                          <Upload className=\"h-4 w-4\" />\n                        </div>\n                        <span className=\"font-semibold\">{orgName || \"Your Organization\"}</span>\n                      </div>\n                      <Button style={{ backgroundColor: primaryColor }} className=\"text-white mb-4\">\n                        Primary Button\n                      </Button>\n                      <p className=\"text-sm text-muted-foreground\">\n                        This is how your branding will appear in the admin interface and embeddable widget.\n                      </p>\n                    </div>\n                  </div>\n                )}\n\n                {currentStep === 2 && (\n                  <div className=\"space-y-4\">\n                    <div className=\"p-4 border rounded-lg\">\n                      <h4 className=\"font-medium mb-2\">Crawl Configuration</h4>\n                      <div className=\"space-y-2 text-sm\">\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-muted-foreground\">URL:</span>\n                          <span className=\"font-mono break-all\">{sourceUrl || \"Not set\"}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-muted-foreground\">Depth:</span>\n                          <span>{crawlDepth} levels</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-muted-foreground\">Frequency:</span>\n                          <span className=\"capitalize\">{cadence}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-muted-foreground\">Headless:</span>\n                          <Badge variant={headlessMode ? \"default\" : \"outline\"}>\n                            {headlessMode ? \"Enabled\" : \"Disabled\"}\n                          </Badge>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                )}\n\n                {currentStep === 3 && (\n                  <div className=\"space-y-4\">\n                    <div className=\"p-4 border rounded-lg\">\n                      <h4 className=\"font-medium mb-2\">System Status</h4>\n                      <div className=\"space-y-2\">\n                        <div className=\"flex items-center gap-2\">\n                          <CheckCircle className=\"h-4 w-4 text-green-500\" />\n                          <span className=\"text-sm\">Organization configured</span>\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                          <CheckCircle className=\"h-4 w-4 text-green-500\" />\n                          <span className=\"text-sm\">Data source added</span>\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                          <CheckCircle className=\"h-4 w-4 text-green-500\" />\n                          <span className=\"text-sm\">AI model ready</span>\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                          <CheckCircle className=\"h-4 w-4 text-green-500\" />\n                          <span className=\"text-sm\">Vector database initialized</span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","size_bytes":18679},"client/src/pages/Overview.tsx":{"content":"import { Activity, Search, Users, AlertTriangle, TrendingUp } from \"lucide-react\";\nimport { StatsCard } from \"@/components/StatsCard\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from \"recharts\";\n\n// todo: remove mock functionality\nconst chartData = [\n  { name: \"Mon\", queries: 145 },\n  { name: \"Tue\", queries: 210 },\n  { name: \"Wed\", queries: 189 },\n  { name: \"Thu\", queries: 267 },\n  { name: \"Fri\", queries: 312 },\n  { name: \"Sat\", queries: 198 },\n  { name: \"Sun\", queries: 156 },\n];\n\nconst topSources = [\n  { url: \"docs.company.com\", docs: 245, lastCrawl: \"2 hours ago\", errors: 0 },\n  { url: \"help.company.com\", docs: 89, lastCrawl: \"6 hours ago\", errors: 0 },\n  { url: \"blog.company.com\", docs: 156, lastCrawl: \"1 day ago\", errors: 3 },\n  { url: \"api.company.com\", docs: 67, lastCrawl: \"3 hours ago\", errors: 1 },\n];\n\nconst latestFeedback = [\n  { query: \"How to configure SSL?\", vote: \"up\", reason: \"helpful\", time: \"5 min ago\" },\n  { query: \"API rate limits\", vote: \"down\", reason: \"outdated\", time: \"12 min ago\" },\n  { query: \"Deployment guide\", vote: \"up\", reason: \"accurate\", time: \"25 min ago\" },\n  { query: \"Database backup\", vote: \"up\", reason: \"complete\", time: \"1 hour ago\" },\n];\n\nexport default function Overview() {\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <h1 className=\"text-3xl font-bold tracking-tight\">Overview</h1>\n        <p className=\"text-muted-foreground\">\n          Monitor your RAG system performance and user engagement\n        </p>\n      </div>\n\n      {/* KPI Cards */}\n      <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-4\">\n        <StatsCard\n          title=\"Queries Today\"\n          value=\"1,234\"\n          description=\"from yesterday\"\n          trend={{ value: 12, isPositive: true }}\n          icon={<Search className=\"h-4 w-4\" />}\n        />\n        <StatsCard\n          title=\"p95 Latency\"\n          value=\"245ms\"\n          description=\"avg response time\"\n          trend={{ value: 5, isPositive: false }}\n          icon={<Activity className=\"h-4 w-4\" />}\n        />\n        <StatsCard\n          title=\"Thumbs-up Rate\"\n          value=\"89%\"\n          description=\"user satisfaction\"\n          trend={{ value: 3, isPositive: true }}\n          icon={<Users className=\"h-4 w-4\" />}\n        />\n        <StatsCard\n          title=\"Crawl Errors\"\n          value=\"3\"\n          description=\"need attention\"\n          icon={<AlertTriangle className=\"h-4 w-4\" />}\n        />\n      </div>\n\n      <div className=\"grid gap-6 lg:grid-cols-2\">\n        {/* Queries Chart */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <TrendingUp className=\"h-5 w-5\" />\n              Queries Over Time\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <ResponsiveContainer width=\"100%\" height={200}>\n              <LineChart data={chartData}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"name\" />\n                <YAxis />\n                <Tooltip />\n                <Line \n                  type=\"monotone\" \n                  dataKey=\"queries\" \n                  stroke=\"hsl(var(--primary))\" \n                  strokeWidth={2}\n                />\n              </LineChart>\n            </ResponsiveContainer>\n          </CardContent>\n        </Card>\n\n        {/* Top Sources */}\n        <Card>\n          <CardHeader>\n            <CardTitle>Top Sources</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-3\">\n              {topSources.map((source, index) => (\n                <div\n                  key={index}\n                  className=\"flex items-center justify-between p-3 rounded-lg border hover-elevate\"\n                  data-testid={`source-${index}`}\n                >\n                  <div className=\"space-y-1\">\n                    <p className=\"font-medium text-sm\">{source.url}</p>\n                    <p className=\"text-xs text-muted-foreground\">\n                      {source.docs} docs • Last crawl: {source.lastCrawl}\n                    </p>\n                  </div>\n                  {source.errors > 0 && (\n                    <Badge variant=\"destructive\" className=\"text-xs\">\n                      {source.errors} errors\n                    </Badge>\n                  )}\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Latest Feedback */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Latest Feedback</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-3\">\n            {latestFeedback.map((feedback, index) => (\n              <div\n                key={index}\n                className=\"flex items-center justify-between p-3 rounded-lg border hover-elevate\"\n                data-testid={`feedback-${index}`}\n              >\n                <div className=\"space-y-1\">\n                  <p className=\"font-medium text-sm\">{feedback.query}</p>\n                  <div className=\"flex items-center gap-2\">\n                    <Badge\n                      variant={feedback.vote === \"up\" ? \"default\" : \"destructive\"}\n                      className=\"text-xs\"\n                    >\n                      {feedback.vote === \"up\" ? \"👍\" : \"👎\"} {feedback.vote}\n                    </Badge>\n                    <Badge variant=\"outline\" className=\"text-xs\">\n                      {feedback.reason}\n                    </Badge>\n                  </div>\n                </div>\n                <p className=\"text-xs text-muted-foreground\">{feedback.time}</p>\n              </div>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}","size_bytes":5951},"client/src/pages/RAGTuning.tsx":{"content":"import { useState } from \"react\";\nimport { Send, Copy, Settings, Zap } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Slider } from \"@/components/ui/slider\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Label } from \"@/components/ui/label\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { SearchBar } from \"@/components/SearchBar\";\nimport { ChatMessage } from \"@/components/ChatMessage\";\n\ninterface Message {\n  type: \"user\" | \"assistant\";\n  content: string;\n  timestamp: Date;\n  citations?: { title: string; url: string; snippet: string }[];\n}\n\nexport default function RAGTuning() {\n  const [topK, setTopK] = useState([5]);\n  const [similarityThreshold, setSimilarityThreshold] = useState([0.7]);\n  const [maxTokens, setMaxTokens] = useState([500]);\n  const [useReranker, setUseReranker] = useState(true);\n  const [messages, setMessages] = useState<Message[]>([\n    {\n      type: \"assistant\",\n      content: \"Welcome to the RAG Tuning Playground! Ask me anything about your documentation to test different retrieval and generation settings.\",\n      timestamp: new Date(),\n    },\n  ]);\n\n  const handleQuery = (query: string) => {\n    const userMessage: Message = {\n      type: \"user\",\n      content: query,\n      timestamp: new Date(),\n    };\n\n    // Simulate AI response with current settings\n    const assistantMessage: Message = {\n      type: \"assistant\",\n      content: `Based on your query \"${query}\", here's what I found in the documentation:\n\nThis is a simulated response that would be generated using your current RAG settings:\n- Top-K: ${topK[0]} documents retrieved\n- Similarity threshold: ${similarityThreshold[0]}\n- Reranker: ${useReranker ? \"Enabled\" : \"Disabled\"}\n- Max tokens: ${maxTokens[0]}\n\nThe system would search through the indexed documents and provide relevant information based on these parameters.`,\n      citations: [\n        { title: \"User Guide\", url: \"#\", snippet: \"Relevant section from documentation...\" },\n        { title: \"API Reference\", url: \"#\", snippet: \"Technical implementation details...\" },\n        { title: \"FAQ\", url: \"#\", snippet: \"Common questions and answers...\" },\n      ],\n      timestamp: new Date(),\n    };\n\n    setMessages(prev => [...prev, userMessage, assistantMessage]);\n    console.log(\"RAG query with settings:\", { topK: topK[0], similarityThreshold: similarityThreshold[0], useReranker, maxTokens: maxTokens[0] });\n  };\n\n  const exampleQueries = [\n    \"How do I configure authentication?\",\n    \"What are the API rate limits?\",\n    \"How to troubleshoot deployment issues?\",\n    \"Best practices for data backup\",\n  ];\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <h1 className=\"text-3xl font-bold tracking-tight\">RAG Tuning Playground</h1>\n        <p className=\"text-muted-foreground\">\n          Test and optimize your retrieval-augmented generation settings\n        </p>\n      </div>\n\n      <div className=\"grid gap-6 lg:grid-cols-3\">\n        {/* Query Interface */}\n        <div className=\"lg:col-span-2 space-y-4\">\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <Zap className=\"h-5 w-5\" />\n                Query Interface\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <SearchBar\n                placeholder=\"Ask about policies, docs, or how-tos...\"\n                onSearch={handleQuery}\n                showSendButton\n                data-testid=\"rag-query-input\"\n              />\n              \n              <div className=\"space-y-2\">\n                <Label className=\"text-sm text-muted-foreground\">Quick Examples:</Label>\n                <div className=\"flex flex-wrap gap-2\">\n                  {exampleQueries.map((query, index) => (\n                    <Button\n                      key={index}\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => handleQuery(query)}\n                      data-testid={`example-query-${index}`}\n                      className=\"text-xs\"\n                    >\n                      {query}\n                    </Button>\n                  ))}\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Response Area */}\n          <Card className=\"flex-1\">\n            <CardHeader>\n              <CardTitle>Response</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-4 max-h-96 overflow-y-auto\">\n                {messages.map((message, index) => (\n                  <ChatMessage\n                    key={index}\n                    type={message.type}\n                    content={message.content}\n                    citations={message.citations}\n                    timestamp={message.timestamp}\n                    showFeedback={message.type === \"assistant\"}\n                  />\n                ))}\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Settings Panel */}\n        <div className=\"space-y-4\">\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <Settings className=\"h-5 w-5\" />\n                RAG Settings\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              {/* Top-K Setting */}\n              <div className=\"space-y-2\">\n                <div className=\"flex items-center justify-between\">\n                  <Label className=\"text-sm font-medium\">Top-K Results</Label>\n                  <Badge variant=\"outline\" className=\"text-xs\">{topK[0]}</Badge>\n                </div>\n                <Slider\n                  value={topK}\n                  onValueChange={setTopK}\n                  min={1}\n                  max={20}\n                  step={1}\n                  data-testid=\"slider-top-k\"\n                />\n                <p className=\"text-xs text-muted-foreground\">\n                  Number of documents to retrieve from the vector database\n                </p>\n              </div>\n\n              {/* Similarity Threshold */}\n              <div className=\"space-y-2\">\n                <div className=\"flex items-center justify-between\">\n                  <Label className=\"text-sm font-medium\">Similarity Threshold</Label>\n                  <Badge variant=\"outline\" className=\"text-xs\">{similarityThreshold[0]}</Badge>\n                </div>\n                <Slider\n                  value={similarityThreshold}\n                  onValueChange={setSimilarityThreshold}\n                  min={0.1}\n                  max={1.0}\n                  step={0.1}\n                  data-testid=\"slider-similarity\"\n                />\n                <p className=\"text-xs text-muted-foreground\">\n                  Minimum similarity score for document inclusion\n                </p>\n              </div>\n\n              {/* Max Answer Length */}\n              <div className=\"space-y-2\">\n                <div className=\"flex items-center justify-between\">\n                  <Label className=\"text-sm font-medium\">Max Tokens</Label>\n                  <Badge variant=\"outline\" className=\"text-xs\">{maxTokens[0]}</Badge>\n                </div>\n                <Slider\n                  value={maxTokens}\n                  onValueChange={setMaxTokens}\n                  min={100}\n                  max={2000}\n                  step={50}\n                  data-testid=\"slider-max-tokens\"\n                />\n                <p className=\"text-xs text-muted-foreground\">\n                  Maximum length of generated responses\n                </p>\n              </div>\n\n              {/* Reranker Toggle */}\n              <div className=\"flex items-center justify-between\">\n                <div className=\"space-y-0.5\">\n                  <Label className=\"text-sm font-medium\">Use Reranker</Label>\n                  <p className=\"text-xs text-muted-foreground\">\n                    Improve result relevance with reranking\n                  </p>\n                </div>\n                <Switch\n                  checked={useReranker}\n                  onCheckedChange={setUseReranker}\n                  data-testid=\"switch-reranker\"\n                />\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Performance Stats */}\n          <Card>\n            <CardHeader>\n              <CardTitle>Performance</CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-3\">\n              <div className=\"flex justify-between text-sm\">\n                <span className=\"text-muted-foreground\">Latency</span>\n                <span className=\"font-medium\">245ms</span>\n              </div>\n              <div className=\"flex justify-between text-sm\">\n                <span className=\"text-muted-foreground\">Tokens Used</span>\n                <span className=\"font-medium\">127 / {maxTokens[0]}</span>\n              </div>\n              <div className=\"flex justify-between text-sm\">\n                <span className=\"text-muted-foreground\">Documents Retrieved</span>\n                <span className=\"font-medium\">{topK[0]}</span>\n              </div>\n              <div className=\"flex justify-between text-sm\">\n                <span className=\"text-muted-foreground\">Relevance Score</span>\n                <span className=\"font-medium\">0.89</span>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    </div>\n  );\n}","size_bytes":9622},"client/src/pages/Settings.tsx":{"content":"import { useState } from \"react\";\nimport { Upload, Palette, Globe, Key, Activity, Eye, EyeOff, Copy, Trash2, Plus } from \"lucide-react\";\nimport { CreateApiKeyForm } from \"@/components/forms/CreateApiKeyForm\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/components/ui/dialog\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\n\n// todo: remove mock functionality\nconst apiKeys = [\n  {\n    id: \"key-001\",\n    name: \"Production API Key\",\n    key: \"rgs_live_1234567890abcdef\",\n    createdAt: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000),\n    lastUsed: new Date(Date.now() - 2 * 60 * 60 * 1000),\n    requests: 15420,\n    rateLimit: 1000,\n  },\n  {\n    id: \"key-002\",\n    name: \"Development API Key\",\n    key: \"rgs_test_abcdef1234567890\",\n    createdAt: new Date(Date.now() - 15 * 24 * 60 * 60 * 1000),\n    lastUsed: new Date(Date.now() - 5 * 60 * 1000),\n    requests: 2847,\n    rateLimit: 100,\n  },\n];\n\nconst systemServices = [\n  { name: \"API Gateway\", status: \"healthy\", lastHeartbeat: new Date(Date.now() - 30 * 1000), uptime: \"99.9%\" },\n  { name: \"Redis Cache\", status: \"healthy\", lastHeartbeat: new Date(Date.now() - 45 * 1000), uptime: \"99.8%\" },\n  { name: \"Vector Database\", status: \"degraded\", lastHeartbeat: new Date(Date.now() - 2 * 60 * 1000), uptime: \"98.5%\" },\n  { name: \"PostgreSQL\", status: \"healthy\", lastHeartbeat: new Date(Date.now() - 15 * 1000), uptime: \"99.9%\" },\n  { name: \"OpenAI API\", status: \"healthy\", lastHeartbeat: new Date(Date.now() - 20 * 1000), uptime: \"99.7%\" },\n];\n\nexport default function Settings() {\n  const [orgName, setOrgName] = useState(\"Acme Corporation\");\n  const [primaryColor, setPrimaryColor] = useState(\"#1F6FEB\");\n  const [retentionDays, setRetentionDays] = useState(90);\n  const [locale, setLocale] = useState(\"en\");\n  const [showApiKey, setShowApiKey] = useState<string | null>(null);\n  const [showCreateKeyForm, setShowCreateKeyForm] = useState(false);\n  const { toast } = useToast();\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case \"healthy\":\n        return \"default\";\n      case \"degraded\":\n        return \"secondary\";\n      case \"down\":\n        return \"destructive\";\n      default:\n        return \"outline\";\n    }\n  };\n\n  const handleCreateApiKey = (data: any) => {\n    console.log(\"Creating API key:\", data);\n    toast({\n      title: \"API Key Created\",\n      description: `Successfully created ${data.name}`,\n    });\n  };\n\n  const handleRevokeApiKey = (keyId: string) => {\n    console.log(\"Revoking API key:\", keyId);\n    toast({\n      title: \"API Key Revoked\",\n      description: \"API key has been revoked and is no longer valid\",\n      variant: \"destructive\",\n    });\n  };\n\n  const handleCopyKey = (key: string) => {\n    navigator.clipboard.writeText(key);\n    console.log(\"API key copied to clipboard\");\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <h1 className=\"text-3xl font-bold tracking-tight\">Settings</h1>\n        <p className=\"text-muted-foreground\">\n          Manage your organization settings and preferences\n        </p>\n      </div>\n\n      <Tabs defaultValue=\"profile\" className=\"space-y-6\">\n        <TabsList className=\"grid w-full grid-cols-5\">\n          <TabsTrigger value=\"profile\" data-testid=\"tab-profile\">Profile & Branding</TabsTrigger>\n          <TabsTrigger value=\"retention\" data-testid=\"tab-retention\">Data Retention</TabsTrigger>\n          <TabsTrigger value=\"i18n\" data-testid=\"tab-i18n\">Internationalization</TabsTrigger>\n          <TabsTrigger value=\"api-keys\" data-testid=\"tab-api-keys\">API Keys</TabsTrigger>\n          <TabsTrigger value=\"health\" data-testid=\"tab-health\">System Health</TabsTrigger>\n        </TabsList>\n\n        {/* Profile & Branding */}\n        <TabsContent value=\"profile\" className=\"space-y-6\">\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <Palette className=\"h-5 w-5\" />\n                Organization Branding\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              <div className=\"grid gap-6 lg:grid-cols-2\">\n                <div className=\"space-y-4\">\n                  <div>\n                    <Label htmlFor=\"org-name\">Organization Name</Label>\n                    <Input\n                      id=\"org-name\"\n                      value={orgName}\n                      onChange={(e) => setOrgName(e.target.value)}\n                      data-testid=\"input-org-name\"\n                    />\n                  </div>\n\n                  <div>\n                    <Label htmlFor=\"logo-upload\">Logo Upload</Label>\n                    <div className=\"mt-2 flex items-center gap-4\">\n                      <div className=\"h-16 w-16 bg-secondary rounded-lg flex items-center justify-center\">\n                        <Upload className=\"h-6 w-6 text-muted-foreground\" />\n                      </div>\n                      <Button variant=\"outline\" data-testid=\"button-upload-logo\">\n                        <Upload className=\"h-4 w-4 mr-2\" />\n                        Upload Logo\n                      </Button>\n                    </div>\n                    <p className=\"text-xs text-muted-foreground mt-1\">\n                      Recommended: 64x64px PNG or SVG\n                    </p>\n                  </div>\n\n                  <div>\n                    <Label htmlFor=\"primary-color\">Primary Color</Label>\n                    <div className=\"mt-2 flex items-center gap-4\">\n                      <div\n                        className=\"h-10 w-20 rounded border\"\n                        style={{ backgroundColor: primaryColor }}\n                      />\n                      <Input\n                        id=\"primary-color\"\n                        type=\"color\"\n                        value={primaryColor}\n                        onChange={(e) => setPrimaryColor(e.target.value)}\n                        className=\"w-20\"\n                        data-testid=\"input-primary-color\"\n                      />\n                      <Input\n                        value={primaryColor}\n                        onChange={(e) => setPrimaryColor(e.target.value)}\n                        className=\"font-mono\"\n                        data-testid=\"input-primary-color-hex\"\n                      />\n                    </div>\n                  </div>\n\n                  <div>\n                    <Label>Theme Presets</Label>\n                    <div className=\"mt-2 grid grid-cols-3 gap-2\">\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={() => setPrimaryColor(\"#1F6FEB\")}\n                        data-testid=\"button-preset-blue\"\n                      >\n                        <div className=\"w-4 h-4 bg-blue-500 rounded mr-2\" />\n                        Blue\n                      </Button>\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={() => setPrimaryColor(\"#22C55E\")}\n                        data-testid=\"button-preset-green\"\n                      >\n                        <div className=\"w-4 h-4 bg-green-500 rounded mr-2\" />\n                        Green\n                      </Button>\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={() => setPrimaryColor(\"#8B5CF6\")}\n                        data-testid=\"button-preset-purple\"\n                      >\n                        <div className=\"w-4 h-4 bg-purple-500 rounded mr-2\" />\n                        Purple\n                      </Button>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"space-y-4\">\n                  <Label>Live Preview</Label>\n                  <Card className=\"p-4\">\n                    <div className=\"space-y-4\">\n                      <div className=\"flex items-center gap-2\">\n                        <div className=\"h-8 w-8 bg-secondary rounded flex items-center justify-center\">\n                          <Upload className=\"h-4 w-4\" />\n                        </div>\n                        <span className=\"font-semibold\">{orgName}</span>\n                      </div>\n                      <Button style={{ backgroundColor: primaryColor }} className=\"text-white\">\n                        Primary Button\n                      </Button>\n                      <p className=\"text-sm text-muted-foreground\">\n                        This is how your branding will appear in the admin interface and embeddable widget.\n                      </p>\n                    </div>\n                  </Card>\n                </div>\n              </div>\n\n              <div className=\"flex justify-end gap-2\">\n                <Button variant=\"outline\">Reset</Button>\n                <Button data-testid=\"button-save-branding\">Save Changes</Button>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* Data Retention */}\n        <TabsContent value=\"retention\" className=\"space-y-6\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Data Retention Policy</CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              <div>\n                <Label htmlFor=\"retention-days\">Retention Period (Days)</Label>\n                <Input\n                  id=\"retention-days\"\n                  type=\"number\"\n                  value={retentionDays}\n                  onChange={(e) => setRetentionDays(parseInt(e.target.value))}\n                  className=\"w-32 mt-2\"\n                  data-testid=\"input-retention-days\"\n                />\n                <p className=\"text-sm text-muted-foreground mt-1\">\n                  Number of days to retain user queries, responses, and feedback data\n                </p>\n              </div>\n\n              <div className=\"p-4 bg-secondary rounded-lg\">\n                <h4 className=\"font-medium mb-2\">Data Retention Policy</h4>\n                <ul className=\"text-sm text-muted-foreground space-y-1\">\n                  <li>• Query logs and responses will be automatically deleted after {retentionDays} days</li>\n                  <li>• User feedback and analytics data will be retained for the same period</li>\n                  <li>• Crawled documents and embeddings are not affected by this policy</li>\n                  <li>• System logs and audit trails follow separate retention rules</li>\n                </ul>\n              </div>\n\n              <div className=\"flex justify-end gap-2\">\n                <Button variant=\"outline\">Reset to Default</Button>\n                <Button data-testid=\"button-save-retention\">Save Policy</Button>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* Internationalization */}\n        <TabsContent value=\"i18n\" className=\"space-y-6\">\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <Globe className=\"h-5 w-5\" />\n                Internationalization\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              <div>\n                <Label htmlFor=\"locale\">Default Language</Label>\n                <Select value={locale} onValueChange={setLocale}>\n                  <SelectTrigger className=\"w-64 mt-2\" data-testid=\"select-locale\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"en\">English (US)</SelectItem>\n                    <SelectItem value=\"en-gb\">English (UK)</SelectItem>\n                    <SelectItem value=\"es\">Español</SelectItem>\n                    <SelectItem value=\"fr\">Français</SelectItem>\n                    <SelectItem value=\"de\">Deutsch</SelectItem>\n                    <SelectItem value=\"ja\">日本語</SelectItem>\n                    <SelectItem value=\"zh\">中文</SelectItem>\n                  </SelectContent>\n                </Select>\n                <p className=\"text-sm text-muted-foreground mt-1\">\n                  Default language for the admin interface and AI responses\n                </p>\n              </div>\n\n              <div className=\"p-4 bg-secondary rounded-lg\">\n                <h4 className=\"font-medium mb-2\">Translation Status</h4>\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-sm\">Admin Interface</span>\n                    <Badge variant=\"default\">100% Complete</Badge>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-sm\">Widget Interface</span>\n                    <Badge variant=\"default\">100% Complete</Badge>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-sm\">Error Messages</span>\n                    <Badge variant=\"secondary\">85% Complete</Badge>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-sm\">Documentation</span>\n                    <Badge variant=\"outline\">Available in English only</Badge>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"flex justify-end gap-2\">\n                <Button variant=\"outline\">Reset to Default</Button>\n                <Button data-testid=\"button-save-locale\">Save Language</Button>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* API Keys */}\n        <TabsContent value=\"api-keys\" className=\"space-y-6\">\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between\">\n              <CardTitle className=\"flex items-center gap-2\">\n                <Key className=\"h-5 w-5\" />\n                API Keys\n              </CardTitle>\n              <Button\n                onClick={() => setShowCreateKeyForm(true)}\n                data-testid=\"button-create-api-key\"\n              >\n                <Plus className=\"h-4 w-4 mr-2\" />\n                Create API Key\n              </Button>\n            </CardHeader>\n            <CardContent>\n              <Table>\n                <TableHeader>\n                  <TableRow>\n                    <TableHead>Name</TableHead>\n                    <TableHead>Key</TableHead>\n                    <TableHead>Created</TableHead>\n                    <TableHead>Last Used</TableHead>\n                    <TableHead>Requests</TableHead>\n                    <TableHead>Rate Limit</TableHead>\n                    <TableHead className=\"w-[100px]\">Actions</TableHead>\n                  </TableRow>\n                </TableHeader>\n                <TableBody>\n                  {apiKeys.map((key) => (\n                    <TableRow key={key.id} data-testid={`row-api-key-${key.id}`}>\n                      <TableCell className=\"font-medium\">{key.name}</TableCell>\n                      <TableCell>\n                        <div className=\"flex items-center gap-2\">\n                          <span className=\"font-mono text-sm\">\n                            {showApiKey === key.id ? key.key : `${key.key.slice(0, 12)}...`}\n                          </span>\n                          <Button\n                            variant=\"ghost\"\n                            size=\"sm\"\n                            onClick={() => setShowApiKey(showApiKey === key.id ? null : key.id)}\n                            data-testid={`button-toggle-key-${key.id}`}\n                          >\n                            {showApiKey === key.id ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\n                          </Button>\n                          <Button\n                            variant=\"ghost\"\n                            size=\"sm\"\n                            onClick={() => handleCopyKey(key.key)}\n                            data-testid={`button-copy-key-${key.id}`}\n                          >\n                            <Copy className=\"h-4 w-4\" />\n                          </Button>\n                        </div>\n                      </TableCell>\n                      <TableCell className=\"text-sm text-muted-foreground\">\n                        {key.createdAt.toLocaleDateString()}\n                      </TableCell>\n                      <TableCell className=\"text-sm text-muted-foreground\">\n                        {new Intl.RelativeTimeFormat(\"en\", { numeric: \"auto\" }).format(\n                          Math.floor((key.lastUsed.getTime() - Date.now()) / (1000 * 60)),\n                          \"minute\"\n                        )}\n                      </TableCell>\n                      <TableCell>{key.requests.toLocaleString()}</TableCell>\n                      <TableCell>{key.rateLimit}/hour</TableCell>\n                      <TableCell>\n                        <Button\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          onClick={() => handleRevokeApiKey(key.id)}\n                          data-testid={`button-revoke-key-${key.id}`}\n                        >\n                          <Trash2 className=\"h-4 w-4\" />\n                        </Button>\n                      </TableCell>\n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* System Health */}\n        <TabsContent value=\"health\" className=\"space-y-6\">\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <Activity className=\"h-5 w-5\" />\n                System Health\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n                {systemServices.map((service, index) => (\n                  <Card key={index} data-testid={`service-card-${index}`}>\n                    <CardHeader className=\"pb-3\">\n                      <div className=\"flex items-center justify-between\">\n                        <CardTitle className=\"text-base\">{service.name}</CardTitle>\n                        <Badge variant={getStatusColor(service.status)}>\n                          {service.status}\n                        </Badge>\n                      </div>\n                    </CardHeader>\n                    <CardContent className=\"space-y-2\">\n                      <div className=\"flex justify-between text-sm\">\n                        <span className=\"text-muted-foreground\">Uptime</span>\n                        <span className=\"font-medium\">{service.uptime}</span>\n                      </div>\n                      <div className=\"flex justify-between text-sm\">\n                        <span className=\"text-muted-foreground\">Last Heartbeat</span>\n                        <span className=\"font-medium\">\n                          {new Intl.RelativeTimeFormat(\"en\", { numeric: \"auto\" }).format(\n                            Math.floor((service.lastHeartbeat.getTime() - Date.now()) / (1000)),\n                            \"second\"\n                          )}\n                        </span>\n                      </div>\n                    </CardContent>\n                  </Card>\n                ))}\n              </div>\n\n              <div className=\"mt-6 p-4 bg-secondary rounded-lg\">\n                <h4 className=\"font-medium mb-2\">Health Legend</h4>\n                <div className=\"flex flex-wrap gap-4 text-sm\">\n                  <div className=\"flex items-center gap-2\">\n                    <Badge variant=\"default\">Healthy</Badge>\n                    <span className=\"text-muted-foreground\">Service operating normally</span>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <Badge variant=\"secondary\">Degraded</Badge>\n                    <span className=\"text-muted-foreground\">Service experiencing issues</span>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <Badge variant=\"destructive\">Down</Badge>\n                    <span className=\"text-muted-foreground\">Service unavailable</span>\n                  </div>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n\n      {/* Create API Key Form */}\n      <CreateApiKeyForm\n        open={showCreateKeyForm}\n        onOpenChange={setShowCreateKeyForm}\n        onSubmit={handleCreateApiKey}\n      />\n    </div>\n  );\n}","size_bytes":21412},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":711},"client/src/components/examples/AppSidebar.tsx":{"content":"import { SidebarProvider } from \"@/components/ui/sidebar\";\nimport { AppSidebar } from \"../AppSidebar\";\n\nexport default function AppSidebarExample() {\n  const style = {\n    \"--sidebar-width\": \"20rem\",\n    \"--sidebar-width-icon\": \"4rem\",\n  };\n\n  return (\n    <SidebarProvider style={style as React.CSSProperties}>\n      <div className=\"flex h-96 w-full\">\n        <AppSidebar />\n        <div className=\"flex-1 p-4\">\n          <p className=\"text-muted-foreground\">Sidebar navigation example</p>\n        </div>\n      </div>\n    </SidebarProvider>\n  );\n}","size_bytes":548},"client/src/components/examples/ChatMessage.tsx":{"content":"import { ChatMessage } from \"../ChatMessage\";\n\nexport default function ChatMessageExample() {\n  return (\n    <div className=\"space-y-4 p-4 max-w-2xl\">\n      <ChatMessage\n        type=\"user\"\n        content=\"How do I configure SSL certificates for my domain?\"\n        timestamp={new Date(Date.now() - 5 * 60 * 1000)}\n      />\n      \n      <ChatMessage\n        type=\"assistant\"\n        content=\"To configure SSL certificates for your domain, you'll need to follow these steps:\n\n1. **Generate a Certificate**: You can use Let's Encrypt for free SSL certificates\n2. **Configure your web server**: Update your Nginx or Apache configuration\n3. **Set up automatic renewal**: Ensure certificates renew before expiry\n\nThe process varies depending on your hosting provider and web server configuration.\"\n        citations={[\n          { title: \"SSL Setup Guide\", url: \"https://docs.example.com/ssl\", snippet: \"Complete guide to SSL certificate installation...\" },\n          { title: \"Let's Encrypt Tutorial\", url: \"https://docs.example.com/letsencrypt\", snippet: \"How to use Let's Encrypt for free SSL...\" }\n        ]}\n        timestamp={new Date(Date.now() - 4 * 60 * 1000)}\n        showFeedback\n      />\n      \n      <ChatMessage\n        type=\"user\"\n        content=\"Thanks! That's exactly what I needed.\"\n        timestamp={new Date()}\n      />\n    </div>\n  );\n}","size_bytes":1355},"client/src/components/examples/CrawlSourceTable.tsx":{"content":"import { CrawlSourceTable } from \"../CrawlSourceTable\";\n\nexport default function CrawlSourceTableExample() {\n  return (\n    <div className=\"p-4\">\n      <h3 className=\"text-lg font-semibold mb-4\">Crawl Sources</h3>\n      <CrawlSourceTable />\n    </div>\n  );\n}","size_bytes":258},"client/src/components/examples/EmbeddableWidget.tsx":{"content":"import { useState } from \"react\";\nimport { EmbeddableWidget } from \"../EmbeddableWidget\";\n\nexport default function EmbeddableWidgetExample() {\n  const [isOpen, setIsOpen] = useState(true);\n\n  return (\n    <div className=\"h-screen bg-background relative\">\n      <div className=\"p-8\">\n        <h2 className=\"text-2xl font-bold mb-4\">Example Website</h2>\n        <p className=\"text-muted-foreground mb-4\">\n          This demonstrates how the embeddable widget would appear on a client's website.\n          The widget is positioned in the bottom-right corner.\n        </p>\n        <div className=\"space-y-4\">\n          <div className=\"bg-card p-4 rounded-lg\">\n            <h3 className=\"font-semibold mb-2\">Sample Content</h3>\n            <p className=\"text-sm text-muted-foreground\">\n              This is example content on the host website. Users can interact with the \n              AI widget to get help and search through documentation.\n            </p>\n          </div>\n        </div>\n      </div>\n      \n      <EmbeddableWidget\n        isOpen={isOpen}\n        onToggle={() => setIsOpen(!isOpen)}\n        title=\"AI Assistant\"\n        showPoweredBy={true}\n      />\n    </div>\n  );\n}","size_bytes":1184},"client/src/components/examples/SearchBar.tsx":{"content":"import { SearchBar } from \"../SearchBar\";\n\nexport default function SearchBarExample() {\n  return (\n    <div className=\"space-y-4 p-4\">\n      <div>\n        <h3 className=\"text-sm font-medium mb-2\">Basic Search</h3>\n        <SearchBar onSearch={(query) => console.log(\"Search:\", query)} />\n      </div>\n      \n      <div>\n        <h3 className=\"text-sm font-medium mb-2\">With Send Button</h3>\n        <SearchBar \n          onSearch={(query) => console.log(\"Search:\", query)}\n          showSendButton\n          placeholder=\"Type and press enter or click send...\"\n        />\n      </div>\n      \n      <div>\n        <h3 className=\"text-sm font-medium mb-2\">With Mic Button</h3>\n        <SearchBar \n          onSearch={(query) => console.log(\"Search:\", query)}\n          showMicButton\n          showSendButton\n          placeholder=\"Ask about policies, docs, or how-tos...\"\n        />\n      </div>\n    </div>\n  );\n}","size_bytes":909},"client/src/components/examples/StatsCard.tsx":{"content":"import { Activity, Users, Search, AlertTriangle } from \"lucide-react\";\nimport { StatsCard } from \"../StatsCard\";\n\nexport default function StatsCardExample() {\n  return (\n    <div className=\"grid grid-cols-2 gap-4 p-4\">\n      <StatsCard\n        title=\"Queries Today\"\n        value=\"1,234\"\n        description=\"from yesterday\"\n        trend={{ value: 12, isPositive: true }}\n        icon={<Search className=\"h-4 w-4\" />}\n      />\n      <StatsCard\n        title=\"p95 Latency\"\n        value=\"245ms\"\n        description=\"avg response time\"\n        trend={{ value: 5, isPositive: false }}\n        icon={<Activity className=\"h-4 w-4\" />}\n      />\n      <StatsCard\n        title=\"Thumbs-up Rate\"\n        value=\"89%\"\n        description=\"user satisfaction\"\n        trend={{ value: 3, isPositive: true }}\n        icon={<Users className=\"h-4 w-4\" />}\n      />\n      <StatsCard\n        title=\"Crawl Errors\"\n        value=\"3\"\n        description=\"need attention\"\n        icon={<AlertTriangle className=\"h-4 w-4\" />}\n      />\n    </div>\n  );\n}","size_bytes":1029},"client/src/components/examples/ThemeToggle.tsx":{"content":"import { ThemeProvider } from \"@/contexts/ThemeContext\";\nimport { ThemeToggle } from \"../ThemeToggle\";\n\nexport default function ThemeToggleExample() {\n  return (\n    <ThemeProvider>\n      <div className=\"p-4\">\n        <ThemeToggle />\n      </div>\n    </ThemeProvider>\n  );\n}","size_bytes":274},"client/src/components/forms/AddSourceForm.tsx":{"content":"import { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogFooter,\n} from \"@/components/ui/dialog\";\nimport { Plus, X } from \"lucide-react\";\n\ninterface AddSourceFormProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  onSubmit: (data: any) => void;\n  editData?: any;\n}\n\nexport function AddSourceForm({ open, onOpenChange, onSubmit, editData }: AddSourceFormProps) {\n  const [url, setUrl] = useState(editData?.url || \"\");\n  const [name, setName] = useState(editData?.name || \"\");\n  const [description, setDescription] = useState(editData?.description || \"\");\n  const [depth, setDepth] = useState(editData?.depth || 2);\n  const [cadence, setCadence] = useState(editData?.cadence || \"daily\");\n  const [headless, setHeadless] = useState(editData?.headless || false);\n  const [allowPatterns, setAllowPatterns] = useState<string[]>(editData?.allowPatterns || []);\n  const [denyPatterns, setDenyPatterns] = useState<string[]>(editData?.denyPatterns || []);\n  const [newAllowPattern, setNewAllowPattern] = useState(\"\");\n  const [newDenyPattern, setNewDenyPattern] = useState(\"\");\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    onSubmit({\n      url,\n      name,\n      description,\n      depth,\n      cadence,\n      headless,\n      allowPatterns,\n      denyPatterns,\n    });\n    onOpenChange(false);\n  };\n\n  const addAllowPattern = () => {\n    if (newAllowPattern.trim()) {\n      setAllowPatterns([...allowPatterns, newAllowPattern.trim()]);\n      setNewAllowPattern(\"\");\n    }\n  };\n\n  const addDenyPattern = () => {\n    if (newDenyPattern.trim()) {\n      setDenyPatterns([...denyPatterns, newDenyPattern.trim()]);\n      setNewDenyPattern(\"\");\n    }\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle>{editData ? \"Edit Crawl Source\" : \"Add New Crawl Source\"}</DialogTitle>\n          <DialogDescription>\n            Configure a new website or documentation source for crawling and indexing.\n          </DialogDescription>\n        </DialogHeader>\n\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          <div className=\"grid gap-4 md:grid-cols-2\">\n            <div>\n              <Label htmlFor=\"source-name\">Source Name</Label>\n              <Input\n                id=\"source-name\"\n                placeholder=\"e.g., Documentation Site\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n                data-testid=\"input-source-name\"\n                required\n              />\n            </div>\n            <div>\n              <Label htmlFor=\"source-url\">Website URL</Label>\n              <Input\n                id=\"source-url\"\n                type=\"url\"\n                placeholder=\"https://docs.example.com\"\n                value={url}\n                onChange={(e) => setUrl(e.target.value)}\n                data-testid=\"input-source-url\"\n                required\n              />\n            </div>\n          </div>\n\n          <div>\n            <Label htmlFor=\"description\">Description (Optional)</Label>\n            <Textarea\n              id=\"description\"\n              placeholder=\"Describe this source...\"\n              value={description}\n              onChange={(e) => setDescription(e.target.value)}\n              data-testid=\"textarea-description\"\n            />\n          </div>\n\n          <div className=\"grid gap-4 md:grid-cols-2\">\n            <div>\n              <Label htmlFor=\"crawl-depth\">Crawl Depth</Label>\n              <Select value={depth.toString()} onValueChange={(value) => setDepth(parseInt(value))}>\n                <SelectTrigger data-testid=\"select-crawl-depth\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"1\">1 level (homepage only)</SelectItem>\n                  <SelectItem value=\"2\">2 levels</SelectItem>\n                  <SelectItem value=\"3\">3 levels</SelectItem>\n                  <SelectItem value=\"4\">4 levels</SelectItem>\n                  <SelectItem value=\"5\">5 levels (deep crawl)</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div>\n              <Label htmlFor=\"cadence\">Crawl Frequency</Label>\n              <Select value={cadence} onValueChange={setCadence}>\n                <SelectTrigger data-testid=\"select-cadence\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"hourly\">Every Hour</SelectItem>\n                  <SelectItem value=\"daily\">Daily</SelectItem>\n                  <SelectItem value=\"weekly\">Weekly</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n\n          <div className=\"flex items-center justify-between\">\n            <div className=\"space-y-0.5\">\n              <Label htmlFor=\"headless-mode\">Headless Browser Mode</Label>\n              <p className=\"text-sm text-muted-foreground\">\n                Enable for JavaScript-heavy sites that require rendering\n              </p>\n            </div>\n            <Switch\n              id=\"headless-mode\"\n              checked={headless}\n              onCheckedChange={setHeadless}\n              data-testid=\"switch-headless-mode\"\n            />\n          </div>\n\n          <div className=\"space-y-4\">\n            <div>\n              <Label>Allow Patterns</Label>\n              <p className=\"text-sm text-muted-foreground mb-2\">\n                URL patterns to include (use * for wildcards)\n              </p>\n              <div className=\"flex gap-2 mb-2\">\n                <Input\n                  placeholder=\"/docs/* or /api/*\"\n                  value={newAllowPattern}\n                  onChange={(e) => setNewAllowPattern(e.target.value)}\n                  data-testid=\"input-allow-pattern\"\n                />\n                <Button type=\"button\" onClick={addAllowPattern} data-testid=\"button-add-allow\">\n                  <Plus className=\"h-4 w-4\" />\n                </Button>\n              </div>\n              <div className=\"flex flex-wrap gap-1\">\n                {allowPatterns.map((pattern, index) => (\n                  <Badge key={index} variant=\"outline\" className=\"flex items-center gap-1\">\n                    {pattern}\n                    <Button\n                      type=\"button\"\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      className=\"h-4 w-4 p-0\"\n                      onClick={() => setAllowPatterns(allowPatterns.filter((_, i) => i !== index))}\n                      data-testid={`button-remove-allow-${index}`}\n                    >\n                      <X className=\"h-3 w-3\" />\n                    </Button>\n                  </Badge>\n                ))}\n              </div>\n            </div>\n\n            <div>\n              <Label>Deny Patterns</Label>\n              <p className=\"text-sm text-muted-foreground mb-2\">\n                URL patterns to exclude\n              </p>\n              <div className=\"flex gap-2 mb-2\">\n                <Input\n                  placeholder=\"/admin/* or /private/*\"\n                  value={newDenyPattern}\n                  onChange={(e) => setNewDenyPattern(e.target.value)}\n                  data-testid=\"input-deny-pattern\"\n                />\n                <Button type=\"button\" onClick={addDenyPattern} data-testid=\"button-add-deny\">\n                  <Plus className=\"h-4 w-4\" />\n                </Button>\n              </div>\n              <div className=\"flex flex-wrap gap-1\">\n                {denyPatterns.map((pattern, index) => (\n                  <Badge key={index} variant=\"outline\" className=\"flex items-center gap-1\">\n                    {pattern}\n                    <Button\n                      type=\"button\"\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      className=\"h-4 w-4 p-0\"\n                      onClick={() => setDenyPatterns(denyPatterns.filter((_, i) => i !== index))}\n                      data-testid={`button-remove-deny-${index}`}\n                    >\n                      <X className=\"h-3 w-3\" />\n                    </Button>\n                  </Badge>\n                ))}\n              </div>\n            </div>\n          </div>\n\n          <DialogFooter>\n            <Button type=\"button\" variant=\"outline\" onClick={() => onOpenChange(false)}>\n              Cancel\n            </Button>\n            <Button type=\"submit\" data-testid=\"button-save-source\">\n              {editData ? \"Update Source\" : \"Create Source\"}\n            </Button>\n          </DialogFooter>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n}","size_bytes":9232},"client/src/components/forms/CreateApiKeyForm.tsx":{"content":"import { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogFooter,\n} from \"@/components/ui/dialog\";\nimport { Key, Copy, AlertCircle } from \"lucide-react\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\n\ninterface CreateApiKeyFormProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  onSubmit: (data: any) => void;\n}\n\nexport function CreateApiKeyForm({ open, onOpenChange, onSubmit }: CreateApiKeyFormProps) {\n  const [step, setStep] = useState<\"form\" | \"created\">(\"form\");\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [rateLimit, setRateLimit] = useState(100);\n  const [environment, setEnvironment] = useState(\"production\");\n  const [expiry, setExpiry] = useState(\"never\");\n  const [generatedKey, setGeneratedKey] = useState(\"\");\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    // Generate a mock API key\n    const newKey = `rgs_${environment === \"production\" ? \"live\" : \"test\"}_${Math.random().toString(36).substr(2, 24)}`;\n    setGeneratedKey(newKey);\n    setStep(\"created\");\n    \n    onSubmit({\n      name,\n      description,\n      rateLimit,\n      environment,\n      expiry,\n      key: newKey,\n    });\n  };\n\n  const handleCopyKey = () => {\n    navigator.clipboard.writeText(generatedKey);\n    console.log(\"API key copied to clipboard\");\n  };\n\n  const handleClose = () => {\n    setStep(\"form\");\n    setName(\"\");\n    setDescription(\"\");\n    setRateLimit(100);\n    setEnvironment(\"production\");\n    setExpiry(\"never\");\n    setGeneratedKey(\"\");\n    onOpenChange(false);\n  };\n\n  if (step === \"created\") {\n    return (\n      <Dialog open={open} onOpenChange={handleClose}>\n        <DialogContent className=\"max-w-md\">\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center gap-2\">\n              <Key className=\"h-5 w-5\" />\n              API Key Created\n            </DialogTitle>\n            <DialogDescription>\n              Your new API key has been generated. Copy it now - you won't be able to see it again.\n            </DialogDescription>\n          </DialogHeader>\n\n          <div className=\"space-y-4\">\n            <Alert>\n              <AlertCircle className=\"h-4 w-4\" />\n              <AlertDescription>\n                Store this key securely. For security reasons, you won't be able to view it again.\n              </AlertDescription>\n            </Alert>\n\n            <div>\n              <Label>API Key</Label>\n              <div className=\"mt-1 flex items-center gap-2\">\n                <Input\n                  value={generatedKey}\n                  readOnly\n                  className=\"font-mono text-sm\"\n                  data-testid=\"input-generated-key\"\n                />\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={handleCopyKey}\n                  data-testid=\"button-copy-key\"\n                >\n                  <Copy className=\"h-4 w-4\" />\n                </Button>\n              </div>\n            </div>\n\n            <div className=\"text-sm text-muted-foreground\">\n              <p><strong>Name:</strong> {name}</p>\n              <p><strong>Environment:</strong> {environment}</p>\n              <p><strong>Rate Limit:</strong> {rateLimit} requests/hour</p>\n            </div>\n          </div>\n\n          <DialogFooter>\n            <Button onClick={handleClose} data-testid=\"button-close-key-dialog\">\n              Done\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    );\n  }\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-2xl\">\n        <DialogHeader>\n          <DialogTitle>Create API Key</DialogTitle>\n          <DialogDescription>\n            Generate a new API key for programmatic access to RAGSuite.\n          </DialogDescription>\n        </DialogHeader>\n\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          <div>\n            <Label htmlFor=\"key-name\">Key Name</Label>\n            <Input\n              id=\"key-name\"\n              placeholder=\"e.g., Production API Key\"\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n              data-testid=\"input-key-name\"\n              required\n            />\n            <p className=\"text-sm text-muted-foreground mt-1\">\n              A descriptive name to help you identify this key\n            </p>\n          </div>\n\n          <div>\n            <Label htmlFor=\"key-description\">Description (Optional)</Label>\n            <Textarea\n              id=\"key-description\"\n              placeholder=\"What will this key be used for?\"\n              value={description}\n              onChange={(e) => setDescription(e.target.value)}\n              data-testid=\"textarea-key-description\"\n            />\n          </div>\n\n          <div className=\"grid gap-4 md:grid-cols-2\">\n            <div>\n              <Label htmlFor=\"environment\">Environment</Label>\n              <Select value={environment} onValueChange={setEnvironment}>\n                <SelectTrigger data-testid=\"select-environment\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"production\">Production</SelectItem>\n                  <SelectItem value=\"staging\">Staging</SelectItem>\n                  <SelectItem value=\"development\">Development</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div>\n              <Label htmlFor=\"rate-limit\">Rate Limit (requests/hour)</Label>\n              <Input\n                id=\"rate-limit\"\n                type=\"number\"\n                min=\"1\"\n                max=\"10000\"\n                value={rateLimit}\n                onChange={(e) => setRateLimit(parseInt(e.target.value))}\n                data-testid=\"input-rate-limit\"\n                required\n              />\n            </div>\n          </div>\n\n          <div>\n            <Label htmlFor=\"expiry\">Expiration</Label>\n            <Select value={expiry} onValueChange={setExpiry}>\n              <SelectTrigger data-testid=\"select-expiry\">\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"never\">Never expires</SelectItem>\n                <SelectItem value=\"30d\">30 days</SelectItem>\n                <SelectItem value=\"90d\">90 days</SelectItem>\n                <SelectItem value=\"1y\">1 year</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n\n          <DialogFooter>\n            <Button type=\"button\" variant=\"outline\" onClick={() => onOpenChange(false)}>\n              Cancel\n            </Button>\n            <Button type=\"submit\" data-testid=\"button-create-key\">\n              <Key className=\"h-4 w-4 mr-2\" />\n              Create API Key\n            </Button>\n          </DialogFooter>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n}","size_bytes":7375},"client/src/components/forms/CreateIntegrationForm.tsx":{"content":"import { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogFooter,\n} from \"@/components/ui/dialog\";\nimport { Globe, X, Plus } from \"lucide-react\";\n\ninterface CreateIntegrationFormProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  onSubmit: (data: any) => void;\n}\n\nexport function CreateIntegrationForm({ open, onOpenChange, onSubmit }: CreateIntegrationFormProps) {\n  const [name, setName] = useState(\"\");\n  const [slug, setSlug] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [status, setStatus] = useState(\"active\");\n  const [owner, setOwner] = useState(\"\");\n  const [tags, setTags] = useState<string[]>([]);\n  const [newTag, setNewTag] = useState(\"\");\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    const publicId = `${slug}-${Math.random().toString(36).substr(2, 6)}`;\n    \n    onSubmit({\n      name,\n      slug,\n      description,\n      status,\n      owner,\n      tags,\n      publicId,\n    });\n    \n    onOpenChange(false);\n    \n    // Reset form\n    setName(\"\");\n    setSlug(\"\");\n    setDescription(\"\");\n    setStatus(\"active\");\n    setOwner(\"\");\n    setTags([]);\n    setNewTag(\"\");\n  };\n\n  const generateSlug = (name: string) => {\n    return name\n      .toLowerCase()\n      .replace(/[^a-z0-9\\s-]/g, \"\")\n      .replace(/\\s+/g, \"-\")\n      .replace(/-+/g, \"-\")\n      .trim();\n  };\n\n  const handleNameChange = (newName: string) => {\n    setName(newName);\n    if (!slug || slug === generateSlug(name)) {\n      setSlug(generateSlug(newName));\n    }\n  };\n\n  const addTag = () => {\n    if (newTag.trim() && !tags.includes(newTag.trim())) {\n      setTags([...tags, newTag.trim()]);\n      setNewTag(\"\");\n    }\n  };\n\n  const removeTag = (tagToRemove: string) => {\n    setTags(tags.filter(tag => tag !== tagToRemove));\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-2xl\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            <Globe className=\"h-5 w-5\" />\n            Create New Integration\n          </DialogTitle>\n          <DialogDescription>\n            Set up a new AI chat and search integration for your website or application.\n          </DialogDescription>\n        </DialogHeader>\n\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          <div className=\"grid gap-4 md:grid-cols-2\">\n            <div>\n              <Label htmlFor=\"integration-name\">Integration Name</Label>\n              <Input\n                id=\"integration-name\"\n                placeholder=\"e.g., Documentation Widget\"\n                value={name}\n                onChange={(e) => handleNameChange(e.target.value)}\n                data-testid=\"input-integration-name\"\n                required\n              />\n            </div>\n            <div>\n              <Label htmlFor=\"integration-slug\">Slug</Label>\n              <Input\n                id=\"integration-slug\"\n                placeholder=\"auto-generated from name\"\n                value={slug}\n                onChange={(e) => setSlug(e.target.value)}\n                data-testid=\"input-integration-slug\"\n                required\n              />\n              <p className=\"text-xs text-muted-foreground mt-1\">\n                Used for API endpoints and URLs\n              </p>\n            </div>\n          </div>\n\n          <div>\n            <Label htmlFor=\"integration-description\">Description</Label>\n            <Textarea\n              id=\"integration-description\"\n              placeholder=\"Brief description of what this integration does...\"\n              value={description}\n              onChange={(e) => setDescription(e.target.value)}\n              data-testid=\"textarea-integration-description\"\n              required\n            />\n          </div>\n\n          <div className=\"grid gap-4 md:grid-cols-2\">\n            <div>\n              <Label htmlFor=\"integration-status\">Initial Status</Label>\n              <Select value={status} onValueChange={setStatus}>\n                <SelectTrigger data-testid=\"select-integration-status\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"active\">Active</SelectItem>\n                  <SelectItem value=\"paused\">Paused</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n            <div>\n              <Label htmlFor=\"integration-owner\">Owner</Label>\n              <Select value={owner} onValueChange={setOwner}>\n                <SelectTrigger data-testid=\"select-integration-owner\">\n                  <SelectValue placeholder=\"Select owner\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"john@company.com\">John Doe</SelectItem>\n                  <SelectItem value=\"jane@company.com\">Jane Smith</SelectItem>\n                  <SelectItem value=\"bob@company.com\">Bob Wilson</SelectItem>\n                  <SelectItem value=\"alice@company.com\">Alice Johnson</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n\n          <div>\n            <Label>Tags</Label>\n            <div className=\"flex gap-2 mt-2 mb-2\">\n              <Input\n                placeholder=\"Add a tag...\"\n                value={newTag}\n                onChange={(e) => setNewTag(e.target.value)}\n                onKeyDown={(e) => {\n                  if (e.key === \"Enter\") {\n                    e.preventDefault();\n                    addTag();\n                  }\n                }}\n                data-testid=\"input-new-tag\"\n              />\n              <Button type=\"button\" onClick={addTag} data-testid=\"button-add-tag\">\n                <Plus className=\"h-4 w-4\" />\n              </Button>\n            </div>\n            <div className=\"flex flex-wrap gap-1\">\n              {tags.map((tag, index) => (\n                <Badge key={index} variant=\"outline\" className=\"flex items-center gap-1\">\n                  {tag}\n                  <Button\n                    type=\"button\"\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    className=\"h-4 w-4 p-0\"\n                    onClick={() => removeTag(tag)}\n                    data-testid={`button-remove-tag-${index}`}\n                  >\n                    <X className=\"h-3 w-3\" />\n                  </Button>\n                </Badge>\n              ))}\n            </div>\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              Use tags to organize and categorize your integrations\n            </p>\n          </div>\n\n          <div className=\"p-4 bg-secondary rounded-lg\">\n            <h4 className=\"font-medium mb-2\">What happens next?</h4>\n            <ul className=\"text-sm text-muted-foreground space-y-1\">\n              <li>• A unique public ID will be generated for this integration</li>\n              <li>• You'll be able to configure RAG settings, themes, and domains</li>\n              <li>• API keys can be created for different environments</li>\n              <li>• Embed code will be generated for your website</li>\n            </ul>\n          </div>\n\n          <DialogFooter>\n            <Button type=\"button\" variant=\"outline\" onClick={() => onOpenChange(false)}>\n              Cancel\n            </Button>\n            <Button type=\"submit\" data-testid=\"button-create-integration\">\n              <Globe className=\"h-4 w-4 mr-2\" />\n              Create Integration\n            </Button>\n          </DialogFooter>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n}","size_bytes":8025},"client/src/components/forms/UploadDocumentForm.tsx":{"content":"import { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogFooter,\n} from \"@/components/ui/dialog\";\nimport { Upload, FileText, X } from \"lucide-react\";\n\ninterface UploadDocumentFormProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  onSubmit: (data: any) => void;\n}\n\nexport function UploadDocumentForm({ open, onOpenChange, onSubmit }: UploadDocumentFormProps) {\n  const [files, setFiles] = useState<FileList | null>(null);\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [language, setLanguage] = useState(\"en\");\n  const [source, setSource] = useState(\"\");\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    onSubmit({\n      files,\n      title,\n      description,\n      language,\n      source,\n    });\n    onOpenChange(false);\n    // Reset form\n    setFiles(null);\n    setTitle(\"\");\n    setDescription(\"\");\n    setLanguage(\"en\");\n    setSource(\"\");\n  };\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFiles(e.target.files);\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-2xl\">\n        <DialogHeader>\n          <DialogTitle>Upload Documents</DialogTitle>\n          <DialogDescription>\n            Upload documents to be indexed and made available for search and chat.\n          </DialogDescription>\n        </DialogHeader>\n\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          <div>\n            <Label htmlFor=\"file-upload\">Select Files</Label>\n            <div className=\"mt-2\">\n              <Input\n                id=\"file-upload\"\n                type=\"file\"\n                multiple\n                accept=\".pdf,.doc,.docx,.txt,.md,.html\"\n                onChange={handleFileChange}\n                data-testid=\"input-file-upload\"\n                className=\"file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-primary-foreground hover:file:bg-primary/80\"\n              />\n              <p className=\"text-sm text-muted-foreground mt-1\">\n                Supported formats: PDF, DOC, DOCX, TXT, MD, HTML (max 10MB each)\n              </p>\n            </div>\n            {files && (\n              <div className=\"mt-2 space-y-1\">\n                {Array.from(files).map((file, index) => (\n                  <div key={index} className=\"flex items-center gap-2 text-sm\">\n                    <FileText className=\"h-4 w-4\" />\n                    <span>{file.name}</span>\n                    <span className=\"text-muted-foreground\">({(file.size / 1024 / 1024).toFixed(2)} MB)</span>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n\n          <div>\n            <Label htmlFor=\"doc-title\">Title (Optional)</Label>\n            <Input\n              id=\"doc-title\"\n              placeholder=\"Document title or leave empty to use filename\"\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n              data-testid=\"input-doc-title\"\n            />\n          </div>\n\n          <div>\n            <Label htmlFor=\"doc-description\">Description (Optional)</Label>\n            <Textarea\n              id=\"doc-description\"\n              placeholder=\"Brief description of the document contents...\"\n              value={description}\n              onChange={(e) => setDescription(e.target.value)}\n              data-testid=\"textarea-doc-description\"\n            />\n          </div>\n\n          <div className=\"grid gap-4 md:grid-cols-2\">\n            <div>\n              <Label htmlFor=\"doc-language\">Language</Label>\n              <Select value={language} onValueChange={setLanguage}>\n                <SelectTrigger data-testid=\"select-doc-language\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"en\">English</SelectItem>\n                  <SelectItem value=\"es\">Spanish</SelectItem>\n                  <SelectItem value=\"fr\">French</SelectItem>\n                  <SelectItem value=\"de\">German</SelectItem>\n                  <SelectItem value=\"ja\">Japanese</SelectItem>\n                  <SelectItem value=\"zh\">Chinese</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div>\n              <Label htmlFor=\"doc-source\">Source Collection</Label>\n              <Input\n                id=\"doc-source\"\n                placeholder=\"e.g., manual-uploads\"\n                value={source}\n                onChange={(e) => setSource(e.target.value)}\n                data-testid=\"input-doc-source\"\n              />\n            </div>\n          </div>\n\n          <DialogFooter>\n            <Button type=\"button\" variant=\"outline\" onClick={() => onOpenChange(false)}>\n              Cancel\n            </Button>\n            <Button type=\"submit\" disabled={!files} data-testid=\"button-upload-documents\">\n              <Upload className=\"h-4 w-4 mr-2\" />\n              Upload Documents\n            </Button>\n          </DialogFooter>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n}","size_bytes":5541},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","size_bytes":1977},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","size_bytes":4420},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","size_bytes":1584},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","size_bytes":140},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(`\n      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10\n      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","size_bytes":1592},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  // Whitespace-nowrap: Badges should never wrap.\n  \"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\" +\n  \" hover-elevate \" ,\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow-xs\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow-xs\",\n\n        outline: \" border [border-color:var(--badge-outline)] shadow-xs\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants }\n","size_bytes":1202},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","size_bytes":2712},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\" +\n  \" hover-elevate active-elevate-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground border border-primary-border\",\n        destructive:\n          \"bg-destructive text-destructive-foreground border border-destructive-border\",\n        outline:\n          // Shows the background color of whatever card / sidebar / accent background it is inside of.\n          // Inherits the current text color.\n          \" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none \",\n        secondary: \"border bg-secondary text-secondary-foreground border border-secondary-border \",\n        // Add a transparent border so that when someone toggles a border on later, it doesn't shift layout/size.\n        ghost: \"border border-transparent\",\n      },\n      // Heights are set as \"min\" heights, because sometimes Ai will place large amount of content\n      // inside buttons. With a min-height they will look appropriate with small amounts of content,\n      // but will expand to fit large amounts of content.\n      size: {\n        default: \"min-h-9 px-4 py-2\",\n        sm: \"min-h-8 rounded-md px-3 text-xs\",\n        lg: \"min-h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","size_bytes":2359},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","size_bytes":2695},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardDescription,\n  CardContent,\n}\n","size_bytes":1904},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","size_bytes":6210},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","size_bytes":10481},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","size_bytes":1056},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","size_bytes":329},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","size_bytes":4885},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","size_bytes":7428},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","size_bytes":3848},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","size_bytes":3021},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","size_bytes":7609},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","size_bytes":4120},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","size_bytes":1251},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","size_bytes":2154},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    // h-9 to match icon buttons and default buttons.\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","size_bytes":844},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","size_bytes":710},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","size_bytes":8605},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","size_bytes":5128},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","size_bytes":2751},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","size_bytes":1280},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","size_bytes":791},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","size_bytes":1467},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","size_bytes":1723},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","size_bytes":1642},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","size_bytes":5741},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","size_bytes":756},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","size_bytes":4281},"client/src/components/ui/sidebar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, VariantProps } from \"class-variance-authority\"\nimport { PanelLeftIcon } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nfunction SidebarProvider({\n  defaultOpen = true,\n  open: openProp,\n  onOpenChange: setOpenProp,\n  className,\n  style,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  defaultOpen?: boolean\n  open?: boolean\n  onOpenChange?: (open: boolean) => void\n}) {\n  const isMobile = useIsMobile()\n  const [openMobile, setOpenMobile] = React.useState(false)\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen)\n  const open = openProp ?? _open\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value\n      if (setOpenProp) {\n        setOpenProp(openState)\n      } else {\n        _setOpen(openState)\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n    },\n    [setOpenProp, open]\n  )\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)\n  }, [isMobile, setOpen, setOpenMobile])\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n        (event.metaKey || event.ctrlKey)\n      ) {\n        event.preventDefault()\n        toggleSidebar()\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [toggleSidebar])\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\"\n\n  const contextValue = React.useMemo<SidebarContextProps>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n  )\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          data-slot=\"sidebar-wrapper\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\n            \"group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full\",\n            className\n          )}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  )\n}\n\nfunction Sidebar({\n  side = \"left\",\n  variant = \"sidebar\",\n  collapsible = \"offcanvas\",\n  className,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  side?: \"left\" | \"right\"\n  variant?: \"sidebar\" | \"floating\" | \"inset\"\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n}) {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        data-slot=\"sidebar\"\n        className={cn(\n          \"bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    )\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <SheetHeader className=\"sr-only\">\n            <SheetTitle>Sidebar</SheetTitle>\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n          </SheetHeader>\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    )\n  }\n\n  return (\n    <div\n      className=\"group peer text-sidebar-foreground hidden md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n      data-slot=\"sidebar\"\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        data-slot=\"sidebar-gap\"\n        className={cn(\n          \"relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]\"\n        )}\n      />\n      <div\n        data-slot=\"sidebar-container\"\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar-inner\"\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction SidebarTrigger({\n  className,\n  onClick,\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      data-sidebar=\"trigger\"\n      data-slot=\"sidebar-trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeftIcon />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n}\n\nfunction SidebarRail({ className, ...props }: React.ComponentProps<\"button\">) {\n  const { toggleSidebar } = useSidebar()\n\n  // Note: Tailwind v3.4 doesn't support \"in-\" selectors. So the rail won't work perfectly.\n  return (\n    <button\n      data-sidebar=\"rail\"\n      data-slot=\"sidebar-rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex\",\n        \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInset({ className, ...props }: React.ComponentProps<\"main\">) {\n  return (\n    <main\n      data-slot=\"sidebar-inset\"\n      className={cn(\n        \"bg-background relative flex w-full flex-1 flex-col\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof Input>) {\n  return (\n    <Input\n      data-slot=\"sidebar-input\"\n      data-sidebar=\"input\"\n      className={cn(\"bg-background h-8 w-full shadow-none\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-header\"\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-footer\"\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"sidebar-separator\"\n      data-sidebar=\"separator\"\n      className={cn(\"bg-sidebar-border mx-2 w-auto\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-content\"\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group\"\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupLabel({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-label\"\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupAction({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-action\"\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupContent({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group-content\"\n      data-sidebar=\"group-content\"\n      className={cn(\"w-full text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu\"\n      data-sidebar=\"menu\"\n      className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-item\"\n      data-sidebar=\"menu-item\"\n      className={cn(\"group/menu-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction SidebarMenuButton({\n  asChild = false,\n  isActive = false,\n  variant = \"default\",\n  size = \"default\",\n  tooltip,\n  className,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  isActive?: boolean\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\n  const Comp = asChild ? Slot : \"button\"\n  const { isMobile, state } = useSidebar()\n\n  const button = (\n    <Comp\n      data-slot=\"sidebar-menu-button\"\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  )\n\n  if (!tooltip) {\n    return button\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    }\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent\n        side=\"right\"\n        align=\"center\"\n        hidden={state !== \"collapsed\" || isMobile}\n        {...tooltip}\n      />\n    </Tooltip>\n  )\n}\n\nfunction SidebarMenuAction({\n  className,\n  asChild = false,\n  showOnHover = false,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  showOnHover?: boolean\n}) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-action\"\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuBadge({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-menu-badge\"\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSkeleton({\n  className,\n  showIcon = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  showIcon?: boolean\n}) {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      data-slot=\"sidebar-menu-skeleton\"\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[var(--skeleton-width)] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n}\n\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu-sub\"\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubItem({\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-sub-item\"\n      data-sidebar=\"menu-sub-item\"\n      className={cn(\"group/menu-sub-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubButton({\n  asChild = false,\n  size = \"md\",\n  isActive = false,\n  className,\n  ...props\n}: React.ComponentProps<\"a\"> & {\n  asChild?: boolean\n  size?: \"sm\" | \"md\"\n  isActive?: boolean\n}) {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-sub-button\"\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline outline-2 outline-transparent outline-offset-2 focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","size_bytes":21846},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","size_bytes":261},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","size_bytes":1077},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","size_bytes":1139},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","size_bytes":2765},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","size_bytes":1883},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","size_bytes":689},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","size_bytes":4845},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","size_bytes":772},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","size_bytes":1753},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","size_bytes":1527},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","size_bytes":1209},"client/src/components/OnboardingTour.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { X, ArrowRight, ArrowLeft, Check, Play } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Progress } from \"@/components/ui/progress\";\n\ninterface TourStep {\n  id: string;\n  title: string;\n  content: string;\n  target: string; // CSS selector for target element\n  position: \"top\" | \"bottom\" | \"left\" | \"right\";\n  action?: \"click\" | \"hover\" | \"none\";\n  actionText?: string;\n}\n\ninterface OnboardingTourProps {\n  isActive: boolean;\n  onComplete: () => void;\n  onClose: () => void;\n}\n\nconst tourSteps: TourStep[] = [\n  {\n    id: \"welcome\",\n    title: \"Welcome to RAGSuite!\",\n    content: \"Let's take a quick tour to get you started with your AI-powered search and chatbot platform.\",\n    target: \"body\",\n    position: \"bottom\",\n    action: \"none\",\n  },\n  {\n    id: \"sidebar\",\n    title: \"Navigation Sidebar\",\n    content: \"Use the sidebar to navigate between different sections of your platform. You can access all major features from here.\",\n    target: \"[data-testid='sidebar']\",\n    position: \"right\",\n    action: \"none\",\n  },\n  {\n    id: \"search\",\n    title: \"Global Search\",\n    content: \"Press ⌘K (Ctrl+K) or click here to open the command palette for quick navigation and actions.\",\n    target: \"[data-testid='button-search']\",\n    position: \"bottom\",\n    action: \"click\",\n    actionText: \"Try opening search\",\n  },\n  {\n    id: \"notifications\",\n    title: \"Notifications\",\n    content: \"Stay updated with system alerts, crawl status updates, and important notifications.\",\n    target: \"[data-testid='button-notifications']\",\n    position: \"bottom\",\n    action: \"click\",\n    actionText: \"View notifications\",\n  },\n  {\n    id: \"crawl-sources\",\n    title: \"Crawl Sources\",\n    content: \"Add and manage your website sources for content crawling. This is where you configure what content to index.\",\n    target: \"[data-testid='button-add-source']\",\n    position: \"bottom\",\n    action: \"hover\",\n    actionText: \"Hover to explore\",\n  },\n  {\n    id: \"documents\",\n    title: \"Document Library\",\n    content: \"View and manage all your indexed documents. Upload additional files or browse crawled content.\",\n    target: \"[data-testid='button-upload-document']\",\n    position: \"left\",\n    action: \"none\",\n  },\n  {\n    id: \"widget-demo\",\n    title: \"Embeddable Widget\",\n    content: \"This is your AI assistant widget that can be embedded on any website. Try chatting with it!\",\n    target: \"[data-testid='button-widget-launcher']\",\n    position: \"left\",\n    action: \"click\",\n    actionText: \"Open widget demo\",\n  },\n];\n\nexport function OnboardingTour({ isActive, onComplete, onClose }: OnboardingTourProps) {\n  const [currentStep, setCurrentStep] = useState(0);\n  const [isStepCompleted, setIsStepCompleted] = useState(false);\n  const [highlightElement, setHighlightElement] = useState<HTMLElement | null>(null);\n  const [originalStyles, setOriginalStyles] = useState<{\n    position: string;\n    zIndex: string;\n    boxShadow: string;\n    borderRadius: string;\n  } | null>(null);\n\n  const step = tourSteps[currentStep];\n  const progress = ((currentStep + 1) / tourSteps.length) * 100;\n\n  useEffect(() => {\n    if (!isActive) return;\n\n    const target = document.querySelector(step.target) as HTMLElement;\n    if (target) {\n      setHighlightElement(target);\n      target.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      \n      // Store original styles\n      const computed = window.getComputedStyle(target);\n      const original = {\n        position: target.style.position || computed.position,\n        zIndex: target.style.zIndex || computed.zIndex,\n        boxShadow: target.style.boxShadow || computed.boxShadow,\n        borderRadius: target.style.borderRadius || computed.borderRadius,\n      };\n      setOriginalStyles(original);\n      \n      // Apply highlighting without breaking layout - preserve original border radius\n      target.style.zIndex = \"9999\";\n      target.style.boxShadow = \"0 0 0 4px rgb(59 130 246 / 0.5), 0 0 0 8px rgb(59 130 246 / 0.2)\";\n      // Only apply border radius if none exists, otherwise preserve original\n      if (!computed.borderRadius || computed.borderRadius === \"0px\") {\n        target.style.borderRadius = \"8px\";\n      }\n      \n      // Add event listeners for real user interactions\n      const handleHover = () => {\n        if (step.action === \"hover\") {\n          setIsStepCompleted(true);\n        }\n      };\n      \n      const handleClick = () => {\n        if (step.action === \"click\") {\n          setIsStepCompleted(true);\n        }\n      };\n      \n      target.addEventListener(\"mouseenter\", handleHover);\n      target.addEventListener(\"click\", handleClick);\n      \n      return () => {\n        target.removeEventListener(\"mouseenter\", handleHover);\n        target.removeEventListener(\"click\", handleClick);\n      };\n    }\n\n    return () => {\n      // Cleanup function will run in the next useEffect cleanup\n    };\n  }, [currentStep, step.target, step.action, isActive]);\n\n  // Cleanup effect for restoring styles\n  useEffect(() => {\n    return () => {\n      if (highlightElement && originalStyles) {\n        highlightElement.style.position = originalStyles.position === \"static\" ? \"\" : originalStyles.position;\n        highlightElement.style.zIndex = originalStyles.zIndex === \"auto\" ? \"\" : originalStyles.zIndex;\n        highlightElement.style.boxShadow = originalStyles.boxShadow === \"none\" ? \"\" : originalStyles.boxShadow;\n        highlightElement.style.borderRadius = originalStyles.borderRadius === \"0px\" ? \"\" : originalStyles.borderRadius;\n      }\n    };\n  }, [highlightElement, originalStyles]);\n\n  const handleNext = () => {\n    // Restore styles before moving to next step\n    if (highlightElement && originalStyles) {\n      highlightElement.style.position = originalStyles.position === \"static\" ? \"\" : originalStyles.position;\n      highlightElement.style.zIndex = originalStyles.zIndex === \"auto\" ? \"\" : originalStyles.zIndex;\n      highlightElement.style.boxShadow = originalStyles.boxShadow === \"none\" ? \"\" : originalStyles.boxShadow;\n      highlightElement.style.borderRadius = originalStyles.borderRadius === \"0px\" ? \"\" : originalStyles.borderRadius;\n    }\n    \n    if (currentStep < tourSteps.length - 1) {\n      setCurrentStep(currentStep + 1);\n      setIsStepCompleted(false);\n    } else {\n      onComplete();\n    }\n  };\n\n  const handlePrevious = () => {\n    // Restore styles before moving to previous step\n    if (highlightElement && originalStyles) {\n      highlightElement.style.position = originalStyles.position === \"static\" ? \"\" : originalStyles.position;\n      highlightElement.style.zIndex = originalStyles.zIndex === \"auto\" ? \"\" : originalStyles.zIndex;\n      highlightElement.style.boxShadow = originalStyles.boxShadow === \"none\" ? \"\" : originalStyles.boxShadow;\n      highlightElement.style.borderRadius = originalStyles.borderRadius === \"0px\" ? \"\" : originalStyles.borderRadius;\n    }\n    \n    if (currentStep > 0) {\n      setCurrentStep(currentStep - 1);\n      setIsStepCompleted(false);\n    }\n  };\n\n  const handleSkip = () => {\n    // Restore styles before closing\n    if (highlightElement && originalStyles) {\n      highlightElement.style.position = originalStyles.position === \"static\" ? \"\" : originalStyles.position;\n      highlightElement.style.zIndex = originalStyles.zIndex === \"auto\" ? \"\" : originalStyles.zIndex;\n      highlightElement.style.boxShadow = originalStyles.boxShadow === \"none\" ? \"\" : originalStyles.boxShadow;\n      highlightElement.style.borderRadius = originalStyles.borderRadius === \"0px\" ? \"\" : originalStyles.borderRadius;\n    }\n    onClose();\n  };\n\n  const handleActionClick = () => {\n    if (step.action === \"click\" && highlightElement) {\n      // Simulate click to trigger the actual functionality\n      highlightElement.click();\n      setIsStepCompleted(true);\n    } else if (step.action === \"hover\") {\n      setIsStepCompleted(true);\n    }\n  };\n\n  if (!isActive) return null;\n\n  return (\n    <>\n      {/* Overlay */}\n      <div className=\"fixed inset-0 bg-black/50 z-[9998]\" />\n      \n      {/* Tour Card */}\n      <Card className=\"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 z-[9999] shadow-2xl\">\n        <CardHeader className=\"pb-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-2\">\n              <Badge variant=\"outline\" className=\"text-xs\">\n                Step {currentStep + 1} of {tourSteps.length}\n              </Badge>\n              {isStepCompleted && (\n                <Badge variant=\"default\" className=\"text-xs\">\n                  <Check className=\"h-3 w-3 mr-1\" />\n                  Completed\n                </Badge>\n              )}\n            </div>\n            <Button variant=\"ghost\" size=\"sm\" onClick={handleSkip}>\n              <X className=\"h-4 w-4\" />\n            </Button>\n          </div>\n          <div className=\"space-y-2\">\n            <CardTitle className=\"text-lg\">{step.title}</CardTitle>\n            <Progress value={progress} className=\"h-2\" />\n          </div>\n        </CardHeader>\n        \n        <CardContent className=\"space-y-4\">\n          <p className=\"text-sm text-muted-foreground leading-relaxed\">\n            {step.content}\n          </p>\n          \n          {step.action && step.action !== \"none\" && (\n            <div className=\"p-3 bg-secondary rounded-lg\">\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={handleActionClick}\n                disabled={isStepCompleted}\n                className=\"w-full\"\n              >\n                <Play className=\"h-4 w-4 mr-2\" />\n                {step.actionText || \"Complete action\"}\n              </Button>\n            </div>\n          )}\n          \n          <div className=\"flex items-center justify-between pt-2\">\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={handlePrevious}\n              disabled={currentStep === 0}\n            >\n              <ArrowLeft className=\"h-4 w-4 mr-2\" />\n              Previous\n            </Button>\n            \n            <div className=\"flex gap-2\">\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={handleSkip}\n              >\n                Skip Tour\n              </Button>\n              <Button\n                size=\"sm\"\n                onClick={handleNext}\n                disabled={step.action && step.action !== \"none\" && !isStepCompleted}\n              >\n                {currentStep === tourSteps.length - 1 ? \"Finish\" : \"Next\"}\n                <ArrowRight className=\"h-4 w-4 ml-2\" />\n              </Button>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    </>\n  );\n}","size_bytes":10924},"client/src/hooks/useOnboarding.ts":{"content":"import { useState, useEffect } from \"react\";\n\ninterface OnboardingState {\n  hasSeenTour: boolean;\n  completedSteps: string[];\n  tourStartedAt?: Date;\n  tourCompletedAt?: Date;\n  currentProgress: number;\n}\n\nconst ONBOARDING_STORAGE_KEY = \"ragsuite-onboarding\";\n\nexport function useOnboarding() {\n  const [onboardingState, setOnboardingState] = useState<OnboardingState>(() => {\n    const stored = localStorage.getItem(ONBOARDING_STORAGE_KEY);\n    if (stored) {\n      try {\n        return JSON.parse(stored);\n      } catch {\n        return {\n          hasSeenTour: false,\n          completedSteps: [],\n          currentProgress: 0,\n        };\n      }\n    }\n    return {\n      hasSeenTour: false,\n      completedSteps: [],\n      currentProgress: 0,\n    };\n  });\n\n  const [isTourActive, setIsTourActive] = useState(false);\n\n  const updateOnboardingState = (updates: Partial<OnboardingState>) => {\n    const newState = { ...onboardingState, ...updates };\n    setOnboardingState(newState);\n    localStorage.setItem(ONBOARDING_STORAGE_KEY, JSON.stringify(newState));\n  };\n\n  const startTour = () => {\n    setIsTourActive(true);\n    updateOnboardingState({\n      tourStartedAt: new Date(),\n      currentProgress: 0,\n    });\n  };\n\n  const completeTour = () => {\n    setIsTourActive(false);\n    updateOnboardingState({\n      hasSeenTour: true,\n      tourCompletedAt: new Date(),\n      currentProgress: 100,\n    });\n  };\n\n  const skipTour = () => {\n    setIsTourActive(false);\n    updateOnboardingState({\n      hasSeenTour: true,\n      currentProgress: 0,\n    });\n  };\n\n  const resetOnboarding = () => {\n    setOnboardingState({\n      hasSeenTour: false,\n      completedSteps: [],\n      currentProgress: 0,\n    });\n    localStorage.removeItem(ONBOARDING_STORAGE_KEY);\n  };\n\n  const completeStep = (stepId: string) => {\n    if (!onboardingState.completedSteps.includes(stepId)) {\n      updateOnboardingState({\n        completedSteps: [...onboardingState.completedSteps, stepId],\n      });\n    }\n  };\n\n  // Auto-start tour for new users\n  useEffect(() => {\n    if (!onboardingState.hasSeenTour && !isTourActive) {\n      const timer = setTimeout(() => {\n        setIsTourActive(true);\n      }, 1000); // Small delay to let the page load\n\n      return () => clearTimeout(timer);\n    }\n  }, [onboardingState.hasSeenTour, isTourActive]);\n\n  return {\n    onboardingState,\n    isTourActive,\n    startTour,\n    completeTour,\n    skipTour,\n    resetOnboarding,\n    completeStep,\n    isNewUser: !onboardingState.hasSeenTour,\n  };\n}","size_bytes":2509},"replit.md":{"content":"# RAG-Powered AI Platform\n\n## Overview\n\nThis is an enterprise-grade RAG (Retrieval-Augmented Generation) powered AI search and chatbot platform. The platform consists of an admin dashboard for managing content sources, tuning AI responses, and monitoring analytics, plus an embeddable widget that provides AI-powered search and chat functionality for end users.\n\nThe system enables organizations to index their documentation, knowledge bases, and other content sources, then provide intelligent search and conversational AI experiences. Key features include web crawling, document upload, RAG parameter tuning, user feedback collection, and comprehensive analytics.\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## System Architecture\n\n### Frontend Architecture\n- **Framework**: React 18 with TypeScript using Vite as the build tool\n- **UI Components**: Radix UI primitives with shadcn/ui component library for consistent, accessible design\n- **Styling**: Tailwind CSS with custom design tokens supporting light/dark themes\n- **State Management**: TanStack Query for server state management, React Context for theme and onboarding state\n- **Routing**: Wouter for lightweight client-side routing\n- **Design System**: Custom component library following enterprise design patterns inspired by Linear and Notion\n\n### Backend Architecture\n- **Runtime**: Node.js with Express.js server framework\n- **Language**: TypeScript for type safety across the stack\n- **API Pattern**: RESTful API design with `/api` prefix for all endpoints\n- **Storage Interface**: Abstracted storage layer with in-memory implementation for development\n\n### Database Layer\n- **ORM**: Drizzle ORM for type-safe database operations\n- **Database**: PostgreSQL configured via DATABASE_URL environment variable\n- **Connection**: Neon Database serverless connection pool with WebSocket support\n- **Schema Management**: Drizzle Kit for migrations and schema management\n\n### Authentication & Session Management\n- **Session Storage**: PostgreSQL-based session store using connect-pg-simple\n- **Session Configuration**: Express session middleware with secure cookie settings\n\n### Development Tools\n- **Build System**: Vite with React plugin and custom configuration for monorepo structure\n- **Type Checking**: Shared TypeScript configuration across client/server/shared modules\n- **Path Aliases**: Configured path mapping for clean imports (@/, @shared/, etc.)\n- **Hot Reload**: Vite HMR integration with Express middleware in development\n\n### Deployment Architecture\n- **Build Process**: Separate client (Vite) and server (esbuild) build pipelines\n- **Static Assets**: Client assets built to dist/public, served statically in production\n- **Server Bundle**: ESM format server bundle with external dependencies\n- **Environment**: Development/production environment detection with appropriate middleware\n\n### Embeddable Widget\n- **Integration**: Standalone React component designed for embedding in third-party websites\n- **Functionality**: Dual-mode support for search and chat interfaces with live preview\n- **Customization**: Theme customization with host site integration capabilities\n\n## External Dependencies\n\n### Database Services\n- **Neon Database**: Serverless PostgreSQL with connection pooling and WebSocket support\n- **Drizzle ORM**: Database operations with automatic migrations\n\n### UI Framework Dependencies\n- **Radix UI**: Comprehensive set of accessible, unstyled React components\n- **Lucide React**: Icon library for consistent iconography\n- **Tailwind CSS**: Utility-first CSS framework with custom design system\n\n### Development & Build Tools\n- **Vite**: Fast build tool with HMR and optimized bundling\n- **TypeScript**: Static type checking across the entire codebase\n- **ESBuild**: Fast JavaScript bundler for server-side code\n\n### Data Visualization\n- **Recharts**: React charting library for analytics dashboards and data visualization\n\n### Form Management\n- **React Hook Form**: Performant forms with minimal re-renders\n- **Hookform Resolvers**: Validation integration\n\n### Utility Libraries\n- **date-fns**: Date manipulation and formatting\n- **clsx & tailwind-merge**: Conditional CSS class management\n- **class-variance-authority**: Component variant management\n\n### Session & Storage\n- **connect-pg-simple**: PostgreSQL session store for Express sessions","size_bytes":4374},"client/src/components/IntegrationCreateEdit.tsx":{"content":"import { useState, useCallback } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { \n  Settings, \n  Key, \n  Globe, \n  Sliders, \n  Palette, \n  Server, \n  Webhook, \n  History, \n  BarChart3, \n  TestTube, \n  Users, \n  FileText,\n  Save,\n  Eye,\n  ArrowLeft,\n  Shield\n} from \"lucide-react\";\nimport OverviewTab from \"./tabs/OverviewTab\";\nimport EmbedKeysTab from \"./tabs/EmbedKeysTab\";\nimport DomainsTab from \"./tabs/DomainsTab\";\nimport ConfigTab from \"./tabs/ConfigTab\";\nimport ThemeTab from \"./tabs/ThemeTab\";\nimport EnvironmentsTab from \"./tabs/EnvironmentsTab\";\nimport WebhooksTab from \"./tabs/WebhooksTab\";\nimport VersionsTab from \"./tabs/VersionsTab\";\nimport AnalyticsTab from \"./tabs/AnalyticsTab\";\nimport ABTestingTab from \"./tabs/ABTestingTab\";\nimport PermissionsTab from \"./tabs/PermissionsTab\";\nimport AuditLogsTab from \"./tabs/AuditLogsTab\";\nimport SecurityComplianceTab from \"./tabs/SecurityComplianceTab\";\n\ninterface IntegrationCreateEditProps {\n  integrationId?: string;\n  mode: \"create\" | \"edit\";\n  onBack: () => void;\n  onSave: (data: any) => void;\n}\n\n// Mock users for now - replace with real API call\nconst mockUsers = [\n  { id: \"user-001\", name: \"John Doe\", email: \"john@company.com\" },\n  { id: \"user-002\", name: \"Jane Smith\", email: \"jane@company.com\" },\n  { id: \"user-003\", name: \"Bob Wilson\", email: \"bob@company.com\" },\n  { id: \"user-004\", name: \"Alice Johnson\", email: \"alice@company.com\" },\n];\n\nexport default function IntegrationCreateEdit({ \n  integrationId, \n  mode, \n  onBack, \n  onSave \n}: IntegrationCreateEditProps) {\n  const [activeTab, setActiveTab] = useState(\"overview\");\n  const [isDraftSaved, setIsDraftSaved] = useState(false);\n  \n  // Form data state\n  const [formData, setFormData] = useState({\n    overview: {\n      name: \"\",\n      slug: \"\",\n      description: \"\",\n      status: \"active\",\n      ownerId: \"\",\n      tags: [],\n    },\n    embedKeys: {\n      publicId: \"\",\n      keys: [],\n    },\n    domains: {\n      domains: [],\n    },\n    config: {\n      // RAG Settings\n      ragModel: \"gpt-4-turbo\",\n      temperature: 0.7,\n      maxTokens: 2048,\n      topK: 40,\n      topP: 0.9,\n      contextWindow: 16000,\n      retrievalCount: 5,\n      similarityThreshold: 0.75,\n      \n      // Behavior Settings\n      enableChat: true,\n      enableSearch: true,\n      enableSuggestions: true,\n      enableCitations: true,\n      enableFollowUps: true,\n      \n      // Response Behavior\n      responseMode: \"balanced\" as const,\n      fallbackResponse: \"I apologize, but I don't have enough information to answer that question accurately. Please try rephrasing your question or contact support for additional help.\",\n      maxResponseLength: 1000,\n      enableStreaming: true,\n      \n      // Privacy & Security\n      logConversations: true,\n      retainData: true,\n      dataRetentionDays: 90,\n      allowAnonymous: true,\n      requireAuth: false,\n      allowedDomains: [],\n      \n      // Rate Limiting\n      rateLimitPerUser: 100,\n      rateLimitWindow: 60,\n      \n      // Content Filtering\n      enableProfanityFilter: true,\n      contentModerationLevel: \"moderate\" as const,\n      blockedTerms: [],\n    },\n    theme: {\n      // Brand Colors\n      primaryColor: \"#1F6FEB\",\n      secondaryColor: \"#6C757D\", \n      accentColor: \"#7C3AED\",\n      \n      // Background Colors\n      backgroundColor: \"#FFFFFF\",\n      surfaceColor: \"#F8FAFC\",\n      cardColor: \"#FFFFFF\",\n      \n      // Text Colors\n      textPrimary: \"#1F2937\",\n      textSecondary: \"#6B7280\", \n      textMuted: \"#9CA3AF\",\n      \n      // State Colors\n      successColor: \"#22C55E\",\n      warningColor: \"#F59E0B\",\n      errorColor: \"#EF4444\",\n      infoColor: \"#38BDF8\",\n      \n      // Border & Divider\n      borderColor: \"#E5E7EB\",\n      dividerColor: \"#F3F4F6\",\n      \n      // Theme Settings\n      darkModeEnabled: true,\n      defaultMode: \"system\" as const,\n      \n      // Typography\n      fontFamily: \"Inter, system-ui, sans-serif\",\n      fontSize: {\n        xs: \"0.75rem\",\n        sm: \"0.875rem\", \n        base: \"1rem\",\n        lg: \"1.125rem\",\n        xl: \"1.25rem\",\n        \"2xl\": \"1.5rem\",\n      },\n      \n      // Layout\n      borderRadius: {\n        sm: \"0.125rem\",\n        md: \"0.375rem\",\n        lg: \"0.5rem\",\n      },\n      \n      // Spacing\n      spacing: {\n        xs: \"0.25rem\",\n        sm: \"0.5rem\",\n        md: \"1rem\", \n        lg: \"1.5rem\",\n        xl: \"2rem\",\n      },\n      \n      // Advanced\n      customCSS: \"\",\n      enableCustomCSS: false,\n      \n      // Widget Appearance\n      chatBubbleStyle: \"rounded\" as const,\n      avatarStyle: \"circle\" as const,\n      animationsEnabled: true,\n    },\n    environments: {\n      environments: [\n        {\n          id: \"staging\",\n          name: \"Staging\",\n          type: \"staging\" as const,\n          status: \"active\" as const,\n          url: \"https://staging-widget.example.com\",\n          lastDeployed: new Date(Date.now() - 1000 * 60 * 60 * 2), // 2 hours ago\n          version: \"v1.24.0\",\n          uptime: 99.2,\n          responseTime: 145,\n          requestsPerMinute: 250,\n          errorRate: 0.1,\n          autoDeployEnabled: true,\n          maintenanceMode: false,\n          deploymentBranch: \"develop\",\n          rateLimitRpm: 1000,\n          maxConcurrentUsers: 500,\n          environmentVars: [\n            { key: \"API_BASE_URL\", value: \"https://api-staging.example.com\", isSecret: false },\n            { key: \"DATABASE_URL\", value: \"postgres://staging-db...\", isSecret: true },\n            { key: \"LOG_LEVEL\", value: \"debug\", isSecret: false },\n          ],\n        },\n        {\n          id: \"production\", \n          name: \"Production\",\n          type: \"production\" as const,\n          status: \"active\" as const,\n          url: \"https://widget.example.com\",\n          lastDeployed: new Date(Date.now() - 1000 * 60 * 60 * 24), // 1 day ago\n          version: \"v1.23.0\",\n          uptime: 99.9,\n          responseTime: 98,\n          requestsPerMinute: 1250,\n          errorRate: 0.02,\n          autoDeployEnabled: false,\n          maintenanceMode: false,\n          deploymentBranch: \"main\",\n          rateLimitRpm: 5000,\n          maxConcurrentUsers: 2000,\n          environmentVars: [\n            { key: \"API_BASE_URL\", value: \"https://api.example.com\", isSecret: false },\n            { key: \"DATABASE_URL\", value: \"postgres://prod-db...\", isSecret: true },\n            { key: \"LOG_LEVEL\", value: \"info\", isSecret: false },\n          ],\n        },\n      ],\n      defaultEnvironment: \"production\",\n      autoPromotionEnabled: false,\n      deploymentNotifications: true,\n    },\n    webhooks: {\n      endpoints: [\n        {\n          id: \"webhook-1\",\n          name: \"User Activity Webhook\",\n          url: \"https://api.example.com/webhooks/user-activity\",\n          events: [\"user.query\", \"user.feedback\", \"chat.started\"],\n          isActive: true,\n          secret: \"wh_secret_key_123\",\n          retryCount: 3,\n          timeoutMs: 5000,\n          customHeaders: [\n            { key: \"Authorization\", value: \"Bearer token123\" },\n            { key: \"X-Source\", value: \"ai-search-platform\" }\n          ],\n          createdAt: new Date(Date.now() - 1000 * 60 * 60 * 24 * 7), // 1 week ago\n          lastTriggered: new Date(Date.now() - 1000 * 60 * 30), // 30 minutes ago\n          successCount: 1247,\n          failureCount: 23,\n        },\n        {\n          id: \"webhook-2\", \n          name: \"Analytics Webhook\",\n          url: \"https://analytics.example.com/events\",\n          events: [\"search.completed\", \"document.indexed\", \"integration.updated\"],\n          isActive: false,\n          secret: \"\",\n          retryCount: 5,\n          timeoutMs: 3000,\n          customHeaders: [],\n          createdAt: new Date(Date.now() - 1000 * 60 * 60 * 24 * 3), // 3 days ago\n          lastTriggered: new Date(Date.now() - 1000 * 60 * 60 * 12), // 12 hours ago\n          successCount: 456,\n          failureCount: 7,\n        },\n      ],\n      eventTypes: [\n        \"user.query\",\n        \"user.feedback\", \n        \"chat.started\",\n        \"chat.ended\",\n        \"search.completed\",\n        \"document.indexed\",\n        \"integration.created\",\n        \"integration.updated\",\n        \"integration.deleted\",\n        \"deployment.success\",\n        \"deployment.failed\",\n        \"error.occurred\"\n      ],\n      globalRetryEnabled: true,\n      globalTimeoutMs: 5000,\n      eventLogs: [\n        {\n          id: \"log-1\",\n          webhookId: \"webhook-1\",\n          webhookName: \"User Activity Webhook\",\n          event: \"user.query\",\n          payload: { \n            userId: \"user123\",\n            query: \"How to implement RAG?\",\n            timestamp: new Date().toISOString(),\n            sessionId: \"session-456\"\n          },\n          response: {\n            status: 200,\n            body: \"OK\",\n            headers: { \"content-type\": \"application/json\" }\n          },\n          attempts: 1,\n          status: \"success\" as const,\n          timestamp: new Date(Date.now() - 1000 * 60 * 5), // 5 minutes ago\n          duration: 234,\n        },\n        {\n          id: \"log-2\",\n          webhookId: \"webhook-1\", \n          webhookName: \"User Activity Webhook\",\n          event: \"user.feedback\",\n          payload: {\n            userId: \"user789\",\n            rating: 5,\n            comment: \"Very helpful response\",\n            queryId: \"query-123\"\n          },\n          response: {\n            status: 500,\n            body: \"Internal Server Error\",\n            headers: { \"content-type\": \"text/plain\" }\n          },\n          attempts: 2,\n          status: \"failed\" as const,\n          timestamp: new Date(Date.now() - 1000 * 60 * 15), // 15 minutes ago\n          duration: 5000,\n          nextRetry: new Date(Date.now() + 1000 * 60 * 5), // 5 minutes from now\n        },\n      ],\n      testMode: false,\n    },\n    versions: {\n      versions: [\n        {\n          id: \"version-3\",\n          version: \"v1.3.0\",\n          status: \"published\" as const,\n          publishedAt: new Date(Date.now() - 1000 * 60 * 60 * 2), // 2 hours ago\n          createdAt: new Date(Date.now() - 1000 * 60 * 60 * 3), // 3 hours ago\n          createdBy: \"john.doe\",\n          releaseNotes: \"Added advanced analytics tracking and improved search performance\",\n          tags: [\"analytics\", \"performance\", \"major\"],\n          changes: [\n            {\n              field: \"config.searchSettings.maxResults\",\n              oldValue: 50,\n              newValue: 100,\n              type: \"modified\" as const\n            },\n            {\n              field: \"config.analytics.trackingEnabled\",\n              oldValue: null,\n              newValue: true,\n              type: \"added\" as const\n            },\n            {\n              field: \"theme.primaryColor\",\n              oldValue: \"#1F6FEB\",\n              newValue: \"#2563EB\",\n              type: \"modified\" as const\n            }\n          ],\n          config: {},\n          approvedBy: \"jane.smith\",\n          approvedAt: new Date(Date.now() - 1000 * 60 * 60 * 2.5), // 2.5 hours ago\n        },\n        {\n          id: \"version-2\",\n          version: \"v1.2.1\",\n          status: \"archived\" as const,\n          publishedAt: new Date(Date.now() - 1000 * 60 * 60 * 24 * 2), // 2 days ago\n          createdAt: new Date(Date.now() - 1000 * 60 * 60 * 24 * 2 - 1000 * 60 * 30), // 2 days + 30 min ago\n          createdBy: \"alice.johnson\",\n          releaseNotes: \"Bug fixes and security improvements\",\n          tags: [\"bugfix\", \"security\", \"patch\"],\n          changes: [\n            {\n              field: \"config.security.rateLimitEnabled\",\n              oldValue: false,\n              newValue: true,\n              type: \"modified\" as const\n            }\n          ],\n          config: {},\n          approvedBy: \"john.doe\",\n          approvedAt: new Date(Date.now() - 1000 * 60 * 60 * 24 * 2), // 2 days ago\n        },\n        {\n          id: \"version-4\",\n          version: \"v1.4.0\",\n          status: \"draft\" as const,\n          publishedAt: null,\n          createdAt: new Date(Date.now() - 1000 * 60 * 30), // 30 minutes ago\n          createdBy: \"current-user\",\n          releaseNotes: \"New theme customization options and webhook improvements\",\n          tags: [\"theme\", \"webhooks\", \"feature\"],\n          changes: [\n            {\n              field: \"theme.customCSS\",\n              oldValue: null,\n              newValue: \"/* Custom styles */\",\n              type: \"added\" as const\n            },\n            {\n              field: \"webhooks.globalRetryEnabled\",\n              oldValue: false,\n              newValue: true,\n              type: \"modified\" as const\n            }\n          ],\n          config: {},\n        },\n      ],\n      currentVersion: \"version-3\",\n      draftVersion: \"version-4\",\n      approvalWorkflow: {\n        enabled: true,\n        requiredApprovers: 1,\n        approvers: [\"john.doe\", \"jane.smith\", \"alice.johnson\"],\n        autoPublishOnApproval: false,\n      },\n      retentionDays: 90,\n      autoVersioning: true,\n    },\n    analytics: {\n      kpis: [\n        {\n          id: \"total-queries\",\n          name: \"Total Queries\",\n          value: 15847,\n          unit: \"\",\n          change: 12.5,\n          trend: \"up\" as const,\n          target: 20000\n        },\n        {\n          id: \"active-users\",\n          name: \"Active Users\",\n          value: 2341,\n          unit: \"\",\n          change: 8.3,\n          trend: \"up\" as const,\n          target: 3000\n        },\n        {\n          id: \"avg-response-time\",\n          name: \"Avg Response Time\",\n          value: 245,\n          unit: \"ms\",\n          change: -5.2,\n          trend: \"up\" as const,\n          target: 200\n        },\n        {\n          id: \"satisfaction-score\",\n          name: \"Satisfaction Score\",\n          value: 0.92,\n          unit: \"\",\n          change: 2.1,\n          trend: \"up\" as const,\n          target: 0.95\n        }\n      ],\n      chartData: {\n        queries: [],\n        users: [],\n        satisfaction: [],\n        responseTime: []\n      },\n      topQueries: [\n        {\n          id: \"query-1\",\n          query: \"How do I implement RAG with OpenAI?\",\n          count: 1247,\n          averageResponseTime: 234,\n          satisfactionScore: 4.8,\n          lastAsked: new Date(Date.now() - 1000 * 60 * 30) // 30 minutes ago\n        },\n        {\n          id: \"query-2\",\n          query: \"What are the best practices for vector databases?\",\n          count: 892,\n          averageResponseTime: 189,\n          satisfactionScore: 4.6,\n          lastAsked: new Date(Date.now() - 1000 * 60 * 60) // 1 hour ago\n        },\n        {\n          id: \"query-3\",\n          query: \"How to optimize search relevance?\",\n          count: 756,\n          averageResponseTime: 267,\n          satisfactionScore: 4.4,\n          lastAsked: new Date(Date.now() - 1000 * 60 * 15) // 15 minutes ago\n        },\n        {\n          id: \"query-4\",\n          query: \"Integration with existing documentation?\",\n          count: 634,\n          averageResponseTime: 198,\n          satisfactionScore: 4.7,\n          lastAsked: new Date(Date.now() - 1000 * 60 * 45) // 45 minutes ago\n        },\n        {\n          id: \"query-5\",\n          query: \"API rate limits and usage quotas\",\n          count: 523,\n          averageResponseTime: 156,\n          satisfactionScore: 4.5,\n          lastAsked: new Date(Date.now() - 1000 * 60 * 20) // 20 minutes ago\n        }\n      ],\n      topSources: [\n        {\n          id: \"source-1\",\n          domain: \"docs.company.com\",\n          url: \"https://docs.company.com/ai-search\",\n          visits: 8934,\n          conversions: 456,\n          conversionRate: 0.051,\n          averageSessionTime: 245\n        },\n        {\n          id: \"source-2\", \n          domain: \"blog.example.com\",\n          url: \"https://blog.example.com/ai-integration\",\n          visits: 5621,\n          conversions: 234,\n          conversionRate: 0.042,\n          averageSessionTime: 189\n        },\n        {\n          id: \"source-3\",\n          domain: \"stackoverflow.com\",\n          url: \"https://stackoverflow.com/questions/tagged/rag\",\n          visits: 3487,\n          conversions: 145,\n          conversionRate: 0.042,\n          averageSessionTime: 123\n        },\n        {\n          id: \"source-4\",\n          domain: \"github.com\",\n          url: \"https://github.com/company/ai-search-examples\",\n          visits: 2156,\n          conversions: 167,\n          conversionRate: 0.077,\n          averageSessionTime: 298\n        }\n      ],\n      performance: [\n        {\n          id: \"response-time\",\n          name: \"Average Response Time\",\n          value: 245,\n          unit: \"ms\",\n          status: \"good\" as const,\n          threshold: 500\n        },\n        {\n          id: \"error-rate\",\n          name: \"Error Rate\",\n          value: 0.8,\n          unit: \"%\",\n          status: \"good\" as const,\n          threshold: 5\n        },\n        {\n          id: \"uptime\",\n          name: \"System Uptime\",\n          value: 99.9,\n          unit: \"%\",\n          status: \"good\" as const,\n          threshold: 99\n        },\n        {\n          id: \"memory-usage\",\n          name: \"Memory Usage\",\n          value: 78,\n          unit: \"%\",\n          status: \"warning\" as const,\n          threshold: 80\n        },\n        {\n          id: \"cpu-usage\",\n          name: \"CPU Usage\",\n          value: 45,\n          unit: \"%\",\n          status: \"good\" as const,\n          threshold: 70\n        }\n      ],\n      dataRetentionDays: 90,\n      realTimeUpdates: true,\n      anonymizeData: true,\n      trackingEnabled: true\n    },\n    abTesting: {\n      experiments: [\n        {\n          id: \"exp-1\",\n          name: \"Search Result Layout Optimization\",\n          description: \"Testing different layout styles for search results to improve user engagement\",\n          status: \"running\" as const,\n          hypothesis: \"A card-based layout will increase click-through rates by 15% compared to the current list layout\",\n          successMetric: \"Click-through Rate\",\n          targetAudience: \"All users\",\n          sampleSize: 10000,\n          confidenceLevel: 95,\n          startDate: \"2024-09-15\",\n          duration: 14,\n          variants: [\n            {\n              id: \"var-control\",\n              name: \"Control (Current List)\",\n              description: \"Current list-based search results layout\",\n              trafficWeight: 50,\n              isControl: true,\n              isActive: true,\n              metrics: {\n                visitors: 4247,\n                conversions: 892,\n                conversionRate: 21.0,\n                confidenceInterval: [19.8, 22.2] as [number, number],\n                significance: 95.2,\n                isWinner: false,\n                liftOverControl: 0\n              }\n            },\n            {\n              id: \"var-cards\",\n              name: \"Card Layout\",\n              description: \"New card-based search results with enhanced visuals\",\n              trafficWeight: 50,\n              isControl: false,\n              isActive: true,\n              metrics: {\n                visitors: 4183,\n                conversions: 1046,\n                conversionRate: 25.0,\n                confidenceInterval: [23.7, 26.3] as [number, number],\n                significance: 97.8,\n                isWinner: true,\n                liftOverControl: 19.0\n              }\n            }\n          ],\n          results: {\n            totalVisitors: 8430,\n            totalConversions: 1938,\n            overallConversionRate: 23.0,\n            statisticalPower: 97.8,\n            pValue: 0.022,\n            winner: \"var-cards\",\n            liftAmount: 154,\n            liftPercentage: 19.0\n          }\n        }\n      ],\n      settings: {\n        enableTestingFramework: true,\n        defaultConfidenceLevel: 95,\n        defaultTestDuration: 14,\n        autoPromoteWinners: false,\n        minSampleSize: 1000,\n        maxConcurrentTests: 5,\n        trackingEvents: [\"search_query\", \"result_click\", \"session_end\", \"conversion\"],\n        advancedSegmentation: true,\n        multiVariateEnabled: true\n      },\n      templates: [\n        {\n          id: \"template-layout\",\n          name: \"UI Layout Test\",\n          description: \"Test different user interface layouts and designs\",\n          defaultHypothesis: \"The new layout will improve user engagement metrics\",\n          suggestedMetrics: [\"Click-through Rate\", \"Time on Page\", \"Bounce Rate\"]\n        },\n        {\n          id: \"template-performance\",\n          name: \"Performance Optimization\",\n          description: \"Test different performance optimizations and their impact\",\n          defaultHypothesis: \"Faster response times will improve user satisfaction\",\n          suggestedMetrics: [\"User Satisfaction\", \"Task Completion Rate\", \"Session Duration\"]\n        }\n      ]\n    },\n    permissions: {\n      users: [\n        {\n          id: \"user-001\",\n          name: \"John Doe\",\n          email: \"john@company.com\",\n          role: \"owner\" as const,\n          status: \"active\" as const,\n          lastActive: new Date(Date.now() - 1000 * 60 * 30), // 30 minutes ago\n          permissions: [\"*\"], // All permissions\n        },\n        {\n          id: \"user-002\", \n          name: \"Jane Smith\",\n          email: \"jane@company.com\",\n          role: \"admin\" as const,\n          status: \"active\" as const,\n          lastActive: new Date(Date.now() - 1000 * 60 * 60 * 2), // 2 hours ago\n          permissions: [\"integration:read\", \"integration:write\", \"integration:admin\", \"users:read\", \"users:write\"],\n        },\n      ],\n      roles: [\n        {\n          id: \"role-owner\",\n          name: \"Owner\",\n          description: \"Full access to all features and settings\",\n          permissions: [\"*\"],\n          isSystem: true,\n          userCount: 1,\n          color: \"#DC2626\",\n        },\n        {\n          id: \"role-admin\",\n          name: \"Administrator\", \n          description: \"Manage integrations, users, and most settings\",\n          permissions: [\"integration:*\", \"users:*\", \"analytics:*\", \"settings:read\"],\n          isSystem: true,\n          userCount: 1,\n          color: \"#EA580C\",\n        },\n      ],\n      permissionGroups: [\n        {\n          id: \"group-integration\",\n          name: \"Integration Management\",\n          description: \"Permissions for managing integrations\",\n          permissions: [\n            {\n              id: \"integration:read\",\n              name: \"View Integrations\",\n              description: \"View integration configurations and settings\",\n              category: \"integration\",\n              isSystem: true,\n            },\n            {\n              id: \"integration:write\",\n              name: \"Edit Integrations\", \n              description: \"Create, update, and configure integrations\",\n              category: \"integration\",\n              isSystem: true,\n            },\n          ],\n        },\n      ],\n      accessRules: [\n        {\n          id: \"rule-001\",\n          name: \"Office IP Whitelist\",\n          description: \"Restrict access to office IP addresses\",\n          type: \"ip_whitelist\" as const,\n          enabled: true,\n          configuration: {\n            allowedIPs: [\"192.168.1.0/24\", \"10.0.0.0/8\"],\n            blockByDefault: true,\n          },\n          appliesTo: [\"role-admin\", \"role-owner\"],\n        },\n      ],\n      settings: {\n        requireTwoFactor: true,\n        sessionTimeout: 480, // 8 hours in minutes\n        maxFailedLogins: 5,\n        passwordPolicy: {\n          minLength: 12,\n          requireUppercase: true,\n          requireLowercase: true,\n          requireNumbers: true,\n          requireSpecialChars: true,\n          expirationDays: 90,\n        },\n        auditRetentionDays: 365,\n        autoSuspendInactiveUsers: true,\n        inactiveUserDays: 90,\n      },\n    },\n    auditLogs: {\n      logs: [\n        {\n          id: \"log-001\",\n          timestamp: new Date(Date.now() - 1000 * 60 * 30),\n          userId: \"user-001\",\n          userName: \"John Doe\",\n          userEmail: \"john@company.com\",\n          action: \"integration.update\",\n          category: \"integration\" as const,\n          severity: \"medium\" as const,\n          resource: \"Integration Settings\",\n          resourceId: \"int-001\",\n          description: \"Updated integration configuration for search widget\",\n          details: {\n            configChanges: [\"searchPlaceholder\", \"primaryColor\", \"enableAnalytics\"],\n            previousValues: {\n              searchPlaceholder: \"Search...\",\n              primaryColor: \"#0066CC\",\n              enableAnalytics: false\n            },\n            newValues: {\n              searchPlaceholder: \"Ask me anything...\",\n              primaryColor: \"#1F6FEB\", \n              enableAnalytics: true\n            }\n          },\n          ipAddress: \"192.168.1.100\",\n          userAgent: \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)\",\n          location: \"San Francisco, CA\",\n          sessionId: \"sess-abc123\",\n          outcome: \"success\" as const,\n          changes: {\n            before: { enableAnalytics: false },\n            after: { enableAnalytics: true }\n          }\n        },\n      ],\n      securityAlerts: [\n        {\n          id: \"alert-001\",\n          timestamp: new Date(Date.now() - 1000 * 60 * 45),\n          type: \"failed_login\" as const,\n          severity: \"high\" as const,\n          title: \"Multiple Failed Login Attempts\",\n          description: \"User account bob@company.com has 5 failed login attempts in the last 10 minutes\",\n          affected: {\n            userId: \"user-003\",\n            ipAddress: \"203.0.113.45\",\n            count: 5\n          },\n          status: \"investigating\" as const,\n          assignee: \"security-team\",\n          relatedLogIds: [\"log-003\"]\n        },\n      ],\n      complianceReports: [\n        {\n          id: \"report-001\",\n          type: \"access_report\" as const,\n          title: \"Monthly User Access Report\",\n          description: \"Comprehensive report of all user access activities for August 2024\",\n          generatedAt: new Date(Date.now() - 1000 * 60 * 60 * 24),\n          generatedBy: \"system-automated\",\n          period: {\n            start: new Date(\"2024-08-01\"),\n            end: new Date(\"2024-08-31\")\n          },\n          status: \"ready\" as const,\n          downloadUrl: \"/downloads/access-report-aug-2024.pdf\",\n          fileSize: \"4.2 MB\",\n          recordCount: 1542,\n          filters: {\n            includeSystemUsers: false,\n            minimumSeverity: \"low\"\n          }\n        },\n      ],\n      settings: {\n        retentionPeriod: 365,\n        enableRealTimeAlerts: true,\n        logLevels: [\"low\", \"medium\", \"high\", \"critical\"],\n        categories: [\"user\", \"integration\", \"security\", \"data\", \"system\", \"api\"],\n        automaticReports: {\n          enabled: true,\n          frequency: \"monthly\" as const,\n          recipients: [\"admin@company.com\", \"security@company.com\"],\n          includeCompliance: true\n        },\n        alertThresholds: {\n          failedLogins: 5,\n          suspiciousActivity: 3,\n          dataAccess: 10\n        },\n        export: {\n          formats: [\"CSV\", \"JSON\", \"PDF\"],\n          encryption: true,\n          maxRecords: 50000\n        }\n      },\n      stats: {\n        totalLogs: 15420,\n        logsToday: 124,\n        activeAlerts: 3,\n        criticalAlerts: 0,\n        userActivity: {\n          totalUsers: 45,\n          activeToday: 12,\n          newThisWeek: 2\n        },\n        systemHealth: {\n          uptime: \"99.9%\",\n          errorRate: 0.02,\n          responseTime: 245\n        }\n      }\n    },\n    securityCompliance: {\n      policies: [\n        {\n          id: \"policy-001\",\n          name: \"Data Encryption Policy\",\n          type: \"data_encryption\" as const,\n          status: \"active\" as const,\n          severity: \"critical\" as const,\n          description: \"All sensitive data must be encrypted at rest and in transit using AES-256 encryption\",\n          requirements: [\n            \"Use AES-256 encryption for data at rest\",\n            \"Implement TLS 1.3 for data in transit\",\n            \"Regular key rotation every 90 days\",\n            \"Secure key management practices\"\n          ],\n          lastUpdated: new Date(Date.now() - 1000 * 60 * 60 * 24 * 30),\n          nextReview: new Date(Date.now() + 1000 * 60 * 60 * 24 * 60),\n          owner: \"Security Team\",\n          tags: [\"encryption\", \"data-protection\", \"critical\"],\n          compliance: {\n            gdpr: true,\n            hipaa: true,\n            sox: true,\n            iso27001: true,\n            pci: true,\n          },\n        },\n      ],\n      scans: [\n        {\n          id: \"scan-001\",\n          type: \"vulnerability\" as const,\n          status: \"completed\" as const,\n          severity: \"medium\" as const,\n          startTime: new Date(Date.now() - 1000 * 60 * 60 * 3),\n          endTime: new Date(Date.now() - 1000 * 60 * 60 * 2),\n          duration: 60,\n          findings: {\n            critical: 0,\n            high: 2,\n            medium: 5,\n            low: 12,\n            info: 8,\n          },\n          summary: \"Vulnerability scan completed with 2 high-severity findings that require immediate attention\",\n          recommendations: [\n            \"Update outdated SSL certificates\",\n            \"Patch identified security vulnerabilities\",\n            \"Review and strengthen API rate limiting\",\n            \"Implement additional input validation\"\n          ],\n          reportUrl: \"/reports/vulnerability-scan-001.pdf\",\n        },\n      ],\n      frameworks: [\n        {\n          id: \"framework-001\",\n          name: \"ISO 27001\",\n          version: \"2013\",\n          status: \"compliant\" as const,\n          score: 92,\n          requirements: {\n            total: 114,\n            met: 105,\n            pending: 6,\n            failed: 3,\n          },\n          lastAssessment: new Date(Date.now() - 1000 * 60 * 60 * 24 * 45),\n          nextAssessment: new Date(Date.now() + 1000 * 60 * 60 * 24 * 320),\n          certificationExpiry: new Date(Date.now() + 1000 * 60 * 60 * 24 * 365),\n          assessor: \"External Security Auditor\",\n          findings: [\n            \"Strong access control implementation\",\n            \"Comprehensive incident response procedures\",\n            \"Minor gaps in documentation review processes\"\n          ],\n        },\n      ],\n      encryption: [\n        {\n          id: \"encryption-001\",\n          type: \"data_at_rest\" as const,\n          algorithm: \"AES-256-GCM\",\n          keySize: 256,\n          status: \"active\" as const,\n          lastRotation: new Date(Date.now() - 1000 * 60 * 60 * 24 * 45),\n          nextRotation: new Date(Date.now() + 1000 * 60 * 60 * 24 * 45),\n          rotationInterval: 90,\n          description: \"Database encryption for all user data and sensitive information\",\n          scope: [\"user_data\", \"financial_records\", \"personal_information\"],\n        },\n      ],\n      alerts: [\n        {\n          id: \"alert-001\",\n          type: \"vulnerability\" as const,\n          severity: \"high\" as const,\n          title: \"Critical Security Vulnerability Detected\",\n          description: \"High-severity vulnerability found in third-party dependency\",\n          timestamp: new Date(Date.now() - 1000 * 60 * 60 * 2),\n          source: \"Dependency Scanner\",\n          status: \"investigating\" as const,\n          assignee: \"Security Team\",\n          affectedSystems: [\"API Gateway\", \"User Authentication\"],\n          impact: \"high\" as const,\n          estimatedResolutionTime: 24,\n        },\n      ],\n      metrics: {\n        overallSecurityScore: 87,\n        complianceScore: 78,\n        vulnerabilities: {\n          critical: 0,\n          high: 3,\n          medium: 8,\n          low: 15,\n          total: 26,\n        },\n        incidentResponseTime: 2.4,\n        patchingCompliance: 94,\n        encryptionCoverage: 98,\n        securityTrainingCompletion: 89,\n        lastSecurityAudit: new Date(Date.now() - 1000 * 60 * 60 * 24 * 45),\n        nextScheduledScan: new Date(Date.now() + 1000 * 60 * 60 * 24 * 7),\n      },\n      settings: {\n        automaticScanning: true,\n        scanFrequency: \"weekly\" as const,\n        alertNotifications: true,\n        complianceReporting: true,\n        encryptionRequired: true,\n        mfaRequired: true,\n        passwordPolicy: {\n          minLength: 12,\n          requireSpecialChars: true,\n          requireNumbers: true,\n          expirationDays: 90,\n        },\n        sessionTimeout: 480, // 8 hours\n        failedLoginLockout: 5,\n        ipWhitelisting: false,\n        dataRetentionPeriod: 2555, // 7 years\n      },\n    },\n    // Add other tab data here as we build them\n  });\n\n  const handleOverviewChange = useCallback((data: any) => {\n    setFormData(prev => ({\n      ...prev,\n      overview: data\n    }));\n  }, []);\n\n  const handleEmbedKeysChange = useCallback((data: any) => {\n    setFormData(prev => ({\n      ...prev,\n      embedKeys: data\n    }));\n  }, []);\n\n  const handleDomainsChange = useCallback((data: any) => {\n    setFormData(prev => ({\n      ...prev,\n      domains: data\n    }));\n  }, []);\n\n  const handleConfigChange = useCallback((data: any) => {\n    setFormData(prev => ({\n      ...prev,\n      config: data\n    }));\n  }, []);\n\n  const handleThemeChange = useCallback((data: any) => {\n    setFormData(prev => ({\n      ...prev,\n      theme: data\n    }));\n  }, []);\n\n  const handleEnvironmentsChange = useCallback((data: any) => {\n    setFormData(prev => ({\n      ...prev,\n      environments: data\n    }));\n  }, []);\n\n  const handleWebhooksChange = useCallback((data: any) => {\n    setFormData(prev => ({\n      ...prev,\n      webhooks: data\n    }));\n  }, []);\n\n  const handleVersionsChange = useCallback((data: any) => {\n    setFormData(prev => ({\n      ...prev,\n      versions: data\n    }));\n  }, []);\n\n  const handleAnalyticsChange = useCallback((data: any) => {\n    setFormData(prev => ({\n      ...prev,\n      analytics: data\n    }));\n  }, []);\n\n  const handleABTestingChange = useCallback((data: any) => {\n    setFormData(prev => ({\n      ...prev,\n      abTesting: data\n    }));\n  }, []);\n\n  const handlePermissionsChange = useCallback((data: any) => {\n    setFormData(prev => ({\n      ...prev,\n      permissions: data\n    }));\n  }, []);\n\n  const handleAuditLogsChange = useCallback((data: any) => {\n    setFormData(prev => ({\n      ...prev,\n      auditLogs: data\n    }));\n  }, []);\n\n  const handleSecurityComplianceChange = useCallback((data: any) => {\n    setFormData(prev => ({\n      ...prev,\n      securityCompliance: data\n    }));\n  }, []);\n  \n  const handleSave = () => {\n    setIsDraftSaved(true);\n    console.log(\"Saving draft...\");\n    // TODO: Implement save logic\n  };\n\n  const handlePublish = () => {\n    console.log(\"Publishing integration...\");\n    // TODO: Implement publish logic\n  };\n\n  const tabs = [\n    { id: \"overview\", label: \"Overview\", icon: Settings },\n    { id: \"embed-keys\", label: \"Embed & Keys\", icon: Key },\n    { id: \"domains\", label: \"Domains\", icon: Globe },\n    { id: \"config\", label: \"Config\", icon: Sliders },\n    { id: \"theme\", label: \"Theme\", icon: Palette },\n    { id: \"environments\", label: \"Environments\", icon: Server },\n    { id: \"webhooks\", label: \"Webhooks & Events\", icon: Webhook },\n    { id: \"versions\", label: \"Versions\", icon: History },\n    { id: \"analytics\", label: \"Analytics\", icon: BarChart3 },\n    { id: \"ab-canary\", label: \"A/B & Canary\", icon: TestTube },\n    { id: \"permissions\", label: \"Permissions\", icon: Users },\n    { id: \"audit\", label: \"Audit\", icon: FileText },\n    { id: \"security\", label: \"Security & Compliance\", icon: Shield },\n  ];\n\n  return (\n    <div className=\"h-screen flex flex-col\">\n      {/* Header */}\n      <div className=\"border-b bg-background px-6 py-4\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-4\">\n            <Button variant=\"ghost\" size=\"icon\" onClick={onBack} data-testid=\"button-back\">\n              <ArrowLeft className=\"h-4 w-4\" />\n            </Button>\n            <div>\n              <h1 className=\"text-2xl font-bold\">\n                {mode === \"create\" ? \"Create Integration\" : \"Edit Integration\"}\n              </h1>\n              <p className=\"text-muted-foreground\">\n                Configure your AI chat and search integration\n              </p>\n            </div>\n          </div>\n          <div className=\"flex items-center gap-4\">\n            {isDraftSaved && (\n              <Badge variant=\"outline\" className=\"text-orange-600 border-orange-200\">\n                Draft Saved\n              </Badge>\n            )}\n            <Button variant=\"outline\" onClick={handleSave} data-testid=\"button-save-draft\">\n              <Save className=\"h-4 w-4 mr-2\" />\n              Save Draft\n            </Button>\n            <Button onClick={handlePublish} data-testid=\"button-publish\">\n              Publish\n            </Button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"flex-1 flex\">\n        <Tabs value={activeTab} onValueChange={setActiveTab} orientation=\"vertical\" className=\"w-full h-full flex\">\n          {/* Vertical Tab Sidebar */}\n          <div className=\"w-72 border-r bg-muted/30\">\n            <div className=\"p-4\">\n              <h3 className=\"text-sm font-medium text-muted-foreground mb-4\">Integration Settings</h3>\n              <TabsList className=\"flex flex-col h-auto w-full bg-transparent gap-1\">\n                {tabs.map((tab) => {\n                  const Icon = tab.icon;\n                  return (\n                    <TabsTrigger\n                      key={tab.id}\n                      value={tab.id}\n                      className=\"w-full justify-start gap-3 p-3 text-left data-[state=active]:bg-background data-[state=active]:shadow-sm hover-elevate\"\n                      data-testid={`tab-${tab.id}`}\n                    >\n                      <Icon className=\"h-4 w-4 shrink-0\" />\n                      <span className=\"truncate\">{tab.label}</span>\n                    </TabsTrigger>\n                  );\n                })}\n              </TabsList>\n            </div>\n          </div>\n\n          {/* Main Content Area */}\n          <div className=\"flex-1 overflow-auto p-6\">\n              <TabsContent value=\"overview\" className=\"mt-0\">\n                <OverviewTab \n                  data={formData.overview}\n                  users={mockUsers}\n                  onChange={handleOverviewChange}\n                />\n              </TabsContent>\n\n              <TabsContent value=\"embed-keys\" className=\"mt-0\">\n                <EmbedKeysTab \n                  data={formData.embedKeys}\n                  onChange={handleEmbedKeysChange}\n                />\n              </TabsContent>\n\n              <TabsContent value=\"domains\" className=\"mt-0\">\n                <DomainsTab \n                  data={formData.domains}\n                  onChange={handleDomainsChange}\n                />\n              </TabsContent>\n\n              <TabsContent value=\"config\" className=\"mt-0\">\n                <ConfigTab \n                  data={formData.config}\n                  onChange={handleConfigChange}\n                />\n              </TabsContent>\n\n              <TabsContent value=\"theme\" className=\"mt-0\">\n                <ThemeTab \n                  data={formData.theme}\n                  onChange={handleThemeChange}\n                />\n              </TabsContent>\n\n              <TabsContent value=\"environments\" className=\"mt-0\">\n                <EnvironmentsTab \n                  data={formData.environments}\n                  onChange={handleEnvironmentsChange}\n                />\n              </TabsContent>\n\n              <TabsContent value=\"webhooks\" className=\"mt-0\">\n                <WebhooksTab \n                  data={formData.webhooks}\n                  onChange={handleWebhooksChange}\n                />\n              </TabsContent>\n\n              <TabsContent value=\"versions\" className=\"mt-0\">\n                <VersionsTab \n                  data={formData.versions}\n                  onChange={handleVersionsChange}\n                />\n              </TabsContent>\n\n              <TabsContent value=\"analytics\" className=\"mt-0\">\n                <AnalyticsTab \n                  data={formData.analytics}\n                  onChange={handleAnalyticsChange}\n                />\n              </TabsContent>\n\n              <TabsContent value=\"ab-canary\" className=\"mt-0\">\n                <ABTestingTab \n                  data={formData.abTesting}\n                  onChange={handleABTestingChange}\n                />\n              </TabsContent>\n\n              <TabsContent value=\"permissions\" className=\"mt-0\">\n                <PermissionsTab \n                  data={formData.permissions}\n                  onChange={handlePermissionsChange}\n                />\n              </TabsContent>\n\n              <TabsContent value=\"audit\" className=\"mt-0\">\n                <AuditLogsTab \n                  data={formData.auditLogs}\n                  onChange={handleAuditLogsChange}\n                />\n              </TabsContent>\n\n              <TabsContent value=\"security\" className=\"mt-0\">\n                <SecurityComplianceTab \n                  data={formData.securityCompliance}\n                  onChange={handleSecurityComplianceChange}\n                />\n              </TabsContent>\n          </div>\n        </Tabs>\n      </div>\n    </div>\n  );\n}","size_bytes":41539},"client/src/components/tabs/ABTestingTab.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Slider } from \"@/components/ui/slider\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { \n  Play, \n  Pause, \n  BarChart3, \n  Target, \n  Users, \n  TrendingUp, \n  Trophy, \n  AlertTriangle,\n  Plus,\n  Trash2,\n  Settings,\n  Calendar,\n  Clock,\n  CheckCircle2,\n  XCircle,\n  Activity\n} from \"lucide-react\";\n\n// A/B Testing data interfaces\ninterface ABTestVariant {\n  id: string;\n  name: string;\n  description: string;\n  configVersionId?: string;\n  trafficWeight: number;\n  isControl: boolean;\n  isActive: boolean;\n  metrics: {\n    visitors: number;\n    conversions: number;\n    conversionRate: number;\n    confidenceInterval: [number, number];\n    significance: number;\n    isWinner: boolean;\n    liftOverControl: number;\n  };\n}\n\ninterface ABTestExperiment {\n  id: string;\n  name: string;\n  description: string;\n  status: \"draft\" | \"running\" | \"paused\" | \"completed\" | \"archived\";\n  hypothesis: string;\n  successMetric: string;\n  targetAudience: string;\n  sampleSize: number;\n  confidenceLevel: number;\n  startDate?: string;\n  endDate?: string;\n  duration: number; // days\n  variants: ABTestVariant[];\n  results: {\n    totalVisitors: number;\n    totalConversions: number;\n    overallConversionRate: number;\n    statisticalPower: number;\n    pValue: number;\n    winner?: string;\n    liftAmount: number;\n    liftPercentage: number;\n  };\n}\n\ninterface ABTestingSettings {\n  enableTestingFramework: boolean;\n  defaultConfidenceLevel: number;\n  defaultTestDuration: number;\n  autoPromoteWinners: boolean;\n  minSampleSize: number;\n  maxConcurrentTests: number;\n  trackingEvents: string[];\n  advancedSegmentation: boolean;\n  multiVariateEnabled: boolean;\n}\n\ninterface ABTestingData {\n  experiments: ABTestExperiment[];\n  settings: ABTestingSettings;\n  templates: {\n    id: string;\n    name: string;\n    description: string;\n    defaultHypothesis: string;\n    suggestedMetrics: string[];\n  }[];\n}\n\n// Default A/B testing data with enterprise-grade examples\nconst defaultABTestingData: ABTestingData = {\n  experiments: [\n    {\n      id: \"exp-1\",\n      name: \"Search Result Layout Optimization\",\n      description: \"Testing different layout styles for search results to improve user engagement\",\n      status: \"running\",\n      hypothesis: \"A card-based layout will increase click-through rates by 15% compared to the current list layout\",\n      successMetric: \"Click-through Rate\",\n      targetAudience: \"All users\",\n      sampleSize: 10000,\n      confidenceLevel: 95,\n      startDate: \"2024-09-15\",\n      duration: 14,\n      variants: [\n        {\n          id: \"var-control\",\n          name: \"Control (Current List)\",\n          description: \"Current list-based search results layout\",\n          trafficWeight: 50,\n          isControl: true,\n          isActive: true,\n          metrics: {\n            visitors: 4247,\n            conversions: 892,\n            conversionRate: 21.0,\n            confidenceInterval: [19.8, 22.2],\n            significance: 95.2,\n            isWinner: false,\n            liftOverControl: 0\n          }\n        },\n        {\n          id: \"var-cards\",\n          name: \"Card Layout\",\n          description: \"New card-based search results with enhanced visuals\",\n          trafficWeight: 50,\n          isControl: false,\n          isActive: true,\n          metrics: {\n            visitors: 4183,\n            conversions: 1046,\n            conversionRate: 25.0,\n            confidenceInterval: [23.7, 26.3],\n            significance: 97.8,\n            isWinner: true,\n            liftOverControl: 19.0\n          }\n        }\n      ],\n      results: {\n        totalVisitors: 8430,\n        totalConversions: 1938,\n        overallConversionRate: 23.0,\n        statisticalPower: 97.8,\n        pValue: 0.022,\n        winner: \"var-cards\",\n        liftAmount: 154,\n        liftPercentage: 19.0\n      }\n    },\n    {\n      id: \"exp-2\",\n      name: \"Response Generation Speed Test\",\n      description: \"Testing different AI model configurations for response generation speed vs quality\",\n      status: \"completed\",\n      hypothesis: \"Faster response times will improve user satisfaction even with slight quality reduction\",\n      successMetric: \"User Satisfaction Score\",\n      targetAudience: \"Enterprise users\",\n      sampleSize: 5000,\n      confidenceLevel: 95,\n      startDate: \"2024-09-01\",\n      endDate: \"2024-09-14\",\n      duration: 14,\n      variants: [\n        {\n          id: \"var-quality\",\n          name: \"High Quality (Control)\",\n          description: \"Current high-quality model with 3s avg response time\",\n          trafficWeight: 33,\n          isControl: true,\n          isActive: false,\n          metrics: {\n            visitors: 1647,\n            conversions: 1394,\n            conversionRate: 84.6,\n            confidenceInterval: [82.8, 86.4],\n            significance: 95.0,\n            isWinner: false,\n            liftOverControl: 0\n          }\n        },\n        {\n          id: \"var-balanced\",\n          name: \"Balanced\",\n          description: \"Balanced model with 1.5s avg response time\",\n          trafficWeight: 33,\n          isControl: false,\n          isActive: false,\n          metrics: {\n            visitors: 1663,\n            conversions: 1429,\n            conversionRate: 85.9,\n            confidenceInterval: [84.2, 87.6],\n            significance: 92.1,\n            isWinner: true,\n            liftOverControl: 1.5\n          }\n        },\n        {\n          id: \"var-fast\",\n          name: \"Fast Response\",\n          description: \"Optimized for speed with 0.8s avg response time\",\n          trafficWeight: 34,\n          isControl: false,\n          isActive: false,\n          metrics: {\n            visitors: 1690,\n            conversions: 1370,\n            conversionRate: 81.1,\n            confidenceInterval: [79.2, 83.0],\n            significance: 78.4,\n            isWinner: false,\n            liftOverControl: -4.1\n          }\n        }\n      ],\n      results: {\n        totalVisitors: 5000,\n        totalConversions: 4193,\n        overallConversionRate: 83.9,\n        statisticalPower: 92.1,\n        pValue: 0.041,\n        winner: \"var-balanced\",\n        liftAmount: 35,\n        liftPercentage: 1.5\n      }\n    }\n  ],\n  settings: {\n    enableTestingFramework: true,\n    defaultConfidenceLevel: 95,\n    defaultTestDuration: 14,\n    autoPromoteWinners: false,\n    minSampleSize: 1000,\n    maxConcurrentTests: 5,\n    trackingEvents: [\"search_query\", \"result_click\", \"session_end\", \"conversion\"],\n    advancedSegmentation: true,\n    multiVariateEnabled: true\n  },\n  templates: [\n    {\n      id: \"template-layout\",\n      name: \"UI Layout Test\",\n      description: \"Test different user interface layouts and designs\",\n      defaultHypothesis: \"The new layout will improve user engagement metrics\",\n      suggestedMetrics: [\"Click-through Rate\", \"Time on Page\", \"Bounce Rate\"]\n    },\n    {\n      id: \"template-performance\",\n      name: \"Performance Optimization\",\n      description: \"Test different performance optimizations and their impact\",\n      defaultHypothesis: \"Faster response times will improve user satisfaction\",\n      suggestedMetrics: [\"User Satisfaction\", \"Task Completion Rate\", \"Session Duration\"]\n    },\n    {\n      id: \"template-content\",\n      name: \"Content Strategy Test\",\n      description: \"Test different content presentation strategies\",\n      defaultHypothesis: \"Enhanced content presentation will increase engagement\",\n      suggestedMetrics: [\"Engagement Rate\", \"Content Interaction\", \"Conversion Rate\"]\n    }\n  ]\n};\n\ninterface ABTestingTabProps {\n  data: ABTestingData;\n  onChange: (data: ABTestingData) => void;\n}\n\nexport default function ABTestingTab({ data, onChange }: ABTestingTabProps) {\n  const [activeTab, setActiveTab] = useState(\"experiments\");\n  const [selectedExperiment, setSelectedExperiment] = useState<string | null>(null);\n  const [showCreateForm, setShowCreateForm] = useState(false);\n\n  // Use data directly from props (controlled component pattern)\n  \n  const updateABTesting = (updates: Partial<ABTestingData>) => {\n    onChange({ ...data, ...updates });\n  };\n\n  const createExperiment = () => {\n    const newExperiment: ABTestExperiment = {\n      id: `exp-${Date.now()}`,\n      name: \"New Experiment\",\n      description: \"\",\n      status: \"draft\",\n      hypothesis: \"\",\n      successMetric: \"Conversion Rate\",\n      targetAudience: \"All users\",\n      sampleSize: 1000,\n      confidenceLevel: 95,\n      duration: 14,\n      variants: [\n        {\n          id: \"control\",\n          name: \"Control\",\n          description: \"Current version\",\n          trafficWeight: 50,\n          isControl: true,\n          isActive: true,\n          metrics: {\n            visitors: 0,\n            conversions: 0,\n            conversionRate: 0,\n            confidenceInterval: [0, 0],\n            significance: 0,\n            isWinner: false,\n            liftOverControl: 0\n          }\n        },\n        {\n          id: \"variant-a\",\n          name: \"Variant A\",\n          description: \"Test version\",\n          trafficWeight: 50,\n          isControl: false,\n          isActive: true,\n          metrics: {\n            visitors: 0,\n            conversions: 0,\n            conversionRate: 0,\n            confidenceInterval: [0, 0],\n            significance: 0,\n            isWinner: false,\n            liftOverControl: 0\n          }\n        }\n      ],\n      results: {\n        totalVisitors: 0,\n        totalConversions: 0,\n        overallConversionRate: 0,\n        statisticalPower: 0,\n        pValue: 1.0,\n        liftAmount: 0,\n        liftPercentage: 0\n      }\n    };\n    \n    updateABTesting({\n      experiments: [...data.experiments, newExperiment]\n    });\n    setSelectedExperiment(newExperiment.id);\n    setShowCreateForm(true);\n  };\n\n  const updateExperiment = (experimentId: string, updates: Partial<ABTestExperiment>) => {\n    const experiments = data.experiments.map(exp => \n      exp.id === experimentId ? { ...exp, ...updates } : exp\n    );\n    updateABTesting({ experiments });\n  };\n\n  const deleteExperiment = (experimentId: string) => {\n    const experiments = data.experiments.filter(exp => exp.id !== experimentId);\n    updateABTesting({ experiments });\n    if (selectedExperiment === experimentId) {\n      setSelectedExperiment(null);\n    }\n  };\n\n  const updateSettings = (updates: Partial<ABTestingSettings>) => {\n    updateABTesting({\n      settings: { ...data.settings, ...updates }\n    });\n  };\n\n  const getStatusBadgeVariant = (status: string) => {\n    switch (status) {\n      case \"running\": return \"default\";\n      case \"completed\": return \"secondary\";\n      case \"paused\": return \"outline\";\n      case \"draft\": return \"secondary\";\n      case \"archived\": return \"secondary\";\n      default: return \"secondary\";\n    }\n  };\n\n  const getStatusIcon = (status: string) => {\n    switch (status) {\n      case \"running\": return <Play className=\"w-3 h-3\" />;\n      case \"completed\": return <CheckCircle2 className=\"w-3 h-3\" />;\n      case \"paused\": return <Pause className=\"w-3 h-3\" />;\n      case \"draft\": return <Clock className=\"w-3 h-3\" />;\n      case \"archived\": return <XCircle className=\"w-3 h-3\" />;\n      default: return <Clock className=\"w-3 h-3\" />;\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h3 className=\"text-lg font-semibold\">A/B Testing & Experiments</h3>\n          <p className=\"text-sm text-muted-foreground\">\n            Create and manage experiments to optimize user experience and performance\n          </p>\n        </div>\n        <Button onClick={createExperiment} data-testid=\"button-create-experiment\">\n          <Plus className=\"w-4 h-4 mr-2\" />\n          New Experiment\n        </Button>\n      </div>\n\n      <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\n        <TabsList className=\"grid w-full grid-cols-4\">\n          <TabsTrigger value=\"experiments\" data-testid=\"tab-experiments\">Experiments</TabsTrigger>\n          <TabsTrigger value=\"results\" data-testid=\"tab-results\">Results</TabsTrigger>\n          <TabsTrigger value=\"templates\" data-testid=\"tab-templates\">Templates</TabsTrigger>\n          <TabsTrigger value=\"settings\" data-testid=\"tab-settings\">Settings</TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"experiments\" className=\"space-y-4\">\n          <div className=\"grid gap-4\">\n            {data.experiments.length === 0 ? (\n              <Card>\n                <CardContent className=\"p-8 text-center\">\n                  <BarChart3 className=\"w-12 h-12 mx-auto mb-4 text-muted-foreground\" />\n                  <h3 className=\"text-lg font-semibold mb-2\">No experiments created yet</h3>\n                  <p className=\"text-muted-foreground mb-4\">\n                    Create your first A/B test to start optimizing your integration\n                  </p>\n                  <Button onClick={createExperiment} data-testid=\"button-create-first-experiment\">\n                    <Plus className=\"w-4 h-4 mr-2\" />\n                    Create Your First Experiment\n                  </Button>\n                </CardContent>\n              </Card>\n            ) : (\n              data.experiments.map((experiment) => (\n                <Card key={experiment.id} className=\"hover-elevate\">\n                  <CardHeader className=\"pb-3\">\n                    <div className=\"flex items-start justify-between\">\n                      <div className=\"space-y-1\">\n                        <div className=\"flex items-center gap-2\">\n                          <CardTitle className=\"text-base\">{experiment.name}</CardTitle>\n                          <Badge variant={getStatusBadgeVariant(experiment.status)}>\n                            {getStatusIcon(experiment.status)}\n                            <span className=\"ml-1 capitalize\">{experiment.status}</span>\n                          </Badge>\n                        </div>\n                        <CardDescription>{experiment.description}</CardDescription>\n                      </div>\n                      <div className=\"flex items-center gap-1\">\n                        <Button \n                          variant=\"ghost\" \n                          size=\"icon\"\n                          onClick={() => setSelectedExperiment(experiment.id)}\n                          data-testid={`button-edit-experiment-${experiment.id}`}\n                        >\n                          <Settings className=\"w-4 h-4\" />\n                        </Button>\n                        <Button \n                          variant=\"ghost\" \n                          size=\"icon\"\n                          onClick={() => deleteExperiment(experiment.id)}\n                          data-testid={`button-delete-experiment-${experiment.id}`}\n                        >\n                          <Trash2 className=\"w-4 h-4\" />\n                        </Button>\n                      </div>\n                    </div>\n                  </CardHeader>\n                  <CardContent className=\"space-y-4\">\n                    <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                      <div>\n                        <p className=\"text-muted-foreground\">Success Metric</p>\n                        <p className=\"font-medium\">{experiment.successMetric}</p>\n                      </div>\n                      <div>\n                        <p className=\"text-muted-foreground\">Target Audience</p>\n                        <p className=\"font-medium\">{experiment.targetAudience}</p>\n                      </div>\n                      <div>\n                        <p className=\"text-muted-foreground\">Sample Size</p>\n                        <p className=\"font-medium\">{experiment.sampleSize.toLocaleString()}</p>\n                      </div>\n                      <div>\n                        <p className=\"text-muted-foreground\">Duration</p>\n                        <p className=\"font-medium\">{experiment.duration} days</p>\n                      </div>\n                    </div>\n                    \n                    {experiment.status === \"running\" && (\n                      <div className=\"space-y-2\">\n                        <div className=\"flex items-center justify-between text-sm\">\n                          <span className=\"text-muted-foreground\">Progress</span>\n                          <span>{Math.round((experiment.results.totalVisitors / experiment.sampleSize) * 100)}%</span>\n                        </div>\n                        <Progress value={(experiment.results.totalVisitors / experiment.sampleSize) * 100} className=\"h-2\" />\n                      </div>\n                    )}\n\n                    {experiment.results.winner && (\n                      <div className=\"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3\">\n                        <div className=\"flex items-center gap-2 text-green-700 dark:text-green-300\">\n                          <Trophy className=\"w-4 h-4\" />\n                          <span className=\"font-medium\">Winner Determined</span>\n                        </div>\n                        <p className=\"text-sm text-green-600 dark:text-green-400 mt-1\">\n                          {experiment.variants.find(v => v.id === experiment.results.winner)?.name} shows {experiment.results.liftPercentage}% improvement\n                        </p>\n                      </div>\n                    )}\n\n                    <div className=\"grid grid-cols-2 gap-2\">\n                      {experiment.variants.map((variant) => (\n                        <div key={variant.id} className=\"border rounded-lg p-3 space-y-2\">\n                          <div className=\"flex items-center justify-between\">\n                            <h4 className=\"font-medium text-sm\">{variant.name}</h4>\n                            {variant.metrics.isWinner && <Trophy className=\"w-3 h-3 text-yellow-500\" />}\n                          </div>\n                          <div className=\"text-xs space-y-1\">\n                            <div className=\"flex justify-between\">\n                              <span className=\"text-muted-foreground\">Traffic</span>\n                              <span>{variant.trafficWeight}%</span>\n                            </div>\n                            <div className=\"flex justify-between\">\n                              <span className=\"text-muted-foreground\">Visitors</span>\n                              <span>{variant.metrics.visitors.toLocaleString()}</span>\n                            </div>\n                            <div className=\"flex justify-between\">\n                              <span className=\"text-muted-foreground\">Conv. Rate</span>\n                              <span>{variant.metrics.conversionRate}%</span>\n                            </div>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </CardContent>\n                </Card>\n              ))\n            )}\n          </div>\n        </TabsContent>\n\n        <TabsContent value=\"results\" className=\"space-y-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <Card>\n              <CardHeader className=\"pb-2\">\n                <CardTitle className=\"text-sm font-medium\">Active Experiments</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"text-2xl font-bold\" data-testid=\"metric-active-experiments\">\n                  {data.experiments.filter(e => e.status === \"running\").length}\n                </div>\n                <p className=\"text-xs text-muted-foreground\">Currently running</p>\n              </CardContent>\n            </Card>\n            \n            <Card>\n              <CardHeader className=\"pb-2\">\n                <CardTitle className=\"text-sm font-medium\">Total Visitors</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"text-2xl font-bold\" data-testid=\"metric-total-visitors\">\n                  {data.experiments.reduce((sum, exp) => sum + exp.results.totalVisitors, 0).toLocaleString()}\n                </div>\n                <p className=\"text-xs text-muted-foreground\">Across all experiments</p>\n              </CardContent>\n            </Card>\n            \n            <Card>\n              <CardHeader className=\"pb-2\">\n                <CardTitle className=\"text-sm font-medium\">Avg. Conversion Rate</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"text-2xl font-bold\" data-testid=\"metric-avg-conversion\">\n                  {data.experiments.length > 0 \n                    ? (data.experiments.reduce((sum, exp) => sum + exp.results.overallConversionRate, 0) / data.experiments.length).toFixed(1)\n                    : \"0\"\n                  }%\n                </div>\n                <p className=\"text-xs text-muted-foreground\">Average across experiments</p>\n              </CardContent>\n            </Card>\n          </div>\n\n          <Card>\n            <CardHeader>\n              <CardTitle>Experiment Results Summary</CardTitle>\n              <CardDescription>Overview of all completed and running experiments</CardDescription>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-4\">\n                {data.experiments.length === 0 ? (\n                  <div className=\"text-center py-8\">\n                    <BarChart3 className=\"w-12 h-12 mx-auto mb-4 text-muted-foreground\" />\n                    <p className=\"text-muted-foreground\">No experiment results to display</p>\n                  </div>\n                ) : (\n                  data.experiments.map((experiment) => (\n                    <div key={experiment.id} className=\"border rounded-lg p-4 space-y-3\">\n                      <div className=\"flex items-center justify-between\">\n                        <h4 className=\"font-medium\">{experiment.name}</h4>\n                        <Badge variant={getStatusBadgeVariant(experiment.status)}>\n                          {experiment.status}\n                        </Badge>\n                      </div>\n                      \n                      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\n                        <div>\n                          <p className=\"text-muted-foreground\">Visitors</p>\n                          <p className=\"font-medium\">{experiment.results.totalVisitors.toLocaleString()}</p>\n                        </div>\n                        <div>\n                          <p className=\"text-muted-foreground\">Conversions</p>\n                          <p className=\"font-medium\">{experiment.results.totalConversions.toLocaleString()}</p>\n                        </div>\n                        <div>\n                          <p className=\"text-muted-foreground\">Conversion Rate</p>\n                          <p className=\"font-medium\">{experiment.results.overallConversionRate}%</p>\n                        </div>\n                        <div>\n                          <p className=\"text-muted-foreground\">Statistical Power</p>\n                          <p className=\"font-medium\">{experiment.results.statisticalPower}%</p>\n                        </div>\n                      </div>\n\n                      {experiment.results.winner && (\n                        <div className=\"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3\">\n                          <div className=\"flex items-center gap-2 text-green-700 dark:text-green-300\">\n                            <Trophy className=\"w-4 h-4\" />\n                            <span className=\"font-medium\">\n                              Winner: {experiment.variants.find(v => v.id === experiment.results.winner)?.name}\n                            </span>\n                          </div>\n                          <p className=\"text-sm text-green-600 dark:text-green-400 mt-1\">\n                            {experiment.results.liftPercentage > 0 ? '+' : ''}{experiment.results.liftPercentage}% lift over control\n                          </p>\n                        </div>\n                      )}\n                    </div>\n                  ))\n                )}\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"templates\" className=\"space-y-4\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Experiment Templates</CardTitle>\n              <CardDescription>\n                Pre-configured experiment templates to get started quickly\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <div className=\"grid gap-4\">\n                {data.templates.map((template) => (\n                  <div key={template.id} className=\"border rounded-lg p-4 space-y-3\">\n                    <div className=\"flex items-start justify-between\">\n                      <div>\n                        <h4 className=\"font-medium\">{template.name}</h4>\n                        <p className=\"text-sm text-muted-foreground\">{template.description}</p>\n                      </div>\n                      <Button \n                        variant=\"outline\" \n                        size=\"sm\"\n                        data-testid={`button-use-template-${template.id}`}\n                      >\n                        Use Template\n                      </Button>\n                    </div>\n                    \n                    <div className=\"space-y-2\">\n                      <div>\n                        <p className=\"text-xs font-medium text-muted-foreground\">Default Hypothesis</p>\n                        <p className=\"text-sm\">{template.defaultHypothesis}</p>\n                      </div>\n                      \n                      <div>\n                        <p className=\"text-xs font-medium text-muted-foreground\">Suggested Metrics</p>\n                        <div className=\"flex flex-wrap gap-1 mt-1\">\n                          {template.suggestedMetrics.map((metric) => (\n                            <Badge key={metric} variant=\"secondary\" className=\"text-xs\">\n                              {metric}\n                            </Badge>\n                          ))}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"settings\" className=\"space-y-4\">\n          <Card>\n            <CardHeader>\n              <CardTitle>A/B Testing Settings</CardTitle>\n              <CardDescription>\n                Configure global settings for your A/B testing framework\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"space-y-0.5\">\n                  <Label className=\"text-sm font-medium\">Enable A/B Testing Framework</Label>\n                  <p className=\"text-xs text-muted-foreground\">\n                    Enable or disable the entire A/B testing system\n                  </p>\n                </div>\n                <Switch\n                  checked={data.settings.enableTestingFramework}\n                  onCheckedChange={(checked) => updateSettings({ enableTestingFramework: checked })}\n                  data-testid=\"switch-enable-testing\"\n                />\n              </div>\n\n              <Separator />\n\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"confidence-level\">Default Confidence Level (%)</Label>\n                  <div className=\"space-y-2\">\n                    <Slider\n                      id=\"confidence-level\"\n                      min={80}\n                      max={99}\n                      step={1}\n                      value={[data.settings.defaultConfidenceLevel]}\n                      onValueChange={(value) => updateSettings({ defaultConfidenceLevel: value[0] })}\n                      data-testid=\"slider-confidence-level\"\n                    />\n                    <div className=\"flex justify-between text-xs text-muted-foreground\">\n                      <span>80%</span>\n                      <span>{data.settings.defaultConfidenceLevel}%</span>\n                      <span>99%</span>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"test-duration\">Default Test Duration (days)</Label>\n                  <Input\n                    id=\"test-duration\"\n                    type=\"number\"\n                    min=\"1\"\n                    max=\"90\"\n                    value={data.settings.defaultTestDuration}\n                    onChange={(e) => updateSettings({ defaultTestDuration: parseInt(e.target.value) || 14 })}\n                    data-testid=\"input-test-duration\"\n                  />\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"min-sample-size\">Minimum Sample Size</Label>\n                  <Input\n                    id=\"min-sample-size\"\n                    type=\"number\"\n                    min=\"100\"\n                    value={data.settings.minSampleSize}\n                    onChange={(e) => updateSettings({ minSampleSize: parseInt(e.target.value) || 1000 })}\n                    data-testid=\"input-min-sample-size\"\n                  />\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"max-tests\">Max Concurrent Tests</Label>\n                  <Input\n                    id=\"max-tests\"\n                    type=\"number\"\n                    min=\"1\"\n                    max=\"20\"\n                    value={data.settings.maxConcurrentTests}\n                    onChange={(e) => updateSettings({ maxConcurrentTests: parseInt(e.target.value) || 5 })}\n                    data-testid=\"input-max-tests\"\n                  />\n                </div>\n              </div>\n\n              <Separator />\n\n              <div className=\"space-y-4\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"space-y-0.5\">\n                    <Label className=\"text-sm font-medium\">Auto-promote Winners</Label>\n                    <p className=\"text-xs text-muted-foreground\">\n                      Automatically promote winning variants when statistical significance is reached\n                    </p>\n                  </div>\n                  <Switch\n                    checked={data.settings.autoPromoteWinners}\n                    onCheckedChange={(checked) => updateSettings({ autoPromoteWinners: checked })}\n                    data-testid=\"switch-auto-promote\"\n                  />\n                </div>\n\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"space-y-0.5\">\n                    <Label className=\"text-sm font-medium\">Advanced Segmentation</Label>\n                    <p className=\"text-xs text-muted-foreground\">\n                      Enable advanced user segmentation and targeting options\n                    </p>\n                  </div>\n                  <Switch\n                    checked={data.settings.advancedSegmentation}\n                    onCheckedChange={(checked) => updateSettings({ advancedSegmentation: checked })}\n                    data-testid=\"switch-advanced-segmentation\"\n                  />\n                </div>\n\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"space-y-0.5\">\n                    <Label className=\"text-sm font-medium\">Multivariate Testing</Label>\n                    <p className=\"text-xs text-muted-foreground\">\n                      Enable testing multiple elements simultaneously (requires larger sample sizes)\n                    </p>\n                  </div>\n                  <Switch\n                    checked={data.settings.multiVariateEnabled}\n                    onCheckedChange={(checked) => updateSettings({ multiVariateEnabled: checked })}\n                    data-testid=\"switch-multivariate\"\n                  />\n                </div>\n              </div>\n\n              <Separator />\n\n              <div className=\"space-y-2\">\n                <Label>Tracking Events</Label>\n                <p className=\"text-xs text-muted-foreground\">\n                  Events that will be tracked for A/B testing analysis\n                </p>\n                <div className=\"flex flex-wrap gap-2 mt-2\">\n                  {data.settings.trackingEvents.map((event) => (\n                    <Badge key={event} variant=\"secondary\">\n                      {event}\n                    </Badge>\n                  ))}\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n}","size_bytes":33666},"client/src/components/tabs/AnalyticsTab.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Label } from \"@/components/ui/label\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { \n  BarChart3, \n  TrendingUp, \n  TrendingDown,\n  Users, \n  Search, \n  MessageSquare,\n  Clock, \n  Eye,\n  ThumbsUp,\n  ThumbsDown,\n  Star,\n  ArrowUpRight,\n  ArrowDownRight,\n  Activity,\n  Zap,\n  Globe,\n  FileText,\n  Calendar,\n  Filter,\n  Download,\n  RefreshCw,\n  AlertCircle,\n  CheckCircle\n} from \"lucide-react\";\n\ninterface KPIMetric {\n  id: string;\n  name: string;\n  value: number;\n  unit: string;\n  change: number; // percentage change\n  trend: \"up\" | \"down\" | \"neutral\";\n  target?: number;\n}\n\ninterface ChartDataPoint {\n  date: string;\n  value: number;\n  label?: string;\n}\n\ninterface TopQuery {\n  id: string;\n  query: string;\n  count: number;\n  averageResponseTime: number;\n  satisfactionScore: number;\n  lastAsked: Date;\n}\n\ninterface TopSource {\n  id: string;\n  domain: string;\n  url: string;\n  visits: number;\n  conversions: number;\n  conversionRate: number;\n  averageSessionTime: number;\n}\n\ninterface PerformanceMetric {\n  id: string;\n  name: string;\n  value: number;\n  unit: string;\n  status: \"good\" | \"warning\" | \"critical\";\n  threshold: number;\n}\n\ninterface AnalyticsData {\n  kpis: KPIMetric[];\n  chartData: {\n    queries: ChartDataPoint[];\n    users: ChartDataPoint[];\n    satisfaction: ChartDataPoint[];\n    responseTime: ChartDataPoint[];\n  };\n  topQueries: TopQuery[];\n  topSources: TopSource[];\n  performance: PerformanceMetric[];\n  \n  // Settings\n  dataRetentionDays: number;\n  realTimeUpdates: boolean;\n  anonymizeData: boolean;\n  trackingEnabled: boolean;\n}\n\ninterface AnalyticsTabProps {\n  data: AnalyticsData;\n  onChange: (data: AnalyticsData) => void;\n}\n\nexport default function AnalyticsTab({ data, onChange }: AnalyticsTabProps) {\n  const [activeTab, setActiveTab] = useState(\"overview\");\n  const [dateRange, setDateRange] = useState(\"7d\");\n  const [isRefreshing, setIsRefreshing] = useState(false);\n\n  // Use data directly from props (controlled component pattern)\n\n  const updateAnalytics = (updates: Partial<AnalyticsData>) => {\n    onChange({ ...data, ...updates });\n  };\n\n  const refreshData = () => {\n    setIsRefreshing(true);\n    // Simulate data refresh\n    setTimeout(() => {\n      setIsRefreshing(false);\n      // In real implementation, this would fetch fresh data\n    }, 2000);\n  };\n\n  const exportData = () => {\n    // Simulate data export\n    const exportData = {\n      kpis: data.kpis,\n      dateRange,\n      exportedAt: new Date().toISOString()\n    };\n    \n    const blob = new Blob([JSON.stringify(exportData, null, 2)], { type: 'application/json' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `analytics-${dateRange}-${Date.now()}.json`;\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  const getTrendIcon = (trend: string) => {\n    switch (trend) {\n      case \"up\":\n        return <TrendingUp className=\"h-4 w-4 text-green-500\" />;\n      case \"down\":\n        return <TrendingDown className=\"h-4 w-4 text-red-500\" />;\n      default:\n        return <Activity className=\"h-4 w-4 text-gray-500\" />;\n    }\n  };\n\n  const getTrendColor = (trend: string) => {\n    switch (trend) {\n      case \"up\":\n        return \"text-green-600\";\n      case \"down\":\n        return \"text-red-600\";\n      default:\n        return \"text-gray-600\";\n    }\n  };\n\n  const getPerformanceStatus = (status: string) => {\n    switch (status) {\n      case \"good\":\n        return { icon: <CheckCircle className=\"h-4 w-4 text-green-500\" />, color: \"text-green-500\" };\n      case \"warning\":\n        return { icon: <AlertCircle className=\"h-4 w-4 text-yellow-500\" />, color: \"text-yellow-500\" };\n      case \"critical\":\n        return { icon: <AlertCircle className=\"h-4 w-4 text-red-500\" />, color: \"text-red-500\" };\n      default:\n        return { icon: <Activity className=\"h-4 w-4 text-gray-500\" />, color: \"text-gray-500\" };\n    }\n  };\n\n  const formatNumber = (num: number) => {\n    if (num >= 1000000) {\n      return (num / 1000000).toFixed(1) + 'M';\n    }\n    if (num >= 1000) {\n      return (num / 1000).toFixed(1) + 'K';\n    }\n    return num.toString();\n  };\n\n  const formatDuration = (ms: number) => {\n    if (ms < 1000) return `${ms}ms`;\n    return `${(ms / 1000).toFixed(1)}s`;\n  };\n\n  const getDateRangeLabel = (range: string) => {\n    switch (range) {\n      case \"1d\": return \"Last 24 hours\";\n      case \"7d\": return \"Last 7 days\";\n      case \"30d\": return \"Last 30 days\";\n      case \"90d\": return \"Last 90 days\";\n      default: return \"Last 7 days\";\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <BarChart3 className=\"h-5 w-5 text-muted-foreground\" />\n          <h2 className=\"text-lg font-semibold\">Analytics & Performance</h2>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <Select value={dateRange} onValueChange={setDateRange}>\n            <SelectTrigger className=\"w-40\" data-testid=\"select-date-range\">\n              <SelectValue />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"1d\">Last 24 hours</SelectItem>\n              <SelectItem value=\"7d\">Last 7 days</SelectItem>\n              <SelectItem value=\"30d\">Last 30 days</SelectItem>\n              <SelectItem value=\"90d\">Last 90 days</SelectItem>\n            </SelectContent>\n          </Select>\n          <Button \n            variant=\"outline\" \n            size=\"sm\" \n            onClick={refreshData}\n            disabled={isRefreshing}\n            data-testid=\"button-refresh-data\"\n          >\n            <RefreshCw className={`h-4 w-4 mr-2 ${isRefreshing ? 'animate-spin' : ''}`} />\n            Refresh\n          </Button>\n          <Button \n            variant=\"outline\" \n            size=\"sm\" \n            onClick={exportData}\n            data-testid=\"button-export-data\"\n          >\n            <Download className=\"h-4 w-4 mr-2\" />\n            Export\n          </Button>\n        </div>\n      </div>\n\n      {/* Data Range Info */}\n      <Card>\n        <CardContent className=\"pt-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-muted-foreground\">Showing data for</p>\n              <p className=\"text-lg font-medium\">{getDateRangeLabel(dateRange)}</p>\n            </div>\n            <div className=\"flex items-center gap-4\">\n              <div className=\"text-center\">\n                <p className=\"text-2xl font-bold\">\n                  {data.kpis.find(k => k.id === \"total-queries\")?.value || 0}\n                </p>\n                <p className=\"text-sm text-muted-foreground\">Total Queries</p>\n              </div>\n              <div className=\"text-center\">\n                <p className=\"text-2xl font-bold\">\n                  {data.kpis.find(k => k.id === \"active-users\")?.value || 0}\n                </p>\n                <p className=\"text-sm text-muted-foreground\">Active Users</p>\n              </div>\n              <div className=\"text-center\">\n                <p className=\"text-2xl font-bold\">\n                  {((data.kpis.find(k => k.id === \"satisfaction-score\")?.value || 0) * 100).toFixed(1)}%\n                </p>\n                <p className=\"text-sm text-muted-foreground\">Satisfaction</p>\n              </div>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Tabs */}\n      <Tabs value={activeTab} onValueChange={setActiveTab}>\n        <TabsList className=\"grid w-full grid-cols-4\">\n          <TabsTrigger value=\"overview\" data-testid=\"tab-overview\">\n            <BarChart3 className=\"h-4 w-4 mr-2\" />\n            Overview\n          </TabsTrigger>\n          <TabsTrigger value=\"queries\" data-testid=\"tab-queries\">\n            <Search className=\"h-4 w-4 mr-2\" />\n            Top Queries\n          </TabsTrigger>\n          <TabsTrigger value=\"sources\" data-testid=\"tab-sources\">\n            <Globe className=\"h-4 w-4 mr-2\" />\n            Traffic Sources\n          </TabsTrigger>\n          <TabsTrigger value=\"performance\" data-testid=\"tab-performance\">\n            <Zap className=\"h-4 w-4 mr-2\" />\n            Performance\n          </TabsTrigger>\n        </TabsList>\n\n        {/* Overview Tab */}\n        <TabsContent value=\"overview\" className=\"space-y-6\">\n          {/* KPI Cards */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n            {data.kpis.map((kpi) => (\n              <Card key={kpi.id} className=\"hover-elevate\" data-testid={`kpi-card-${kpi.id}`}>\n                <CardHeader className=\"pb-2\">\n                  <div className=\"flex items-center justify-between\">\n                    <CardTitle className=\"text-sm font-medium text-muted-foreground\">\n                      {kpi.name}\n                    </CardTitle>\n                    {getTrendIcon(kpi.trend)}\n                  </div>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-2\">\n                    <p className=\"text-2xl font-bold\" data-testid={`kpi-value-${kpi.id}`}>\n                      {formatNumber(kpi.value)}{kpi.unit}\n                    </p>\n                    <div className=\"flex items-center gap-2\">\n                      <span className={`text-sm font-medium ${getTrendColor(kpi.trend)}`}>\n                        {kpi.change > 0 ? '+' : ''}{kpi.change.toFixed(1)}%\n                      </span>\n                      <span className=\"text-sm text-muted-foreground\">vs previous period</span>\n                    </div>\n                    {kpi.target && (\n                      <div className=\"space-y-1\">\n                        <div className=\"flex justify-between text-sm\">\n                          <span>Target: {formatNumber(kpi.target)}{kpi.unit}</span>\n                          <span>{((kpi.value / kpi.target) * 100).toFixed(1)}%</span>\n                        </div>\n                        <Progress \n                          value={(kpi.value / kpi.target) * 100} \n                          className=\"h-1\"\n                          data-testid={`kpi-progress-${kpi.id}`}\n                        />\n                      </div>\n                    )}\n                  </div>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n\n          {/* Charts */}\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Search className=\"h-5 w-5\" />\n                  Query Volume\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  <div className=\"h-48 bg-muted rounded-lg flex items-center justify-center\">\n                    <p className=\"text-sm text-muted-foreground\">Query volume chart would render here</p>\n                  </div>\n                  <div className=\"grid grid-cols-3 gap-4 text-sm\">\n                    <div className=\"text-center\">\n                      <p className=\"font-medium\">Peak Hour</p>\n                      <p className=\"text-muted-foreground\">2:00 PM</p>\n                    </div>\n                    <div className=\"text-center\">\n                      <p className=\"font-medium\">Avg/Hour</p>\n                      <p className=\"text-muted-foreground\">124</p>\n                    </div>\n                    <div className=\"text-center\">\n                      <p className=\"font-medium\">Growth</p>\n                      <p className=\"text-green-600\">+12.5%</p>\n                    </div>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Users className=\"h-5 w-5\" />\n                  User Engagement\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  <div className=\"h-48 bg-muted rounded-lg flex items-center justify-center\">\n                    <p className=\"text-sm text-muted-foreground\">User engagement chart would render here</p>\n                  </div>\n                  <div className=\"grid grid-cols-3 gap-4 text-sm\">\n                    <div className=\"text-center\">\n                      <p className=\"font-medium\">Session Time</p>\n                      <p className=\"text-muted-foreground\">4.2 min</p>\n                    </div>\n                    <div className=\"text-center\">\n                      <p className=\"font-medium\">Return Rate</p>\n                      <p className=\"text-muted-foreground\">68%</p>\n                    </div>\n                    <div className=\"text-center\">\n                      <p className=\"font-medium\">Bounce Rate</p>\n                      <p className=\"text-red-600\">22%</p>\n                    </div>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* Real-time Metrics */}\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <Activity className=\"h-5 w-5\" />\n                Real-time Activity\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n                <div className=\"text-center\">\n                  <p className=\"text-3xl font-bold text-green-600\" data-testid=\"realtime-active-users\">\n                    23\n                  </p>\n                  <p className=\"text-sm text-muted-foreground\">Users online now</p>\n                </div>\n                <div className=\"text-center\">\n                  <p className=\"text-3xl font-bold text-blue-600\" data-testid=\"realtime-queries\">\n                    8\n                  </p>\n                  <p className=\"text-sm text-muted-foreground\">Queries last minute</p>\n                </div>\n                <div className=\"text-center\">\n                  <p className=\"text-3xl font-bold text-purple-600\" data-testid=\"realtime-response-time\">\n                    245ms\n                  </p>\n                  <p className=\"text-sm text-muted-foreground\">Avg response time</p>\n                </div>\n                <div className=\"text-center\">\n                  <p className=\"text-3xl font-bold text-orange-600\" data-testid=\"realtime-satisfaction\">\n                    92%\n                  </p>\n                  <p className=\"text-sm text-muted-foreground\">Satisfaction rate</p>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* Top Queries Tab */}\n        <TabsContent value=\"queries\" className=\"space-y-6\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Most Popular Queries</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <ScrollArea className=\"h-96\">\n                <div className=\"space-y-4\">\n                  {data.topQueries.map((query, index) => (\n                    <div \n                      key={query.id} \n                      className=\"flex items-center justify-between p-4 border rounded-lg hover-elevate\"\n                      data-testid={`query-item-${query.id}`}\n                    >\n                      <div className=\"flex items-center gap-4 flex-1\">\n                        <div className=\"text-center min-w-8\">\n                          <Badge variant=\"outline\" className=\"rounded-full w-8 h-8 p-0 flex items-center justify-center\">\n                            {index + 1}\n                          </Badge>\n                        </div>\n                        <div className=\"flex-1\">\n                          <p className=\"font-medium text-sm\">{query.query}</p>\n                          <p className=\"text-xs text-muted-foreground\">\n                            Last asked: {query.lastAsked.toLocaleDateString()}\n                          </p>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center gap-6 text-sm\">\n                        <div className=\"text-center\">\n                          <p className=\"font-medium\" data-testid={`query-count-${query.id}`}>{query.count}</p>\n                          <p className=\"text-muted-foreground\">times</p>\n                        </div>\n                        <div className=\"text-center\">\n                          <p className=\"font-medium\">{formatDuration(query.averageResponseTime)}</p>\n                          <p className=\"text-muted-foreground\">response</p>\n                        </div>\n                        <div className=\"text-center\">\n                          <div className=\"flex items-center gap-1\">\n                            <Star className=\"h-3 w-3 text-yellow-500 fill-current\" />\n                            <span className=\"font-medium\">{query.satisfactionScore.toFixed(1)}</span>\n                          </div>\n                          <p className=\"text-muted-foreground\">rating</p>\n                        </div>\n                        <div className=\"flex items-center gap-1\">\n                          <Button variant=\"ghost\" size=\"sm\" data-testid={`button-view-query-${query.id}`}>\n                            <Eye className=\"h-4 w-4\" />\n                          </Button>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </ScrollArea>\n            </CardContent>\n          </Card>\n\n          {/* Query Categories */}\n          <Card>\n            <CardHeader>\n              <CardTitle>Query Categories</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                <div className=\"space-y-2\">\n                  <Label className=\"text-sm font-medium\">Technical Questions</Label>\n                  <div className=\"flex items-center gap-2\">\n                    <Progress value={65} className=\"flex-1\" />\n                    <span className=\"text-sm font-medium\">65%</span>\n                  </div>\n                </div>\n                <div className=\"space-y-2\">\n                  <Label className=\"text-sm font-medium\">Product Information</Label>\n                  <div className=\"flex items-center gap-2\">\n                    <Progress value={25} className=\"flex-1\" />\n                    <span className=\"text-sm font-medium\">25%</span>\n                  </div>\n                </div>\n                <div className=\"space-y-2\">\n                  <Label className=\"text-sm font-medium\">General Support</Label>\n                  <div className=\"flex items-center gap-2\">\n                    <Progress value={10} className=\"flex-1\" />\n                    <span className=\"text-sm font-medium\">10%</span>\n                  </div>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* Traffic Sources Tab */}\n        <TabsContent value=\"sources\" className=\"space-y-6\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Top Traffic Sources</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <ScrollArea className=\"h-96\">\n                <div className=\"space-y-4\">\n                  {data.topSources.map((source, index) => (\n                    <div \n                      key={source.id} \n                      className=\"flex items-center justify-between p-4 border rounded-lg hover-elevate\"\n                      data-testid={`source-item-${source.id}`}\n                    >\n                      <div className=\"flex items-center gap-4 flex-1\">\n                        <div className=\"text-center min-w-8\">\n                          <Badge variant=\"outline\" className=\"rounded-full w-8 h-8 p-0 flex items-center justify-center\">\n                            {index + 1}\n                          </Badge>\n                        </div>\n                        <div className=\"flex-1\">\n                          <p className=\"font-medium text-sm\">{source.domain}</p>\n                          <p className=\"text-xs text-muted-foreground font-mono\">{source.url}</p>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center gap-6 text-sm\">\n                        <div className=\"text-center\">\n                          <p className=\"font-medium\" data-testid={`source-visits-${source.id}`}>{formatNumber(source.visits)}</p>\n                          <p className=\"text-muted-foreground\">visits</p>\n                        </div>\n                        <div className=\"text-center\">\n                          <p className=\"font-medium\">{source.conversions}</p>\n                          <p className=\"text-muted-foreground\">conversions</p>\n                        </div>\n                        <div className=\"text-center\">\n                          <p className=\"font-medium\">{(source.conversionRate * 100).toFixed(1)}%</p>\n                          <p className=\"text-muted-foreground\">rate</p>\n                        </div>\n                        <div className=\"text-center\">\n                          <p className=\"font-medium\">{formatDuration(source.averageSessionTime * 1000)}</p>\n                          <p className=\"text-muted-foreground\">session</p>\n                        </div>\n                        <div className=\"flex items-center gap-1\">\n                          <Button variant=\"ghost\" size=\"sm\" data-testid={`button-view-source-${source.id}`}>\n                            <ArrowUpRight className=\"h-4 w-4\" />\n                          </Button>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </ScrollArea>\n            </CardContent>\n          </Card>\n\n          {/* Referral Breakdown */}\n          <Card>\n            <CardHeader>\n              <CardTitle>Traffic Distribution</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n                <div className=\"text-center space-y-2\">\n                  <p className=\"text-2xl font-bold text-blue-600\">45%</p>\n                  <p className=\"text-sm text-muted-foreground\">Direct</p>\n                  <Progress value={45} className=\"h-2\" />\n                </div>\n                <div className=\"text-center space-y-2\">\n                  <p className=\"text-2xl font-bold text-green-600\">30%</p>\n                  <p className=\"text-sm text-muted-foreground\">Search</p>\n                  <Progress value={30} className=\"h-2\" />\n                </div>\n                <div className=\"text-center space-y-2\">\n                  <p className=\"text-2xl font-bold text-purple-600\">15%</p>\n                  <p className=\"text-sm text-muted-foreground\">Social</p>\n                  <Progress value={15} className=\"h-2\" />\n                </div>\n                <div className=\"text-center space-y-2\">\n                  <p className=\"text-2xl font-bold text-orange-600\">10%</p>\n                  <p className=\"text-sm text-muted-foreground\">Referral</p>\n                  <Progress value={10} className=\"h-2\" />\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* Performance Tab */}\n        <TabsContent value=\"performance\" className=\"space-y-6\">\n          <Card>\n            <CardHeader>\n              <CardTitle>System Performance Metrics</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-4\">\n                {data.performance.map((metric) => {\n                  const status = getPerformanceStatus(metric.status);\n                  return (\n                    <div \n                      key={metric.id} \n                      className=\"flex items-center justify-between p-4 border rounded-lg\"\n                      data-testid={`performance-metric-${metric.id}`}\n                    >\n                      <div className=\"flex items-center gap-4\">\n                        {status.icon}\n                        <div>\n                          <p className=\"font-medium\">{metric.name}</p>\n                          <p className=\"text-sm text-muted-foreground\">\n                            Threshold: {metric.threshold}{metric.unit}\n                          </p>\n                        </div>\n                      </div>\n                      <div className=\"text-right\">\n                        <p className={`text-lg font-bold ${status.color}`} data-testid={`performance-value-${metric.id}`}>\n                          {metric.value}{metric.unit}\n                        </p>\n                        <p className=\"text-sm text-muted-foreground capitalize\">\n                          {metric.status}\n                        </p>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Performance Settings */}\n          <Card>\n            <CardHeader>\n              <CardTitle>Analytics Settings</CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div className=\"space-y-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"retention-days\">Data Retention (days)</Label>\n                    <input\n                      id=\"retention-days\"\n                      type=\"number\"\n                      value={data.dataRetentionDays}\n                      onChange={(e) => updateAnalytics({ dataRetentionDays: parseInt(e.target.value) || 90 })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                      data-testid=\"input-retention-days\"\n                    />\n                  </div>\n                </div>\n\n                <div className=\"space-y-4\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"space-y-0.5\">\n                      <Label htmlFor=\"real-time\">Real-time Updates</Label>\n                      <p className=\"text-sm text-muted-foreground\">Update metrics in real-time</p>\n                    </div>\n                    <input\n                      id=\"real-time\"\n                      type=\"checkbox\"\n                      checked={data.realTimeUpdates}\n                      onChange={(e) => updateAnalytics({ realTimeUpdates: e.target.checked })}\n                      data-testid=\"checkbox-real-time\"\n                    />\n                  </div>\n\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"space-y-0.5\">\n                      <Label htmlFor=\"anonymize\">Anonymize Data</Label>\n                      <p className=\"text-sm text-muted-foreground\">Remove personal identifiers</p>\n                    </div>\n                    <input\n                      id=\"anonymize\"\n                      type=\"checkbox\"\n                      checked={data.anonymizeData}\n                      onChange={(e) => updateAnalytics({ anonymizeData: e.target.checked })}\n                      data-testid=\"checkbox-anonymize\"\n                    />\n                  </div>\n\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"space-y-0.5\">\n                      <Label htmlFor=\"tracking\">Enable Tracking</Label>\n                      <p className=\"text-sm text-muted-foreground\">Collect analytics data</p>\n                    </div>\n                    <input\n                      id=\"tracking\"\n                      type=\"checkbox\"\n                      checked={data.trackingEnabled}\n                      onChange={(e) => updateAnalytics({ trackingEnabled: e.target.checked })}\n                      data-testid=\"checkbox-tracking\"\n                    />\n                  </div>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n}","size_bytes":28925},"client/src/components/tabs/AuditLogsTab.tsx":{"content":"import { useState } from \"react\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { \n  FileText, \n  Clock, \n  User, \n  Shield, \n  AlertTriangle, \n  CheckCircle2, \n  XCircle, \n  Download, \n  Filter, \n  Search, \n  Calendar,\n  Activity,\n  Database,\n  Settings,\n  Eye,\n  Edit3,\n  Trash2,\n  Lock,\n  Unlock,\n  UserPlus,\n  UserMinus,\n  RefreshCw,\n  Globe,\n  Key,\n  Webhook,\n  BarChart3,\n  TestTube2,\n  Folder,\n  Upload,\n  FileX,\n  AlertCircle,\n  ExternalLink\n} from \"lucide-react\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/components/ui/dialog\";\n\n// Audit Log interfaces\ninterface AuditLogEntry {\n  id: string;\n  timestamp: Date;\n  userId: string;\n  userName: string;\n  userEmail: string;\n  userAvatar?: string;\n  action: string;\n  category: \"user\" | \"integration\" | \"security\" | \"data\" | \"system\" | \"api\";\n  severity: \"low\" | \"medium\" | \"high\" | \"critical\";\n  resource: string;\n  resourceId?: string;\n  description: string;\n  details: Record<string, any>;\n  ipAddress: string;\n  userAgent: string;\n  location?: string;\n  sessionId: string;\n  outcome: \"success\" | \"failure\" | \"warning\";\n  changes?: {\n    before: Record<string, any>;\n    after: Record<string, any>;\n  };\n  metadata?: Record<string, any>;\n}\n\ninterface SecurityAlert {\n  id: string;\n  timestamp: Date;\n  type: \"failed_login\" | \"suspicious_activity\" | \"unauthorized_access\" | \"data_breach\" | \"policy_violation\";\n  severity: \"low\" | \"medium\" | \"high\" | \"critical\";\n  title: string;\n  description: string;\n  affected: {\n    userId?: string;\n    resourceId?: string;\n    ipAddress?: string;\n    count?: number;\n  };\n  status: \"open\" | \"investigating\" | \"resolved\" | \"false_positive\";\n  assignee?: string;\n  resolution?: string;\n  relatedLogIds: string[];\n}\n\ninterface ComplianceReport {\n  id: string;\n  type: \"access_report\" | \"change_log\" | \"security_audit\" | \"data_usage\" | \"policy_compliance\";\n  title: string;\n  description: string;\n  generatedAt: Date;\n  generatedBy: string;\n  period: {\n    start: Date;\n    end: Date;\n  };\n  status: \"generating\" | \"ready\" | \"expired\";\n  downloadUrl?: string;\n  fileSize?: string;\n  recordCount: number;\n  filters: Record<string, any>;\n}\n\ninterface AuditSettings {\n  retentionPeriod: number; // days\n  enableRealTimeAlerts: boolean;\n  logLevels: string[];\n  categories: string[];\n  automaticReports: {\n    enabled: boolean;\n    frequency: \"daily\" | \"weekly\" | \"monthly\";\n    recipients: string[];\n    includeCompliance: boolean;\n  };\n  alertThresholds: {\n    failedLogins: number;\n    suspiciousActivity: number;\n    dataAccess: number;\n  };\n  export: {\n    formats: string[];\n    encryption: boolean;\n    maxRecords: number;\n  };\n}\n\ninterface AuditLogsData {\n  logs: AuditLogEntry[];\n  securityAlerts: SecurityAlert[];\n  complianceReports: ComplianceReport[];\n  settings: AuditSettings;\n  stats: {\n    totalLogs: number;\n    logsToday: number;\n    activeAlerts: number;\n    criticalAlerts: number;\n    userActivity: {\n      totalUsers: number;\n      activeToday: number;\n      newThisWeek: number;\n    };\n    systemHealth: {\n      uptime: string;\n      errorRate: number;\n      responseTime: number;\n    };\n  };\n}\n\n// Sample audit logs data\nconst defaultAuditData: AuditLogsData = {\n  logs: [\n    {\n      id: \"log-001\",\n      timestamp: new Date(Date.now() - 1000 * 60 * 30),\n      userId: \"user-001\",\n      userName: \"John Doe\",\n      userEmail: \"john@company.com\",\n      action: \"integration.update\",\n      category: \"integration\",\n      severity: \"medium\",\n      resource: \"Integration Settings\",\n      resourceId: \"int-001\",\n      description: \"Updated integration configuration for search widget\",\n      details: {\n        configChanges: [\"searchPlaceholder\", \"primaryColor\", \"enableAnalytics\"],\n        previousValues: {\n          searchPlaceholder: \"Search...\",\n          primaryColor: \"#0066CC\",\n          enableAnalytics: false\n        },\n        newValues: {\n          searchPlaceholder: \"Ask me anything...\",\n          primaryColor: \"#1F6FEB\",\n          enableAnalytics: true\n        }\n      },\n      ipAddress: \"192.168.1.100\",\n      userAgent: \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)\",\n      location: \"San Francisco, CA\",\n      sessionId: \"sess-abc123\",\n      outcome: \"success\",\n      changes: {\n        before: { enableAnalytics: false },\n        after: { enableAnalytics: true }\n      }\n    },\n    {\n      id: \"log-002\",\n      timestamp: new Date(Date.now() - 1000 * 60 * 60),\n      userId: \"user-002\",\n      userName: \"Jane Smith\",\n      userEmail: \"jane@company.com\",\n      action: \"user.invite\",\n      category: \"user\",\n      severity: \"low\",\n      resource: \"User Management\",\n      description: \"Invited new user to the platform\",\n      details: {\n        invitedEmail: \"newuser@company.com\",\n        assignedRole: \"editor\",\n        invitationMessage: \"Welcome to our team!\"\n      },\n      ipAddress: \"10.0.0.50\",\n      userAgent: \"Mozilla/5.0 (Windows NT 10.0; Win64; x64)\",\n      location: \"New York, NY\",\n      sessionId: \"sess-def456\",\n      outcome: \"success\"\n    },\n    {\n      id: \"log-003\",\n      timestamp: new Date(Date.now() - 1000 * 60 * 60 * 2),\n      userId: \"user-003\",\n      userName: \"Bob Wilson\",\n      userEmail: \"bob@company.com\",\n      action: \"auth.login_failed\",\n      category: \"security\",\n      severity: \"high\",\n      resource: \"Authentication\",\n      description: \"Failed login attempt - invalid credentials\",\n      details: {\n        attemptCount: 3,\n        reason: \"invalid_password\",\n        lockoutTriggered: false\n      },\n      ipAddress: \"203.0.113.45\",\n      userAgent: \"Mozilla/5.0 (Linux; Android 10)\",\n      location: \"Unknown\",\n      sessionId: \"sess-ghi789\",\n      outcome: \"failure\"\n    },\n    {\n      id: \"log-004\",\n      timestamp: new Date(Date.now() - 1000 * 60 * 60 * 4),\n      userId: \"user-001\",\n      userName: \"John Doe\",\n      userEmail: \"john@company.com\",\n      action: \"data.export\",\n      category: \"data\",\n      severity: \"medium\",\n      resource: \"Analytics Data\",\n      description: \"Exported search analytics data\",\n      details: {\n        dateRange: \"2024-08-01 to 2024-08-31\",\n        recordCount: 15420,\n        fileFormat: \"CSV\",\n        fileSize: \"2.3 MB\"\n      },\n      ipAddress: \"192.168.1.100\",\n      userAgent: \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)\",\n      location: \"San Francisco, CA\",\n      sessionId: \"sess-jkl012\",\n      outcome: \"success\"\n    },\n    {\n      id: \"log-005\",\n      timestamp: new Date(Date.now() - 1000 * 60 * 60 * 6),\n      userId: \"system\",\n      userName: \"System\",\n      userEmail: \"system@platform.com\",\n      action: \"system.maintenance\",\n      category: \"system\",\n      severity: \"low\",\n      resource: \"System Maintenance\",\n      description: \"Automated database backup completed\",\n      details: {\n        backupSize: \"1.2 GB\",\n        duration: \"15 minutes\",\n        tables: [\"integrations\", \"users\", \"analytics\", \"audit_logs\"]\n      },\n      ipAddress: \"127.0.0.1\",\n      userAgent: \"Internal System\",\n      sessionId: \"system-backup\",\n      outcome: \"success\"\n    },\n  ],\n  securityAlerts: [\n    {\n      id: \"alert-001\",\n      timestamp: new Date(Date.now() - 1000 * 60 * 45),\n      type: \"failed_login\",\n      severity: \"high\",\n      title: \"Multiple Failed Login Attempts\",\n      description: \"User account bob@company.com has 5 failed login attempts in the last 10 minutes\",\n      affected: {\n        userId: \"user-003\",\n        ipAddress: \"203.0.113.45\",\n        count: 5\n      },\n      status: \"investigating\",\n      assignee: \"security-team\",\n      relatedLogIds: [\"log-003\"]\n    },\n    {\n      id: \"alert-002\",\n      timestamp: new Date(Date.now() - 1000 * 60 * 60 * 3),\n      type: \"suspicious_activity\",\n      severity: \"medium\",\n      title: \"Unusual Data Access Pattern\",\n      description: \"Large data export outside normal business hours\",\n      affected: {\n        userId: \"user-001\",\n        resourceId: \"analytics-data\",\n        count: 1\n      },\n      status: \"resolved\",\n      assignee: \"admin-team\",\n      resolution: \"Confirmed legitimate business use - user working on quarterly report\",\n      relatedLogIds: [\"log-004\"]\n    },\n  ],\n  complianceReports: [\n    {\n      id: \"report-001\",\n      type: \"access_report\",\n      title: \"Monthly User Access Report\",\n      description: \"Comprehensive report of all user access activities for August 2024\",\n      generatedAt: new Date(Date.now() - 1000 * 60 * 60 * 24),\n      generatedBy: \"system-automated\",\n      period: {\n        start: new Date(\"2024-08-01\"),\n        end: new Date(\"2024-08-31\")\n      },\n      status: \"ready\",\n      downloadUrl: \"/downloads/access-report-aug-2024.pdf\",\n      fileSize: \"4.2 MB\",\n      recordCount: 1542,\n      filters: {\n        includeSystemUsers: false,\n        minimumSeverity: \"low\"\n      }\n    },\n    {\n      id: \"report-002\",\n      type: \"security_audit\",\n      title: \"Q3 Security Audit Report\",\n      description: \"Quarterly security audit including failed logins, policy violations, and access patterns\",\n      generatedAt: new Date(Date.now() - 1000 * 60 * 60 * 48),\n      generatedBy: \"jane@company.com\",\n      period: {\n        start: new Date(\"2024-07-01\"),\n        end: new Date(\"2024-09-30\")\n      },\n      status: \"ready\",\n      downloadUrl: \"/downloads/security-audit-q3-2024.pdf\",\n      fileSize: \"8.7 MB\",\n      recordCount: 3241,\n      filters: {\n        securityOnly: true,\n        includeSuspiciousActivity: true\n      }\n    },\n    {\n      id: \"report-003\",\n      type: \"change_log\",\n      title: \"Integration Changes Report\",\n      description: \"All configuration changes made to integrations in the last 30 days\",\n      generatedAt: new Date(),\n      generatedBy: \"john@company.com\",\n      period: {\n        start: new Date(Date.now() - 1000 * 60 * 60 * 24 * 30),\n        end: new Date()\n      },\n      status: \"generating\",\n      recordCount: 0,\n      filters: {\n        category: \"integration\",\n        includeMinorChanges: false\n      }\n    },\n  ],\n  settings: {\n    retentionPeriod: 365,\n    enableRealTimeAlerts: true,\n    logLevels: [\"low\", \"medium\", \"high\", \"critical\"],\n    categories: [\"user\", \"integration\", \"security\", \"data\", \"system\", \"api\"],\n    automaticReports: {\n      enabled: true,\n      frequency: \"monthly\",\n      recipients: [\"admin@company.com\", \"security@company.com\"],\n      includeCompliance: true\n    },\n    alertThresholds: {\n      failedLogins: 5,\n      suspiciousActivity: 3,\n      dataAccess: 10\n    },\n    export: {\n      formats: [\"CSV\", \"JSON\", \"PDF\"],\n      encryption: true,\n      maxRecords: 50000\n    }\n  },\n  stats: {\n    totalLogs: 15420,\n    logsToday: 124,\n    activeAlerts: 3,\n    criticalAlerts: 0,\n    userActivity: {\n      totalUsers: 45,\n      activeToday: 12,\n      newThisWeek: 2\n    },\n    systemHealth: {\n      uptime: \"99.9%\",\n      errorRate: 0.02,\n      responseTime: 245\n    }\n  }\n};\n\ninterface AuditLogsTabProps {\n  data: AuditLogsData;\n  onChange: (data: AuditLogsData) => void;\n}\n\nexport default function AuditLogsTab({ data, onChange }: AuditLogsTabProps) {\n  const [activeTab, setActiveTab] = useState(\"logs\");\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [categoryFilter, setCategoryFilter] = useState(\"all\");\n  const [severityFilter, setSeverityFilter] = useState(\"all\");\n  const [dateRange, setDateRange] = useState(\"7d\");\n  const [selectedLog, setSelectedLog] = useState<string | null>(null);\n\n  // Use data directly from props (controlled component pattern)\n  \n  const updateAuditData = (updates: Partial<AuditLogsData>) => {\n    onChange({ ...data, ...updates });\n  };\n\n  const getSeverityIcon = (severity: string) => {\n    switch (severity) {\n      case \"critical\": return <AlertTriangle className=\"w-4 h-4 text-red-500\" />;\n      case \"high\": return <AlertCircle className=\"w-4 h-4 text-orange-500\" />;\n      case \"medium\": return <Clock className=\"w-4 h-4 text-yellow-500\" />;\n      case \"low\": return <CheckCircle2 className=\"w-4 h-4 text-green-500\" />;\n      default: return <Clock className=\"w-4 h-4 text-gray-500\" />;\n    }\n  };\n\n  const getSeverityBadgeVariant = (severity: string) => {\n    switch (severity) {\n      case \"critical\": return \"destructive\";\n      case \"high\": return \"destructive\";\n      case \"medium\": return \"secondary\";\n      case \"low\": return \"outline\";\n      default: return \"outline\";\n    }\n  };\n\n  const getCategoryIcon = (category: string) => {\n    switch (category) {\n      case \"user\": return <User className=\"w-4 h-4\" />;\n      case \"integration\": return <Settings className=\"w-4 h-4\" />;\n      case \"security\": return <Shield className=\"w-4 h-4\" />;\n      case \"data\": return <Database className=\"w-4 h-4\" />;\n      case \"system\": return <Activity className=\"w-4 h-4\" />;\n      case \"api\": return <Globe className=\"w-4 h-4\" />;\n      default: return <FileText className=\"w-4 h-4\" />;\n    }\n  };\n\n  const getOutcomeIcon = (outcome: string) => {\n    switch (outcome) {\n      case \"success\": return <CheckCircle2 className=\"w-4 h-4 text-green-500\" />;\n      case \"failure\": return <XCircle className=\"w-4 h-4 text-red-500\" />;\n      case \"warning\": return <AlertTriangle className=\"w-4 h-4 text-yellow-500\" />;\n      default: return <Clock className=\"w-4 h-4 text-gray-500\" />;\n    }\n  };\n\n  const getAlertStatusBadge = (status: string) => {\n    switch (status) {\n      case \"open\": return <Badge variant=\"destructive\">Open</Badge>;\n      case \"investigating\": return <Badge variant=\"secondary\">Investigating</Badge>;\n      case \"resolved\": return <Badge variant=\"outline\">Resolved</Badge>;\n      case \"false_positive\": return <Badge variant=\"outline\">False Positive</Badge>;\n      default: return <Badge variant=\"secondary\">Unknown</Badge>;\n    }\n  };\n\n  const getReportStatusBadge = (status: string) => {\n    switch (status) {\n      case \"generating\": return <Badge variant=\"secondary\">Generating</Badge>;\n      case \"ready\": return <Badge variant=\"default\">Ready</Badge>;\n      case \"expired\": return <Badge variant=\"outline\">Expired</Badge>;\n      default: return <Badge variant=\"secondary\">Unknown</Badge>;\n    }\n  };\n\n  const filteredLogs = data.logs.filter(log => {\n    const matchesSearch = log.description.toLowerCase().includes(searchQuery.toLowerCase()) ||\n                         log.userName.toLowerCase().includes(searchQuery.toLowerCase()) ||\n                         log.action.toLowerCase().includes(searchQuery.toLowerCase());\n    const matchesCategory = categoryFilter === \"all\" || log.category === categoryFilter;\n    const matchesSeverity = severityFilter === \"all\" || log.severity === severityFilter;\n    \n    // Date range filtering\n    const now = Date.now();\n    const logTime = log.timestamp.getTime();\n    let matchesDate = true;\n    \n    switch (dateRange) {\n      case \"1d\":\n        matchesDate = now - logTime <= 24 * 60 * 60 * 1000;\n        break;\n      case \"7d\":\n        matchesDate = now - logTime <= 7 * 24 * 60 * 60 * 1000;\n        break;\n      case \"30d\":\n        matchesDate = now - logTime <= 30 * 24 * 60 * 60 * 1000;\n        break;\n      case \"90d\":\n        matchesDate = now - logTime <= 90 * 24 * 60 * 60 * 1000;\n        break;\n    }\n    \n    return matchesSearch && matchesCategory && matchesSeverity && matchesDate;\n  });\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h3 className=\"text-lg font-semibold\">Audit Logs & Compliance</h3>\n          <p className=\"text-sm text-muted-foreground\">\n            Monitor system activity, track changes, and generate compliance reports\n          </p>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <Button variant=\"outline\" size=\"sm\" data-testid=\"button-export-logs\">\n            <Download className=\"w-4 h-4 mr-2\" />\n            Export\n          </Button>\n          <Button variant=\"outline\" size=\"sm\" data-testid=\"button-refresh-logs\">\n            <RefreshCw className=\"w-4 h-4 mr-2\" />\n            Refresh\n          </Button>\n        </div>\n      </div>\n\n      {/* Stats Overview */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <Card data-testid=\"card-stats-total-logs\">\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Total Logs</p>\n                <p className=\"text-2xl font-bold\" data-testid=\"text-total-logs\">{data.stats.totalLogs.toLocaleString()}</p>\n              </div>\n              <FileText className=\"w-8 h-8 text-muted-foreground\" />\n            </div>\n          </CardContent>\n        </Card>\n        \n        <Card data-testid=\"card-stats-logs-today\">\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Logs Today</p>\n                <p className=\"text-2xl font-bold\" data-testid=\"text-logs-today\">{data.stats.logsToday}</p>\n              </div>\n              <Activity className=\"w-8 h-8 text-muted-foreground\" />\n            </div>\n          </CardContent>\n        </Card>\n        \n        <Card data-testid=\"card-stats-active-alerts\">\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Active Alerts</p>\n                <p className=\"text-2xl font-bold text-orange-500\" data-testid=\"text-active-alerts\">{data.stats.activeAlerts}</p>\n              </div>\n              <AlertTriangle className=\"w-8 h-8 text-orange-500\" />\n            </div>\n          </CardContent>\n        </Card>\n        \n        <Card data-testid=\"card-stats-system-uptime\">\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">System Uptime</p>\n                <p className=\"text-2xl font-bold text-green-500\" data-testid=\"text-system-uptime\">{data.stats.systemHealth.uptime}</p>\n              </div>\n              <CheckCircle2 className=\"w-8 h-8 text-green-500\" />\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\n        <TabsList className=\"grid w-full grid-cols-4\">\n          <TabsTrigger value=\"logs\" data-testid=\"tab-activity-logs\">Activity Logs</TabsTrigger>\n          <TabsTrigger value=\"alerts\" data-testid=\"tab-security-alerts\">Security Alerts</TabsTrigger>\n          <TabsTrigger value=\"reports\" data-testid=\"tab-compliance-reports\">Reports</TabsTrigger>\n          <TabsTrigger value=\"settings\" data-testid=\"tab-audit-settings\">Settings</TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"logs\" className=\"space-y-4\">\n          <Card data-testid=\"card-activity-logs\">\n            <CardHeader>\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <CardTitle>Activity Logs</CardTitle>\n                  <CardDescription>\n                    Real-time activity monitoring and historical log review\n                  </CardDescription>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"relative\">\n                    <Search className=\"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground\" />\n                    <Input\n                      placeholder=\"Search logs...\"\n                      value={searchQuery}\n                      onChange={(e) => setSearchQuery(e.target.value)}\n                      className=\"pl-8 w-64\"\n                      data-testid=\"input-search-logs\"\n                    />\n                  </div>\n                  <Select value={categoryFilter} onValueChange={setCategoryFilter}>\n                    <SelectTrigger className=\"w-32\" data-testid=\"select-category-filter\">\n                      <SelectValue placeholder=\"Category\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"all\">All Categories</SelectItem>\n                      <SelectItem value=\"user\">User</SelectItem>\n                      <SelectItem value=\"integration\">Integration</SelectItem>\n                      <SelectItem value=\"security\">Security</SelectItem>\n                      <SelectItem value=\"data\">Data</SelectItem>\n                      <SelectItem value=\"system\">System</SelectItem>\n                      <SelectItem value=\"api\">API</SelectItem>\n                    </SelectContent>\n                  </Select>\n                  <Select value={severityFilter} onValueChange={setSeverityFilter}>\n                    <SelectTrigger className=\"w-28\" data-testid=\"select-severity-filter\">\n                      <SelectValue placeholder=\"Severity\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"all\">All</SelectItem>\n                      <SelectItem value=\"critical\">Critical</SelectItem>\n                      <SelectItem value=\"high\">High</SelectItem>\n                      <SelectItem value=\"medium\">Medium</SelectItem>\n                      <SelectItem value=\"low\">Low</SelectItem>\n                    </SelectContent>\n                  </Select>\n                  <Select value={dateRange} onValueChange={setDateRange}>\n                    <SelectTrigger className=\"w-24\" data-testid=\"select-date-range\">\n                      <SelectValue placeholder=\"Range\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"1d\">1 Day</SelectItem>\n                      <SelectItem value=\"7d\">7 Days</SelectItem>\n                      <SelectItem value=\"30d\">30 Days</SelectItem>\n                      <SelectItem value=\"90d\">90 Days</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n              </div>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-2\">\n                {filteredLogs.length === 0 ? (\n                  <div className=\"text-center py-12\" data-testid=\"status-no-logs\">\n                    <FileText className=\"w-12 h-12 mx-auto mb-4 text-muted-foreground\" />\n                    <p className=\"text-muted-foreground\">No logs found matching your filters</p>\n                  </div>\n                ) : (\n                  <Table data-testid=\"table-activity-logs\">\n                    <TableHeader>\n                      <TableRow>\n                        <TableHead>Time</TableHead>\n                        <TableHead>User</TableHead>\n                        <TableHead>Action</TableHead>\n                        <TableHead>Category</TableHead>\n                        <TableHead>Severity</TableHead>\n                        <TableHead>Outcome</TableHead>\n                        <TableHead>Details</TableHead>\n                      </TableRow>\n                    </TableHeader>\n                    <TableBody>\n                      {filteredLogs.map((log) => (\n                        <TableRow key={log.id} className=\"hover-elevate\" data-testid={`row-log-${log.id}`}>\n                          <TableCell className=\"font-mono text-xs\">\n                            {log.timestamp.toLocaleString()}\n                          </TableCell>\n                          <TableCell>\n                            <div className=\"flex items-center gap-2\">\n                              <Avatar className=\"h-6 w-6\">\n                                <AvatarImage src={log.userAvatar} alt={log.userName} />\n                                <AvatarFallback className=\"text-xs\">\n                                  {log.userName.split(' ').map(n => n[0]).join('')}\n                                </AvatarFallback>\n                              </Avatar>\n                              <div>\n                                <p className=\"text-sm font-medium\">{log.userName}</p>\n                                <p className=\"text-xs text-muted-foreground\">{log.userEmail}</p>\n                              </div>\n                            </div>\n                          </TableCell>\n                          <TableCell>\n                            <div className=\"font-mono text-sm\">{log.action}</div>\n                            <div className=\"text-xs text-muted-foreground\">{log.resource}</div>\n                          </TableCell>\n                          <TableCell>\n                            <div className=\"flex items-center gap-1\">\n                              {getCategoryIcon(log.category)}\n                              <span className=\"text-sm capitalize\">{log.category}</span>\n                            </div>\n                          </TableCell>\n                          <TableCell>\n                            <Badge variant={getSeverityBadgeVariant(log.severity)}>\n                              {getSeverityIcon(log.severity)}\n                              <span className=\"ml-1 capitalize\">{log.severity}</span>\n                            </Badge>\n                          </TableCell>\n                          <TableCell>\n                            {getOutcomeIcon(log.outcome)}\n                          </TableCell>\n                          <TableCell>\n                            <Button \n                              variant=\"ghost\" \n                              size=\"sm\"\n                              onClick={() => setSelectedLog(log.id)}\n                              data-testid={`button-view-log-${log.id}`}\n                            >\n                              <Eye className=\"w-4 h-4 mr-1\" />\n                              View\n                            </Button>\n                          </TableCell>\n                        </TableRow>\n                      ))}\n                    </TableBody>\n                  </Table>\n                )}\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"alerts\" className=\"space-y-4\">\n          <Card data-testid=\"card-security-alerts\">\n            <CardHeader>\n              <CardTitle>Security Alerts</CardTitle>\n              <CardDescription>\n                Monitor and respond to security incidents and suspicious activities\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-4\">\n                {data.securityAlerts.length === 0 ? (\n                  <div className=\"text-center py-12\" data-testid=\"status-no-alerts\">\n                    <Shield className=\"w-12 h-12 mx-auto mb-4 text-green-500\" />\n                    <p className=\"font-medium text-green-600\">All Clear!</p>\n                    <p className=\"text-sm text-muted-foreground\">No active security alerts</p>\n                  </div>\n                ) : (\n                  data.securityAlerts.map((alert) => (\n                    <div key={alert.id} className=\"border rounded-lg p-4 space-y-3\" data-testid={`card-alert-${alert.id}`}>\n                      <div className=\"flex items-start justify-between\">\n                        <div className=\"flex items-start gap-3\">\n                          <div className=\"mt-1\">\n                            {getSeverityIcon(alert.severity)}\n                          </div>\n                          <div className=\"space-y-1\">\n                            <div className=\"flex items-center gap-2\">\n                              <h4 className=\"font-medium\">{alert.title}</h4>\n                              <Badge variant={getSeverityBadgeVariant(alert.severity)}>\n                                {alert.severity}\n                              </Badge>\n                              {getAlertStatusBadge(alert.status)}\n                            </div>\n                            <p className=\"text-sm text-muted-foreground\">{alert.description}</p>\n                            <div className=\"text-xs text-muted-foreground\">\n                              {alert.timestamp.toLocaleString()}\n                              {alert.assignee && ` • Assigned to ${alert.assignee}`}\n                            </div>\n                          </div>\n                        </div>\n                        \n                        <DropdownMenu>\n                          <DropdownMenuTrigger asChild>\n                            <Button variant=\"ghost\" size=\"icon\" data-testid={`button-alert-menu-${alert.id}`}>\n                              <FileText className=\"h-4 w-4\" />\n                            </Button>\n                          </DropdownMenuTrigger>\n                          <DropdownMenuContent align=\"end\">\n                            <DropdownMenuLabel>Actions</DropdownMenuLabel>\n                            <DropdownMenuItem data-testid={`button-view-alert-${alert.id}`}>\n                              <Eye className=\"w-4 h-4 mr-2\" />\n                              View Details\n                            </DropdownMenuItem>\n                            <DropdownMenuItem data-testid={`button-assign-alert-${alert.id}`}>\n                              <User className=\"w-4 h-4 mr-2\" />\n                              Assign\n                            </DropdownMenuItem>\n                            <DropdownMenuSeparator />\n                            <DropdownMenuItem data-testid={`button-resolve-alert-${alert.id}`}>\n                              <CheckCircle2 className=\"w-4 h-4 mr-2\" />\n                              Mark Resolved\n                            </DropdownMenuItem>\n                          </DropdownMenuContent>\n                        </DropdownMenu>\n                      </div>\n                      \n                      {alert.resolution && (\n                        <div className=\"bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 rounded p-3\">\n                          <p className=\"text-sm text-green-800 dark:text-green-200\">\n                            <strong>Resolution:</strong> {alert.resolution}\n                          </p>\n                        </div>\n                      )}\n                    </div>\n                  ))\n                )}\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"reports\" className=\"space-y-4\">\n          <Card data-testid=\"card-compliance-reports\">\n            <CardHeader>\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <CardTitle>Compliance Reports</CardTitle>\n                  <CardDescription>\n                    Generate and download compliance and audit reports\n                  </CardDescription>\n                </div>\n                <Button data-testid=\"button-generate-report\">\n                  <FileText className=\"w-4 h-4 mr-2\" />\n                  Generate Report\n                </Button>\n              </div>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-4\">\n                {data.complianceReports.map((report) => (\n                  <div key={report.id} className=\"border rounded-lg p-4 space-y-3\" data-testid={`card-report-${report.id}`}>\n                    <div className=\"flex items-start justify-between\">\n                      <div className=\"space-y-2\">\n                        <div className=\"flex items-center gap-2\">\n                          <h4 className=\"font-medium\">{report.title}</h4>\n                          {getReportStatusBadge(report.status)}\n                        </div>\n                        <p className=\"text-sm text-muted-foreground\">{report.description}</p>\n                        <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                          <div>\n                            <span className=\"text-muted-foreground\">Period:</span>{\" \"}\n                            {report.period.start.toLocaleDateString()} - {report.period.end.toLocaleDateString()}\n                          </div>\n                          <div>\n                            <span className=\"text-muted-foreground\">Records:</span>{\" \"}\n                            {report.recordCount.toLocaleString()}\n                          </div>\n                          <div>\n                            <span className=\"text-muted-foreground\">Generated:</span>{\" \"}\n                            {report.generatedAt.toLocaleDateString()}\n                          </div>\n                          {report.fileSize && (\n                            <div>\n                              <span className=\"text-muted-foreground\">Size:</span>{\" \"}\n                              {report.fileSize}\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                      \n                      <div className=\"flex items-center gap-2\">\n                        {report.status === \"ready\" && (\n                          <Button variant=\"outline\" size=\"sm\" data-testid={`button-download-report-${report.id}`}>\n                            <Download className=\"w-4 h-4 mr-2\" />\n                            Download\n                          </Button>\n                        )}\n                        <DropdownMenu>\n                          <DropdownMenuTrigger asChild>\n                            <Button variant=\"ghost\" size=\"icon\" data-testid={`button-report-menu-${report.id}`}>\n                              <FileText className=\"h-4 w-4\" />\n                            </Button>\n                          </DropdownMenuTrigger>\n                          <DropdownMenuContent align=\"end\">\n                            <DropdownMenuLabel>Actions</DropdownMenuLabel>\n                            <DropdownMenuItem data-testid={`button-view-report-${report.id}`}>\n                              <Eye className=\"w-4 h-4 mr-2\" />\n                              View Details\n                            </DropdownMenuItem>\n                            <DropdownMenuItem data-testid={`button-regenerate-report-${report.id}`}>\n                              <RefreshCw className=\"w-4 h-4 mr-2\" />\n                              Regenerate\n                            </DropdownMenuItem>\n                            <DropdownMenuSeparator />\n                            <DropdownMenuItem className=\"text-destructive\" data-testid={`button-delete-report-${report.id}`}>\n                              <Trash2 className=\"w-4 h-4 mr-2\" />\n                              Delete\n                            </DropdownMenuItem>\n                          </DropdownMenuContent>\n                        </DropdownMenu>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"settings\" className=\"space-y-4\">\n          <Card data-testid=\"card-audit-settings\">\n            <CardHeader>\n              <CardTitle>Audit Settings</CardTitle>\n              <CardDescription>\n                Configure logging, retention, and alert policies\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              <div className=\"space-y-4\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"retention-period\">Log Retention Period (days)</Label>\n                    <Input\n                      id=\"retention-period\"\n                      type=\"number\"\n                      min=\"30\"\n                      max=\"2555\"\n                      value={data.settings.retentionPeriod}\n                      onChange={(e) => \n                        updateAuditData({\n                          settings: { \n                            ...data.settings, \n                            retentionPeriod: parseInt(e.target.value) || 365 \n                          }\n                        })\n                      }\n                      data-testid=\"input-retention-period\"\n                    />\n                  </div>\n                  \n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"max-export-records\">Max Export Records</Label>\n                    <Input\n                      id=\"max-export-records\"\n                      type=\"number\"\n                      min=\"1000\"\n                      max=\"1000000\"\n                      value={data.settings.export.maxRecords}\n                      onChange={(e) => \n                        updateAuditData({\n                          settings: { \n                            ...data.settings, \n                            export: {\n                              ...data.settings.export,\n                              maxRecords: parseInt(e.target.value) || 50000\n                            }\n                          }\n                        })\n                      }\n                      data-testid=\"input-max-export-records\"\n                    />\n                  </div>\n                </div>\n\n                <Separator />\n\n                <div className=\"space-y-4\">\n                  <h4 className=\"font-medium\">Alert Thresholds</h4>\n                  \n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"failed-logins-threshold\">Failed Logins</Label>\n                      <Input\n                        id=\"failed-logins-threshold\"\n                        type=\"number\"\n                        min=\"3\"\n                        max=\"20\"\n                        value={data.settings.alertThresholds.failedLogins}\n                        onChange={(e) => \n                          updateAuditData({\n                            settings: { \n                              ...data.settings, \n                              alertThresholds: {\n                                ...data.settings.alertThresholds,\n                                failedLogins: parseInt(e.target.value) || 5\n                              }\n                            }\n                          })\n                        }\n                        data-testid=\"input-failed-logins-threshold\"\n                      />\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"suspicious-activity-threshold\">Suspicious Activity</Label>\n                      <Input\n                        id=\"suspicious-activity-threshold\"\n                        type=\"number\"\n                        min=\"1\"\n                        max=\"10\"\n                        value={data.settings.alertThresholds.suspiciousActivity}\n                        onChange={(e) => \n                          updateAuditData({\n                            settings: { \n                              ...data.settings, \n                              alertThresholds: {\n                                ...data.settings.alertThresholds,\n                                suspiciousActivity: parseInt(e.target.value) || 3\n                              }\n                            }\n                          })\n                        }\n                        data-testid=\"input-suspicious-activity-threshold\"\n                      />\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"data-access-threshold\">Data Access Events</Label>\n                      <Input\n                        id=\"data-access-threshold\"\n                        type=\"number\"\n                        min=\"5\"\n                        max=\"50\"\n                        value={data.settings.alertThresholds.dataAccess}\n                        onChange={(e) => \n                          updateAuditData({\n                            settings: { \n                              ...data.settings, \n                              alertThresholds: {\n                                ...data.settings.alertThresholds,\n                                dataAccess: parseInt(e.target.value) || 10\n                              }\n                            }\n                          })\n                        }\n                        data-testid=\"input-data-access-threshold\"\n                      />\n                    </div>\n                  </div>\n                </div>\n\n                <Separator />\n\n                <div className=\"space-y-4\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"space-y-0.5\">\n                      <Label className=\"text-sm font-medium\">Real-time Alerts</Label>\n                      <p className=\"text-xs text-muted-foreground\">\n                        Send immediate notifications for security events\n                      </p>\n                    </div>\n                    <Switch\n                      checked={data.settings.enableRealTimeAlerts}\n                      onCheckedChange={(enableRealTimeAlerts) => \n                        updateAuditData({\n                          settings: { ...data.settings, enableRealTimeAlerts }\n                        })\n                      }\n                      data-testid=\"switch-real-time-alerts\"\n                    />\n                  </div>\n\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"space-y-0.5\">\n                      <Label className=\"text-sm font-medium\">Automatic Reports</Label>\n                      <p className=\"text-xs text-muted-foreground\">\n                        Generate periodic compliance reports automatically\n                      </p>\n                    </div>\n                    <Switch\n                      checked={data.settings.automaticReports.enabled}\n                      onCheckedChange={(enabled) => \n                        updateAuditData({\n                          settings: { \n                            ...data.settings, \n                            automaticReports: {\n                              ...data.settings.automaticReports,\n                              enabled\n                            }\n                          }\n                        })\n                      }\n                      data-testid=\"switch-automatic-reports\"\n                    />\n                  </div>\n\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"space-y-0.5\">\n                      <Label className=\"text-sm font-medium\">Export Encryption</Label>\n                      <p className=\"text-xs text-muted-foreground\">\n                        Encrypt exported audit data files\n                      </p>\n                    </div>\n                    <Switch\n                      checked={data.settings.export.encryption}\n                      onCheckedChange={(encryption) => \n                        updateAuditData({\n                          settings: { \n                            ...data.settings, \n                            export: {\n                              ...data.settings.export,\n                              encryption\n                            }\n                          }\n                        })\n                      }\n                      data-testid=\"switch-export-encryption\"\n                    />\n                  </div>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n\n      {/* Log Detail Dialog */}\n      {selectedLog && (\n        <Dialog open={!!selectedLog} onOpenChange={() => setSelectedLog(null)}>\n          <DialogContent className=\"max-w-4xl max-h-[80vh] overflow-y-auto\" data-testid=\"dialog-log-details\">\n            <DialogHeader>\n              <DialogTitle>Activity Log Details</DialogTitle>\n              <DialogDescription>\n                Detailed information about the selected log entry\n              </DialogDescription>\n            </DialogHeader>\n            \n            {(() => {\n              const log = data.logs.find(l => l.id === selectedLog);\n              if (!log) return null;\n              \n              return (\n                <div className=\"space-y-4\">\n                  <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                    <div>\n                      <span className=\"font-medium\">Timestamp:</span>{\" \"}\n                      {log.timestamp.toLocaleString()}\n                    </div>\n                    <div>\n                      <span className=\"font-medium\">User:</span>{\" \"}\n                      {log.userName} ({log.userEmail})\n                    </div>\n                    <div>\n                      <span className=\"font-medium\">Action:</span>{\" \"}\n                      {log.action}\n                    </div>\n                    <div>\n                      <span className=\"font-medium\">Resource:</span>{\" \"}\n                      {log.resource}\n                    </div>\n                    <div>\n                      <span className=\"font-medium\">IP Address:</span>{\" \"}\n                      {log.ipAddress}\n                    </div>\n                    <div>\n                      <span className=\"font-medium\">Location:</span>{\" \"}\n                      {log.location || \"Unknown\"}\n                    </div>\n                  </div>\n                  \n                  <Separator />\n                  \n                  <div>\n                    <h4 className=\"font-medium mb-2\">Description</h4>\n                    <p className=\"text-sm text-muted-foreground\">{log.description}</p>\n                  </div>\n                  \n                  {log.details && Object.keys(log.details).length > 0 && (\n                    <>\n                      <Separator />\n                      <div>\n                        <h4 className=\"font-medium mb-2\">Details</h4>\n                        <pre className=\"bg-muted p-3 rounded text-xs overflow-x-auto\">\n                          {JSON.stringify(log.details, null, 2)}\n                        </pre>\n                      </div>\n                    </>\n                  )}\n                  \n                  {log.changes && (\n                    <>\n                      <Separator />\n                      <div>\n                        <h4 className=\"font-medium mb-2\">Changes</h4>\n                        <div className=\"grid grid-cols-2 gap-4\">\n                          <div>\n                            <p className=\"text-sm font-medium text-red-600 mb-1\">Before</p>\n                            <pre className=\"bg-red-50 dark:bg-red-950 p-2 rounded text-xs\">\n                              {JSON.stringify(log.changes.before, null, 2)}\n                            </pre>\n                          </div>\n                          <div>\n                            <p className=\"text-sm font-medium text-green-600 mb-1\">After</p>\n                            <pre className=\"bg-green-50 dark:bg-green-950 p-2 rounded text-xs\">\n                              {JSON.stringify(log.changes.after, null, 2)}\n                            </pre>\n                          </div>\n                        </div>\n                      </div>\n                    </>\n                  )}\n                </div>\n              );\n            })()}\n          </DialogContent>\n        </Dialog>\n      )}\n    </div>\n  );\n}","size_bytes":48335},"client/src/components/tabs/ConfigTab.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Label } from \"@/components/ui/label\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Slider } from \"@/components/ui/slider\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Input } from \"@/components/ui/input\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { \n  Settings, \n  Brain, \n  Shield, \n  MessageSquare, \n  Search, \n  Clock,\n  User,\n  Globe,\n  Lock,\n  AlertTriangle,\n  Info\n} from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\n\ninterface ConfigData {\n  // RAG Settings\n  ragModel: string;\n  temperature: number;\n  maxTokens: number;\n  topK: number;\n  topP: number;\n  contextWindow: number;\n  retrievalCount: number;\n  similarityThreshold: number;\n  \n  // Behavior Settings\n  enableChat: boolean;\n  enableSearch: boolean;\n  enableSuggestions: boolean;\n  enableCitations: boolean;\n  enableFollowUps: boolean;\n  \n  // Response Behavior\n  responseMode: \"precise\" | \"balanced\" | \"creative\";\n  fallbackResponse: string;\n  maxResponseLength: number;\n  enableStreaming: boolean;\n  \n  // Privacy & Security\n  logConversations: boolean;\n  retainData: boolean;\n  dataRetentionDays: number;\n  allowAnonymous: boolean;\n  requireAuth: boolean;\n  allowedDomains: string[];\n  \n  // Rate Limiting\n  rateLimitPerUser: number;\n  rateLimitWindow: number; // minutes\n  \n  // Content Filtering\n  enableProfanityFilter: boolean;\n  contentModerationLevel: \"strict\" | \"moderate\" | \"relaxed\";\n  blockedTerms: string[];\n}\n\ninterface ConfigTabProps {\n  data: ConfigData;\n  onChange: (data: ConfigData) => void;\n}\n\nexport default function ConfigTab({ data, onChange }: ConfigTabProps) {\n  const [config, setConfig] = useState<ConfigData>(data);\n  const [newBlockedTerm, setNewBlockedTerm] = useState(\"\");\n  const { toast } = useToast();\n\n  // Sync local state when parent data changes (for edit mode)\n  useEffect(() => {\n    setConfig(data);\n  }, [data]);\n\n  // Update parent state when config changes\n  useEffect(() => {\n    onChange(config);\n  }, [config, onChange]);\n\n  const updateConfig = (updates: Partial<ConfigData>) => {\n    setConfig(prev => ({ ...prev, ...updates }));\n  };\n\n  const addBlockedTerm = () => {\n    if (!newBlockedTerm.trim()) return;\n    \n    updateConfig({\n      blockedTerms: [...config.blockedTerms, newBlockedTerm.trim()]\n    });\n    setNewBlockedTerm(\"\");\n    \n    toast({\n      title: \"Term added\",\n      description: \"Blocked term has been added to the filter list\",\n    });\n  };\n\n  const removeBlockedTerm = (term: string) => {\n    updateConfig({\n      blockedTerms: config.blockedTerms.filter(t => t !== term)\n    });\n    \n    toast({\n      title: \"Term removed\",\n      description: \"Blocked term has been removed from the filter list\",\n    });\n  };\n\n  const resetToDefaults = () => {\n    const defaultConfig: ConfigData = {\n      // RAG Settings\n      ragModel: \"gpt-4-turbo\",\n      temperature: 0.7,\n      maxTokens: 2048,\n      topK: 40,\n      topP: 0.9,\n      contextWindow: 16000,\n      retrievalCount: 5,\n      similarityThreshold: 0.75,\n      \n      // Behavior Settings\n      enableChat: true,\n      enableSearch: true,\n      enableSuggestions: true,\n      enableCitations: true,\n      enableFollowUps: true,\n      \n      // Response Behavior\n      responseMode: \"balanced\",\n      fallbackResponse: \"I apologize, but I don't have enough information to answer that question accurately. Please try rephrasing your question or contact support for additional help.\",\n      maxResponseLength: 1000,\n      enableStreaming: true,\n      \n      // Privacy & Security\n      logConversations: true,\n      retainData: true,\n      dataRetentionDays: 90,\n      allowAnonymous: true,\n      requireAuth: false,\n      allowedDomains: [],\n      \n      // Rate Limiting\n      rateLimitPerUser: 100,\n      rateLimitWindow: 60,\n      \n      // Content Filtering\n      enableProfanityFilter: true,\n      contentModerationLevel: \"moderate\",\n      blockedTerms: [],\n    };\n    \n    setConfig(defaultConfig);\n    toast({\n      title: \"Settings reset\",\n      description: \"All configuration settings have been reset to defaults\",\n    });\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header Actions */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <Settings className=\"h-5 w-5 text-muted-foreground\" />\n          <h2 className=\"text-lg font-semibold\">Configuration Settings</h2>\n        </div>\n        <Button \n          variant=\"outline\" \n          onClick={resetToDefaults}\n          data-testid=\"button-reset-config\"\n        >\n          Reset to Defaults\n        </Button>\n      </div>\n\n      {/* RAG Model Configuration */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Brain className=\"h-5 w-5\" />\n            RAG Model Settings\n          </CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"rag-model\">AI Model</Label>\n              <Select \n                value={config.ragModel} \n                onValueChange={(value) => updateConfig({ ragModel: value })}\n              >\n                <SelectTrigger id=\"rag-model\" data-testid=\"select-rag-model\">\n                  <SelectValue placeholder=\"Select model\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"gpt-4-turbo\">GPT-4 Turbo</SelectItem>\n                  <SelectItem value=\"gpt-4\">GPT-4</SelectItem>\n                  <SelectItem value=\"gpt-3.5-turbo\">GPT-3.5 Turbo</SelectItem>\n                  <SelectItem value=\"claude-3-opus\">Claude 3 Opus</SelectItem>\n                  <SelectItem value=\"claude-3-sonnet\">Claude 3 Sonnet</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"context-window\">Context Window</Label>\n              <Select \n                value={config.contextWindow.toString()} \n                onValueChange={(value) => updateConfig({ contextWindow: parseInt(value) })}\n              >\n                <SelectTrigger id=\"context-window\" data-testid=\"select-context-window\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"4000\">4K tokens</SelectItem>\n                  <SelectItem value=\"8000\">8K tokens</SelectItem>\n                  <SelectItem value=\"16000\">16K tokens</SelectItem>\n                  <SelectItem value=\"32000\">32K tokens</SelectItem>\n                  <SelectItem value=\"128000\">128K tokens</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div className=\"space-y-3\">\n              <div className=\"flex items-center justify-between\">\n                <Label>Temperature</Label>\n                <Badge variant=\"secondary\" data-testid=\"badge-temperature\">{config.temperature}</Badge>\n              </div>\n              <Slider\n                value={[config.temperature]}\n                onValueChange={(value) => updateConfig({ temperature: value[0] })}\n                max={2}\n                min={0}\n                step={0.1}\n                data-testid=\"slider-temperature\"\n              />\n              <p className=\"text-sm text-muted-foreground\">\n                Controls randomness. Lower = more focused, Higher = more creative\n              </p>\n            </div>\n\n            <div className=\"space-y-3\">\n              <div className=\"flex items-center justify-between\">\n                <Label>Max Tokens</Label>\n                <Badge variant=\"secondary\" data-testid=\"badge-max-tokens\">{config.maxTokens}</Badge>\n              </div>\n              <Slider\n                value={[config.maxTokens]}\n                onValueChange={(value) => updateConfig({ maxTokens: value[0] })}\n                max={4096}\n                min={256}\n                step={256}\n                data-testid=\"slider-max-tokens\"\n              />\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n            <div className=\"space-y-3\">\n              <div className=\"flex items-center justify-between\">\n                <Label>Retrieval Count</Label>\n                <Badge variant=\"secondary\" data-testid=\"badge-retrieval-count\">{config.retrievalCount}</Badge>\n              </div>\n              <Slider\n                value={[config.retrievalCount]}\n                onValueChange={(value) => updateConfig({ retrievalCount: value[0] })}\n                max={20}\n                min={1}\n                step={1}\n                data-testid=\"slider-retrieval-count\"\n              />\n            </div>\n\n            <div className=\"space-y-3\">\n              <div className=\"flex items-center justify-between\">\n                <Label>Top K</Label>\n                <Badge variant=\"secondary\" data-testid=\"badge-top-k\">{config.topK}</Badge>\n              </div>\n              <Slider\n                value={[config.topK]}\n                onValueChange={(value) => updateConfig({ topK: value[0] })}\n                max={100}\n                min={1}\n                step={1}\n                data-testid=\"slider-top-k\"\n              />\n            </div>\n\n            <div className=\"space-y-3\">\n              <div className=\"flex items-center justify-between\">\n                <Label>Similarity Threshold</Label>\n                <Badge variant=\"secondary\" data-testid=\"badge-similarity\">{config.similarityThreshold}</Badge>\n              </div>\n              <Slider\n                value={[config.similarityThreshold]}\n                onValueChange={(value) => updateConfig({ similarityThreshold: value[0] })}\n                max={1}\n                min={0}\n                step={0.05}\n                data-testid=\"slider-similarity\"\n              />\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Behavior Settings */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <MessageSquare className=\"h-5 w-5\" />\n            Behavior Settings\n          </CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"space-y-0.5\">\n                  <Label htmlFor=\"enable-chat\">Enable Chat Interface</Label>\n                  <p className=\"text-sm text-muted-foreground\">Allow users to have conversations</p>\n                </div>\n                <Switch\n                  id=\"enable-chat\"\n                  checked={config.enableChat}\n                  onCheckedChange={(checked) => updateConfig({ enableChat: checked })}\n                  data-testid=\"switch-enable-chat\"\n                />\n              </div>\n\n              <div className=\"flex items-center justify-between\">\n                <div className=\"space-y-0.5\">\n                  <Label htmlFor=\"enable-search\">Enable Search Interface</Label>\n                  <p className=\"text-sm text-muted-foreground\">Allow direct search queries</p>\n                </div>\n                <Switch\n                  id=\"enable-search\"\n                  checked={config.enableSearch}\n                  onCheckedChange={(checked) => updateConfig({ enableSearch: checked })}\n                  data-testid=\"switch-enable-search\"\n                />\n              </div>\n\n              <div className=\"flex items-center justify-between\">\n                <div className=\"space-y-0.5\">\n                  <Label htmlFor=\"enable-citations\">Show Citations</Label>\n                  <p className=\"text-sm text-muted-foreground\">Display source references</p>\n                </div>\n                <Switch\n                  id=\"enable-citations\"\n                  checked={config.enableCitations}\n                  onCheckedChange={(checked) => updateConfig({ enableCitations: checked })}\n                  data-testid=\"switch-enable-citations\"\n                />\n              </div>\n            </div>\n\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"space-y-0.5\">\n                  <Label htmlFor=\"enable-suggestions\">Auto Suggestions</Label>\n                  <p className=\"text-sm text-muted-foreground\">Suggest related questions</p>\n                </div>\n                <Switch\n                  id=\"enable-suggestions\"\n                  checked={config.enableSuggestions}\n                  onCheckedChange={(checked) => updateConfig({ enableSuggestions: checked })}\n                  data-testid=\"switch-enable-suggestions\"\n                />\n              </div>\n\n              <div className=\"flex items-center justify-between\">\n                <div className=\"space-y-0.5\">\n                  <Label htmlFor=\"enable-followups\">Follow-up Questions</Label>\n                  <p className=\"text-sm text-muted-foreground\">Generate conversation starters</p>\n                </div>\n                <Switch\n                  id=\"enable-followups\"\n                  checked={config.enableFollowUps}\n                  onCheckedChange={(checked) => updateConfig({ enableFollowUps: checked })}\n                  data-testid=\"switch-enable-followups\"\n                />\n              </div>\n\n              <div className=\"flex items-center justify-between\">\n                <div className=\"space-y-0.5\">\n                  <Label htmlFor=\"enable-streaming\">Streaming Responses</Label>\n                  <p className=\"text-sm text-muted-foreground\">Stream responses as they generate</p>\n                </div>\n                <Switch\n                  id=\"enable-streaming\"\n                  checked={config.enableStreaming}\n                  onCheckedChange={(checked) => updateConfig({ enableStreaming: checked })}\n                  data-testid=\"switch-enable-streaming\"\n                />\n              </div>\n            </div>\n          </div>\n\n          <Separator />\n\n          <div className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"response-mode\">Response Mode</Label>\n                <Select \n                  value={config.responseMode} \n                  onValueChange={(value: \"precise\" | \"balanced\" | \"creative\") => updateConfig({ responseMode: value })}\n                >\n                  <SelectTrigger id=\"response-mode\" data-testid=\"select-response-mode\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"precise\">Precise - Focus on accuracy</SelectItem>\n                    <SelectItem value=\"balanced\">Balanced - Mix of accuracy and creativity</SelectItem>\n                    <SelectItem value=\"creative\">Creative - More conversational</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n\n              <div className=\"space-y-3\">\n                <div className=\"flex items-center justify-between\">\n                  <Label>Max Response Length</Label>\n                  <Badge variant=\"secondary\" data-testid=\"badge-response-length\">{config.maxResponseLength} chars</Badge>\n                </div>\n                <Slider\n                  value={[config.maxResponseLength]}\n                  onValueChange={(value) => updateConfig({ maxResponseLength: value[0] })}\n                  max={3000}\n                  min={100}\n                  step={100}\n                  data-testid=\"slider-response-length\"\n                />\n              </div>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"fallback-response\">Fallback Response</Label>\n              <Textarea\n                id=\"fallback-response\"\n                value={config.fallbackResponse}\n                onChange={(e) => updateConfig({ fallbackResponse: e.target.value })}\n                placeholder=\"Message shown when AI cannot answer\"\n                rows={3}\n                data-testid=\"textarea-fallback-response\"\n              />\n              <p className=\"text-sm text-muted-foreground\">\n                This message is shown when the AI cannot find relevant information\n              </p>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Privacy & Security */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Shield className=\"h-5 w-5\" />\n            Privacy & Security\n          </CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"space-y-0.5\">\n                  <Label htmlFor=\"log-conversations\">Log Conversations</Label>\n                  <p className=\"text-sm text-muted-foreground\">Store chat history for analytics</p>\n                </div>\n                <Switch\n                  id=\"log-conversations\"\n                  checked={config.logConversations}\n                  onCheckedChange={(checked) => updateConfig({ logConversations: checked })}\n                  data-testid=\"switch-log-conversations\"\n                />\n              </div>\n\n              <div className=\"flex items-center justify-between\">\n                <div className=\"space-y-0.5\">\n                  <Label htmlFor=\"retain-data\">Retain User Data</Label>\n                  <p className=\"text-sm text-muted-foreground\">Keep data for specified period</p>\n                </div>\n                <Switch\n                  id=\"retain-data\"\n                  checked={config.retainData}\n                  onCheckedChange={(checked) => updateConfig({ retainData: checked })}\n                  data-testid=\"switch-retain-data\"\n                />\n              </div>\n\n              <div className=\"flex items-center justify-between\">\n                <div className=\"space-y-0.5\">\n                  <Label htmlFor=\"allow-anonymous\">Allow Anonymous Users</Label>\n                  <p className=\"text-sm text-muted-foreground\">No login required</p>\n                </div>\n                <Switch\n                  id=\"allow-anonymous\"\n                  checked={config.allowAnonymous}\n                  onCheckedChange={(checked) => updateConfig({ allowAnonymous: checked })}\n                  data-testid=\"switch-allow-anonymous\"\n                />\n              </div>\n            </div>\n\n            <div className=\"space-y-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"data-retention\">Data Retention (days)</Label>\n                <Input\n                  id=\"data-retention\"\n                  type=\"number\"\n                  value={config.dataRetentionDays}\n                  onChange={(e) => updateConfig({ dataRetentionDays: parseInt(e.target.value) || 0 })}\n                  disabled={!config.retainData}\n                  data-testid=\"input-data-retention\"\n                />\n              </div>\n\n              <div className=\"space-y-3\">\n                <div className=\"flex items-center justify-between\">\n                  <Label>Rate Limit (per user/hour)</Label>\n                  <Badge variant=\"secondary\" data-testid=\"badge-rate-limit\">{config.rateLimitPerUser}</Badge>\n                </div>\n                <Slider\n                  value={[config.rateLimitPerUser]}\n                  onValueChange={(value) => updateConfig({ rateLimitPerUser: value[0] })}\n                  max={1000}\n                  min={10}\n                  step={10}\n                  data-testid=\"slider-rate-limit\"\n                />\n              </div>\n            </div>\n          </div>\n\n          {!config.allowAnonymous && (\n            <Alert>\n              <Info className=\"h-4 w-4\" />\n              <AlertDescription>\n                Anonymous access is disabled. Users will need to authenticate before using the chat.\n              </AlertDescription>\n            </Alert>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Content Filtering */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Lock className=\"h-5 w-5\" />\n            Content Filtering\n          </CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"space-y-0.5\">\n                  <Label htmlFor=\"profanity-filter\">Profanity Filter</Label>\n                  <p className=\"text-sm text-muted-foreground\">Block inappropriate language</p>\n                </div>\n                <Switch\n                  id=\"profanity-filter\"\n                  checked={config.enableProfanityFilter}\n                  onCheckedChange={(checked) => updateConfig({ enableProfanityFilter: checked })}\n                  data-testid=\"switch-profanity-filter\"\n                />\n              </div>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"moderation-level\">Content Moderation Level</Label>\n              <Select \n                value={config.contentModerationLevel} \n                onValueChange={(value: \"strict\" | \"moderate\" | \"relaxed\") => updateConfig({ contentModerationLevel: value })}\n              >\n                <SelectTrigger id=\"moderation-level\" data-testid=\"select-moderation-level\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"strict\">Strict - Block all potentially harmful content</SelectItem>\n                  <SelectItem value=\"moderate\">Moderate - Block clearly inappropriate content</SelectItem>\n                  <SelectItem value=\"relaxed\">Relaxed - Minimal content filtering</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n\n          <div className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"blocked-terms\">Blocked Terms</Label>\n              <div className=\"flex gap-2\">\n                <Input\n                  id=\"blocked-terms\"\n                  value={newBlockedTerm}\n                  onChange={(e) => setNewBlockedTerm(e.target.value)}\n                  placeholder=\"Add term to block\"\n                  data-testid=\"input-blocked-term\"\n                />\n                <Button \n                  onClick={addBlockedTerm}\n                  disabled={!newBlockedTerm.trim()}\n                  data-testid=\"button-add-blocked-term\"\n                >\n                  Add\n                </Button>\n              </div>\n            </div>\n\n            {config.blockedTerms.length > 0 && (\n              <div className=\"space-y-2\">\n                <Label>Current Blocked Terms</Label>\n                <div className=\"flex flex-wrap gap-2\">\n                  {config.blockedTerms.map((term, index) => (\n                    <Badge\n                      key={index}\n                      variant=\"secondary\"\n                      className=\"cursor-pointer hover-elevate\"\n                      onClick={() => removeBlockedTerm(term)}\n                      data-testid={`badge-blocked-term-${index}`}\n                    >\n                      {term} ✕\n                    </Badge>\n                  ))}\n                </div>\n                <p className=\"text-sm text-muted-foreground\">\n                  Click on a term to remove it\n                </p>\n              </div>\n            )}\n          </div>\n\n          {config.enableProfanityFilter && (\n            <Alert>\n              <AlertTriangle className=\"h-4 w-4\" />\n              <AlertDescription>\n                Profanity filtering is enabled. Messages containing inappropriate content will be blocked.\n              </AlertDescription>\n            </Alert>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}","size_bytes":24845},"client/src/components/tabs/DomainsTab.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/components/ui/dialog\";\nimport { \n  Plus, \n  Trash2, \n  Globe, \n  Copy, \n  AlertTriangle,\n  ExternalLink,\n  Shield\n} from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\n\ninterface IntegrationDomain {\n  id: string;\n  origin: string;\n  cspHelper: string;\n  addedAt: Date;\n}\n\ninterface DomainsTabProps {\n  data: {\n    domains: IntegrationDomain[];\n  };\n  onChange: (data: any) => void;\n}\n\nconst DOMAIN_EXAMPLES = [\n  \"https://example.com\",\n  \"https://app.example.com\", \n  \"https://docs.example.com\",\n  \"http://localhost:3000\",\n  \"https://*.example.com\", // Wildcard subdomain\n];\n\nexport default function DomainsTab({ data, onChange }: DomainsTabProps) {\n  const [domains, setDomains] = useState<IntegrationDomain[]>(data.domains || []);\n  const [addDomainOpen, setAddDomainOpen] = useState(false);\n  const [newDomain, setNewDomain] = useState(\"\");\n  const [domainError, setDomainError] = useState(\"\");\n  const { toast } = useToast();\n\n  // Update parent state when domains change\n  useEffect(() => {\n    onChange({ domains });\n  }, [domains, onChange]);\n\n  const validateDomain = (domain: string): string | null => {\n    if (!domain.trim()) {\n      return \"Domain is required\";\n    }\n\n    // Check if it's a valid URL or wildcard domain\n    const domainPattern = /^(https?:\\/\\/)?([\\w-]+(\\.[\\w-]+)*|\\*\\.[\\w-]+(\\.[\\w-]+)*)(:\\d+)?(\\/.*)?$/;\n    if (!domainPattern.test(domain)) {\n      return \"Please enter a valid domain (e.g., https://example.com)\";\n    }\n\n    // Check for duplicates\n    if (domains.some(d => d.origin === domain)) {\n      return \"This domain is already in the allowlist\";\n    }\n\n    return null;\n  };\n\n  const handleAddDomain = () => {\n    const error = validateDomain(newDomain);\n    if (error) {\n      setDomainError(error);\n      return;\n    }\n\n    // Normalize domain format\n    let normalizedDomain = newDomain.trim();\n    if (!normalizedDomain.startsWith(\"http://\") && !normalizedDomain.startsWith(\"https://\")) {\n      normalizedDomain = \"https://\" + normalizedDomain;\n    }\n\n    const newDomainObj: IntegrationDomain = {\n      id: `domain-${Date.now()}`,\n      origin: normalizedDomain,\n      cspHelper: normalizedDomain,\n      addedAt: new Date(),\n    };\n\n    const updatedDomains = [...domains, newDomainObj];\n    setDomains(updatedDomains);\n    onChange({ domains: updatedDomains });\n    \n    setNewDomain(\"\");\n    setDomainError(\"\");\n    setAddDomainOpen(false);\n    \n    toast({\n      title: \"Domain Added\",\n      description: `${normalizedDomain} has been added to the allowlist`,\n    });\n  };\n\n  const handleRemoveDomain = (domainId: string) => {\n    const domain = domains.find(d => d.id === domainId);\n    const updatedDomains = domains.filter(d => d.id !== domainId);\n    setDomains(updatedDomains);\n    onChange({ domains: updatedDomains });\n    \n    toast({\n      title: \"Domain Removed\",\n      description: `${domain?.origin} has been removed from the allowlist`,\n    });\n  };\n\n  const handleCopyCSP = (cspHelper: string) => {\n    navigator.clipboard.writeText(cspHelper);\n    toast({\n      title: \"Copied!\",\n      description: \"CSP directive copied to clipboard\",\n    });\n  };\n\n  const handleExampleClick = (example: string) => {\n    setNewDomain(example);\n    setDomainError(\"\");\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Domain Allowlist Section */}\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center justify-between\">\n            <CardTitle className=\"flex items-center gap-2\">\n              <Globe className=\"h-5 w-5\" />\n              Domain Allowlist\n            </CardTitle>\n            <Dialog open={addDomainOpen} onOpenChange={setAddDomainOpen}>\n              <DialogTrigger asChild>\n                <Button data-testid=\"button-add-domain\">\n                  <Plus className=\"h-4 w-4 mr-2\" />\n                  Add Domain\n                </Button>\n              </DialogTrigger>\n              <DialogContent className=\"max-w-lg\">\n                <DialogHeader>\n                  <DialogTitle>Add Domain to Allowlist</DialogTitle>\n                  <DialogDescription>\n                    Add a domain where your widget will be allowed to load\n                  </DialogDescription>\n                </DialogHeader>\n                <div className=\"space-y-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"domain-input\">Domain or Origin *</Label>\n                    <Input\n                      id=\"domain-input\"\n                      value={newDomain}\n                      onChange={(e) => {\n                        setNewDomain(e.target.value);\n                        setDomainError(\"\");\n                      }}\n                      placeholder=\"https://example.com\"\n                      data-testid=\"input-domain\"\n                    />\n                    {domainError && (\n                      <p className=\"text-sm text-red-600\">{domainError}</p>\n                    )}\n                  </div>\n                  \n                  <div className=\"space-y-2\">\n                    <Label>Examples</Label>\n                    <div className=\"flex flex-wrap gap-2\">\n                      {DOMAIN_EXAMPLES.map((example, index) => (\n                        <Button\n                          key={index}\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={() => handleExampleClick(example)}\n                          data-testid={`button-example-${index}`}\n                          className=\"text-xs\"\n                        >\n                          {example}\n                        </Button>\n                      ))}\n                    </div>\n                  </div>\n\n                  <Alert>\n                    <Shield className=\"h-4 w-4\" />\n                    <AlertDescription>\n                      Only domains in this allowlist will be able to load your widget. \n                      Use wildcards (*.example.com) for subdomains.\n                    </AlertDescription>\n                  </Alert>\n                </div>\n                <DialogFooter>\n                  <Button\n                    variant=\"outline\"\n                    onClick={() => {\n                      setAddDomainOpen(false);\n                      setNewDomain(\"\");\n                      setDomainError(\"\");\n                    }}\n                  >\n                    Cancel\n                  </Button>\n                  <Button\n                    onClick={handleAddDomain}\n                    disabled={!newDomain.trim()}\n                    data-testid=\"button-confirm-add-domain\"\n                  >\n                    Add Domain\n                  </Button>\n                </DialogFooter>\n              </DialogContent>\n            </Dialog>\n          </div>\n        </CardHeader>\n        <CardContent>\n          {domains.length === 0 ? (\n            <Alert className=\"border-yellow-200 bg-yellow-50\">\n              <AlertTriangle className=\"h-4 w-4 text-yellow-600\" />\n              <AlertDescription className=\"text-yellow-800\">\n                <strong>Warning:</strong> No domains configured. Your widget will not load on any website. \n                Add at least one domain to enable your integration.\n              </AlertDescription>\n            </Alert>\n          ) : (\n            <Table>\n              <TableHeader>\n                <TableRow>\n                  <TableHead>Origin</TableHead>\n                  <TableHead>CSP Helper</TableHead>\n                  <TableHead>Added On</TableHead>\n                  <TableHead className=\"w-[100px]\">Actions</TableHead>\n                </TableRow>\n              </TableHeader>\n              <TableBody>\n                {domains.map((domain) => (\n                  <TableRow key={domain.id} data-testid={`row-domain-${domain.id}`}>\n                    <TableCell>\n                      <div className=\"flex items-center gap-2\">\n                        <code className=\"text-sm bg-muted px-2 py-1 rounded\">\n                          {domain.origin}\n                        </code>\n                        <Button\n                          variant=\"ghost\"\n                          size=\"icon\"\n                          className=\"h-6 w-6\"\n                          onClick={() => window.open(domain.origin, '_blank')}\n                          data-testid={`button-visit-${domain.id}`}\n                        >\n                          <ExternalLink className=\"h-3 w-3\" />\n                        </Button>\n                      </div>\n                    </TableCell>\n                    <TableCell>\n                      <div className=\"flex items-center gap-2\">\n                        <code className=\"text-xs text-muted-foreground\">\n                          {domain.cspHelper}\n                        </code>\n                        <Button\n                          variant=\"ghost\"\n                          size=\"icon\"\n                          className=\"h-6 w-6\"\n                          onClick={() => handleCopyCSP(domain.cspHelper)}\n                          data-testid={`button-copy-csp-${domain.id}`}\n                        >\n                          <Copy className=\"h-3 w-3\" />\n                        </Button>\n                      </div>\n                    </TableCell>\n                    <TableCell className=\"text-sm text-muted-foreground\">\n                      {new Intl.RelativeTimeFormat(\"en\", { numeric: \"auto\" }).format(\n                        Math.floor((domain.addedAt.getTime() - Date.now()) / (1000 * 60 * 60 * 24)),\n                        \"day\"\n                      )}\n                    </TableCell>\n                    <TableCell>\n                      <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        onClick={() => handleRemoveDomain(domain.id)}\n                        data-testid={`button-remove-${domain.id}`}\n                        className=\"h-8 w-8 text-red-600 hover:text-red-700 hover:bg-red-50\"\n                      >\n                        <Trash2 className=\"h-4 w-4\" />\n                      </Button>\n                    </TableCell>\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Security Information */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Shield className=\"h-5 w-5\" />\n            Security & CSP\n          </CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <h4 className=\"font-medium\">Content Security Policy (CSP)</h4>\n            <p className=\"text-sm text-muted-foreground\">\n              If your website uses CSP headers, add these directives to allow the widget to function:\n            </p>\n            <div className=\"bg-muted p-4 rounded-lg\">\n              <code className=\"text-sm\">\n                {`script-src 'self' https://cdn.ragsuite.com;\\n`}\n                {`connect-src 'self' https://api.ragsuite.com;\\n`}\n                {`frame-src 'self' https://widget.ragsuite.com;`}\n              </code>\n            </div>\n          </div>\n          \n          <div className=\"space-y-2\">\n            <h4 className=\"font-medium\">Wildcard Domains</h4>\n            <p className=\"text-sm text-muted-foreground\">\n              Use <code>*.example.com</code> to allow all subdomains of example.com. \n              This includes app.example.com, docs.example.com, etc.\n            </p>\n          </div>\n\n          <div className=\"space-y-2\">\n            <h4 className=\"font-medium\">Local Development</h4>\n            <p className=\"text-sm text-muted-foreground\">\n              Add <code>http://localhost:3000</code> or your local development URL \n              to test the widget during development.\n            </p>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}","size_bytes":12565},"client/src/components/tabs/EmbedKeysTab.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/components/ui/dialog\";\nimport {\n  Tabs,\n  TabsContent,\n  TabsList,\n  TabsTrigger,\n} from \"@/components/ui/tabs\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { \n  Plus, \n  Copy, \n  Eye, \n  EyeOff, \n  RefreshCw, \n  Trash2, \n  MoreHorizontal,\n  Key,\n  Code,\n  Smartphone,\n  Globe\n} from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\n\ninterface IntegrationKey {\n  id: string;\n  label: string;\n  keyPrefix: string;\n  environment: \"staging\" | \"production\";\n  rateLimit: number;\n  expiresAt: Date | null;\n  isActive: boolean;\n  lastUsedAt: Date | null;\n  createdAt: Date;\n}\n\ninterface EmbedKeysTabProps {\n  data: {\n    publicId: string;\n    keys: IntegrationKey[];\n  };\n  onChange: (data: any) => void;\n}\n\nexport default function EmbedKeysTab({ data, onChange }: EmbedKeysTabProps) {\n  const [keys, setKeys] = useState<IntegrationKey[]>(data.keys || []);\n  const [publicId, setPublicId] = useState(data.publicId || \"\");\n  const [createKeyOpen, setCreateKeyOpen] = useState(false);\n  const [showGeneratedKey, setShowGeneratedKey] = useState(false);\n  const [generatedKey, setGeneratedKey] = useState(\"\");\n  const { toast } = useToast();\n\n  // Update parent state when data changes\n  useEffect(() => {\n    onChange({\n      publicId,\n      keys,\n    });\n  }, [publicId, keys, onChange]);\n\n  // Create key form state\n  const [newKeyLabel, setNewKeyLabel] = useState(\"\");\n  const [newKeyEnv, setNewKeyEnv] = useState<\"staging\" | \"production\">(\"staging\");\n  const [newKeyRateLimit, setNewKeyRateLimit] = useState(\"1000\");\n  const [newKeyExpiry, setNewKeyExpiry] = useState(\"\");\n\n  const handleCreateKey = () => {\n    const newKey: IntegrationKey = {\n      id: `key-${Date.now()}`,\n      label: newKeyLabel,\n      keyPrefix: `rag_pk_${newKeyEnv}_${Math.random().toString(36).substr(2, 6)}`,\n      environment: newKeyEnv,\n      rateLimit: parseInt(newKeyRateLimit),\n      expiresAt: newKeyExpiry ? new Date(newKeyExpiry) : null,\n      isActive: true,\n      lastUsedAt: null,\n      createdAt: new Date(),\n    };\n\n    const fullKey = `${newKey.keyPrefix}${Math.random().toString(36).substr(2, 24)}`;\n    setGeneratedKey(fullKey);\n    setShowGeneratedKey(true);\n    setKeys(prev => [...prev, newKey]);\n    \n    // Reset form\n    setNewKeyLabel(\"\");\n    setNewKeyEnv(\"staging\");\n    setNewKeyRateLimit(\"1000\");\n    setNewKeyExpiry(\"\");\n    \n    toast({\n      title: \"API Key Created\",\n      description: \"Your new API key has been generated. Make sure to copy it now.\",\n    });\n  };\n\n  const handleCopyKey = (keyToCopy: string) => {\n    navigator.clipboard.writeText(keyToCopy);\n    toast({\n      title: \"Copied!\",\n      description: \"API key copied to clipboard\",\n    });\n  };\n\n  const handleCopyPublicId = () => {\n    navigator.clipboard.writeText(publicId);\n    toast({\n      title: \"Copied!\",\n      description: \"Public ID copied to clipboard\",\n    });\n  };\n\n  const handleRegeneratePublicId = () => {\n    const newPublicId = `docs-widget-${Math.random().toString(36).substr(2, 6)}`;\n    setPublicId(newPublicId);\n    toast({\n      title: \"Public ID Regenerated\",\n      description: \"A new public ID has been generated\",\n    });\n  };\n\n  const handleRevokeKey = (keyId: string) => {\n    setKeys(prev => prev.map(key => \n      key.id === keyId ? { ...key, isActive: false } : key\n    ));\n    toast({\n      title: \"Key Revoked\",\n      description: \"The API key has been revoked and is no longer active\",\n    });\n  };\n\n  const getEmbedScript = () => {\n    return `<!-- RAG Suite Chat Widget -->\n<script>\n  window.ragSuiteConfig = {\n    publicId: \"${publicId}\",\n    baseUrl: \"https://api.ragsuite.com\"\n  };\n</script>\n<script src=\"https://cdn.ragsuite.com/widget.js\" async></script>`;\n  };\n\n  const getReactCode = () => {\n    return `import { RagSuiteWidget } from '@ragsuite/react';\n\nfunction App() {\n  return (\n    <div>\n      <RagSuiteWidget\n        publicId=\"${publicId}\"\n        baseUrl=\"https://api.ragsuite.com\"\n        // Optional configuration\n        defaultOpen={false}\n        showLauncher={true}\n      />\n    </div>\n  );\n}`;\n  };\n\n  const getWebViewCode = () => {\n    return `// iOS WebView Integration\nimport WebKit\n\nclass ViewController: UIViewController {\n    override func viewDidLoad() {\n        super.viewDidLoad()\n        \n        let webView = WKWebView()\n        let url = URL(string: \"https://widget.ragsuite.com?id=${publicId}\")!\n        webView.load(URLRequest(url: url))\n        \n        view.addSubview(webView)\n        // Add constraints...\n    }\n}`;\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Public ID Section */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Globe className=\"h-5 w-5\" />\n            Public Integration ID\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"flex items-center gap-4\">\n            <div className=\"flex-1\">\n              <Label htmlFor=\"public-id\">Public ID</Label>\n              <div className=\"flex items-center gap-2 mt-2\">\n                <Input\n                  id=\"public-id\"\n                  value={publicId}\n                  readOnly\n                  className=\"font-mono\"\n                  data-testid=\"input-public-id\"\n                />\n                <Button\n                  variant=\"outline\"\n                  size=\"icon\"\n                  onClick={handleCopyPublicId}\n                  data-testid=\"button-copy-public-id\"\n                >\n                  <Copy className=\"h-4 w-4\" />\n                </Button>\n                <Button\n                  variant=\"outline\"\n                  onClick={handleRegeneratePublicId}\n                  data-testid=\"button-regenerate-public-id\"\n                >\n                  <RefreshCw className=\"h-4 w-4 mr-2\" />\n                  Regenerate\n                </Button>\n              </div>\n              <p className=\"text-xs text-muted-foreground mt-1\">\n                This ID is used in embed code and API calls. Regenerating will require updating all implementations.\n              </p>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* API Keys Section */}\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center justify-between\">\n            <CardTitle className=\"flex items-center gap-2\">\n              <Key className=\"h-5 w-5\" />\n              API Keys\n            </CardTitle>\n            <Dialog open={createKeyOpen} onOpenChange={setCreateKeyOpen}>\n              <DialogTrigger asChild>\n                <Button data-testid=\"button-create-key\">\n                  <Plus className=\"h-4 w-4 mr-2\" />\n                  Create Key\n                </Button>\n              </DialogTrigger>\n              <DialogContent className=\"max-w-md\">\n                <DialogHeader>\n                  <DialogTitle>Create API Key</DialogTitle>\n                  <DialogDescription>\n                    Generate a new API key for your integration\n                  </DialogDescription>\n                </DialogHeader>\n                <div className=\"space-y-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"key-label\">Label *</Label>\n                    <Input\n                      id=\"key-label\"\n                      value={newKeyLabel}\n                      onChange={(e) => setNewKeyLabel(e.target.value)}\n                      placeholder=\"e.g., Production Frontend\"\n                      data-testid=\"input-key-label\"\n                    />\n                  </div>\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"key-env\">Environment</Label>\n                    <Select value={newKeyEnv} onValueChange={(value: \"staging\" | \"production\") => setNewKeyEnv(value)}>\n                      <SelectTrigger data-testid=\"select-key-environment\">\n                        <SelectValue />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"staging\">Staging</SelectItem>\n                        <SelectItem value=\"production\">Production</SelectItem>\n                      </SelectContent>\n                    </Select>\n                  </div>\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"key-rate-limit\">Rate Limit (requests/hour)</Label>\n                    <Input\n                      id=\"key-rate-limit\"\n                      type=\"number\"\n                      value={newKeyRateLimit}\n                      onChange={(e) => setNewKeyRateLimit(e.target.value)}\n                      data-testid=\"input-key-rate-limit\"\n                    />\n                  </div>\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"key-expiry\">Expiry Date (optional)</Label>\n                    <Input\n                      id=\"key-expiry\"\n                      type=\"date\"\n                      value={newKeyExpiry}\n                      onChange={(e) => setNewKeyExpiry(e.target.value)}\n                      data-testid=\"input-key-expiry\"\n                    />\n                  </div>\n                </div>\n                <DialogFooter>\n                  <Button\n                    variant=\"outline\"\n                    onClick={() => setCreateKeyOpen(false)}\n                  >\n                    Cancel\n                  </Button>\n                  <Button\n                    onClick={handleCreateKey}\n                    disabled={!newKeyLabel.trim()}\n                    data-testid=\"button-confirm-create-key\"\n                  >\n                    Create Key\n                  </Button>\n                </DialogFooter>\n              </DialogContent>\n            </Dialog>\n          </div>\n        </CardHeader>\n        <CardContent>\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead>Label</TableHead>\n                <TableHead>Prefix</TableHead>\n                <TableHead>Environment</TableHead>\n                <TableHead>Rate Limit</TableHead>\n                <TableHead>Created</TableHead>\n                <TableHead>Last Used</TableHead>\n                <TableHead className=\"w-[100px]\">Actions</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {keys.map((key) => (\n                <TableRow key={key.id} data-testid={`row-key-${key.id}`}>\n                  <TableCell>\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"font-medium\">{key.label}</span>\n                      {!key.isActive && (\n                        <Badge variant=\"destructive\" className=\"text-xs\">Revoked</Badge>\n                      )}\n                    </div>\n                  </TableCell>\n                  <TableCell>\n                    <code className=\"text-sm\">{key.keyPrefix}...</code>\n                  </TableCell>\n                  <TableCell>\n                    <Badge variant={key.environment === \"production\" ? \"default\" : \"secondary\"}>\n                      {key.environment}\n                    </Badge>\n                  </TableCell>\n                  <TableCell>{key.rateLimit.toLocaleString()}/hr</TableCell>\n                  <TableCell className=\"text-sm text-muted-foreground\">\n                    {new Intl.RelativeTimeFormat(\"en\", { numeric: \"auto\" }).format(\n                      Math.floor((key.createdAt.getTime() - Date.now()) / (1000 * 60 * 60 * 24)),\n                      \"day\"\n                    )}\n                  </TableCell>\n                  <TableCell className=\"text-sm text-muted-foreground\">\n                    {key.lastUsedAt ? (\n                      new Intl.RelativeTimeFormat(\"en\", { numeric: \"auto\" }).format(\n                        Math.floor((key.lastUsedAt.getTime() - Date.now()) / (1000 * 60 * 60)),\n                        \"hour\"\n                      )\n                    ) : (\n                      \"Never\"\n                    )}\n                  </TableCell>\n                  <TableCell>\n                    <DropdownMenu>\n                      <DropdownMenuTrigger asChild>\n                        <Button\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          data-testid={`button-key-actions-${key.id}`}\n                        >\n                          <MoreHorizontal className=\"h-4 w-4\" />\n                        </Button>\n                      </DropdownMenuTrigger>\n                      <DropdownMenuContent align=\"end\">\n                        <DropdownMenuItem\n                          onClick={() => console.log(\"Rotate key:\", key.id)}\n                          data-testid={`action-rotate-${key.id}`}\n                        >\n                          <RefreshCw className=\"h-4 w-4 mr-2\" />\n                          Rotate\n                        </DropdownMenuItem>\n                        <DropdownMenuItem\n                          onClick={() => handleRevokeKey(key.id)}\n                          disabled={!key.isActive}\n                          data-testid={`action-revoke-${key.id}`}\n                        >\n                          <Trash2 className=\"h-4 w-4 mr-2\" />\n                          Revoke\n                        </DropdownMenuItem>\n                      </DropdownMenuContent>\n                    </DropdownMenu>\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </CardContent>\n      </Card>\n\n      {/* Generated Key Modal */}\n      <Dialog open={showGeneratedKey} onOpenChange={setShowGeneratedKey}>\n        <DialogContent className=\"max-w-lg\">\n          <DialogHeader>\n            <DialogTitle>API Key Generated</DialogTitle>\n            <DialogDescription>\n              Copy your API key now. For security reasons, we cannot show it again.\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-4\">\n            <div className=\"p-4 bg-muted rounded-lg\">\n              <div className=\"flex items-center justify-between gap-2\">\n                <code className=\"text-sm flex-1 break-all\">{generatedKey}</code>\n                <Button\n                  variant=\"outline\"\n                  size=\"icon\"\n                  onClick={() => handleCopyKey(generatedKey)}\n                  data-testid=\"button-copy-generated-key\"\n                >\n                  <Copy className=\"h-4 w-4\" />\n                </Button>\n              </div>\n            </div>\n          </div>\n          <DialogFooter>\n            <Button onClick={() => setShowGeneratedKey(false)} data-testid=\"button-close-generated-key\">\n              I've copied the key\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Embed Code Section */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Code className=\"h-5 w-5\" />\n            Embed Code\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <Tabs defaultValue=\"script\">\n            <TabsList className=\"grid w-full grid-cols-3\">\n              <TabsTrigger value=\"script\" data-testid=\"tab-script\">\n                <Globe className=\"h-4 w-4 mr-2\" />\n                Script Tag\n              </TabsTrigger>\n              <TabsTrigger value=\"react\" data-testid=\"tab-react\">\n                <Code className=\"h-4 w-4 mr-2\" />\n                React\n              </TabsTrigger>\n              <TabsTrigger value=\"webview\" data-testid=\"tab-webview\">\n                <Smartphone className=\"h-4 w-4 mr-2\" />\n                WebView\n              </TabsTrigger>\n            </TabsList>\n            <TabsContent value=\"script\" className=\"mt-4\">\n              <div className=\"relative\">\n                <pre className=\"bg-muted p-4 rounded-lg text-sm overflow-x-auto\">\n                  <code>{getEmbedScript()}</code>\n                </pre>\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  className=\"absolute top-2 right-2\"\n                  onClick={() => handleCopyKey(getEmbedScript())}\n                  data-testid=\"button-copy-script\"\n                >\n                  <Copy className=\"h-4 w-4\" />\n                </Button>\n              </div>\n            </TabsContent>\n            <TabsContent value=\"react\" className=\"mt-4\">\n              <div className=\"relative\">\n                <pre className=\"bg-muted p-4 rounded-lg text-sm overflow-x-auto\">\n                  <code>{getReactCode()}</code>\n                </pre>\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  className=\"absolute top-2 right-2\"\n                  onClick={() => handleCopyKey(getReactCode())}\n                  data-testid=\"button-copy-react\"\n                >\n                  <Copy className=\"h-4 w-4\" />\n                </Button>\n              </div>\n            </TabsContent>\n            <TabsContent value=\"webview\" className=\"mt-4\">\n              <div className=\"relative\">\n                <pre className=\"bg-muted p-4 rounded-lg text-sm overflow-x-auto\">\n                  <code>{getWebViewCode()}</code>\n                </pre>\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  className=\"absolute top-2 right-2\"\n                  onClick={() => handleCopyKey(getWebViewCode())}\n                  data-testid=\"button-copy-webview\"\n                >\n                  <Copy className=\"h-4 w-4\" />\n                </Button>\n              </div>\n            </TabsContent>\n          </Tabs>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}","size_bytes":18416},"client/src/components/tabs/EnvironmentsTab.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Label } from \"@/components/ui/label\";\nimport { Input } from \"@/components/ui/input\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { \n  Server, \n  Globe, \n  Activity, \n  CheckCircle, \n  AlertCircle, \n  Clock, \n  ArrowRight,\n  Eye,\n  GitBranch,\n  Zap,\n  Settings,\n  Monitor,\n  Database,\n  Shield,\n  BarChart3,\n  Copy,\n  ExternalLink,\n  Play,\n  Pause,\n  RotateCcw,\n  Upload\n} from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\n\ninterface EnvironmentConfig {\n  id: string;\n  name: string;\n  type: \"staging\" | \"production\";\n  status: \"active\" | \"inactive\" | \"deploying\" | \"error\";\n  url: string;\n  lastDeployed: Date | null;\n  version: string;\n  \n  // Performance\n  uptime: number; // percentage\n  responseTime: number; // ms\n  requestsPerMinute: number;\n  errorRate: number; // percentage\n  \n  // Configuration\n  autoDeployEnabled: boolean;\n  maintenanceMode: boolean;\n  deploymentBranch: string;\n  \n  // Limits\n  rateLimitRpm: number;\n  maxConcurrentUsers: number;\n  \n  // Environment Variables\n  environmentVars: {\n    key: string;\n    value: string;\n    isSecret: boolean;\n  }[];\n}\n\ninterface EnvironmentsData {\n  environments: EnvironmentConfig[];\n  defaultEnvironment: string;\n  autoPromotionEnabled: boolean;\n  deploymentNotifications: boolean;\n}\n\ninterface EnvironmentsTabProps {\n  data: EnvironmentsData;\n  onChange: (data: EnvironmentsData) => void;\n}\n\nexport default function EnvironmentsTab({ data, onChange }: EnvironmentsTabProps) {\n  const [environments, setEnvironments] = useState<EnvironmentsData>(data);\n  const [selectedEnv, setSelectedEnv] = useState<string>(data.environments[0]?.id || \"\");\n  const [newEnvVar, setNewEnvVar] = useState({ key: \"\", value: \"\", isSecret: false });\n  const [showEnvVars, setShowEnvVars] = useState<Record<string, boolean>>({});\n  const { toast } = useToast();\n\n  // Sync local state when parent data changes (for edit mode)\n  useEffect(() => {\n    setEnvironments(data);\n    if (data.environments.length > 0 && !selectedEnv) {\n      setSelectedEnv(data.environments[0].id);\n    }\n  }, [data, selectedEnv]);\n\n  // Update parent state when environments change\n  useEffect(() => {\n    onChange(environments);\n  }, [environments, onChange]);\n\n  const updateEnvironments = (updates: Partial<EnvironmentsData>) => {\n    setEnvironments(prev => ({ ...prev, ...updates }));\n  };\n\n  const updateEnvironment = (envId: string, updates: Partial<EnvironmentConfig>) => {\n    setEnvironments(prev => ({\n      ...prev,\n      environments: prev.environments.map(env =>\n        env.id === envId ? { ...env, ...updates } : env\n      )\n    }));\n  };\n\n  const getSelectedEnvironment = () => {\n    return environments.environments.find(env => env.id === selectedEnv);\n  };\n\n  const deployToEnvironment = (envId: string) => {\n    updateEnvironment(envId, { \n      status: \"deploying\",\n      lastDeployed: new Date()\n    });\n    \n    // Simulate deployment\n    setTimeout(() => {\n      updateEnvironment(envId, { \n        status: \"active\",\n        version: `v1.${Math.floor(Math.random() * 100)}.0`\n      });\n      toast({\n        title: \"Deployment successful\",\n        description: `Successfully deployed to ${environments.environments.find(e => e.id === envId)?.name}`,\n      });\n    }, 3000);\n    \n    toast({\n      title: \"Deployment started\",\n      description: `Deploying to ${environments.environments.find(e => e.id === envId)?.name}...`,\n    });\n  };\n\n  const promoteToProduction = () => {\n    const staging = environments.environments.find(env => env.type === \"staging\");\n    const production = environments.environments.find(env => env.type === \"production\");\n    \n    if (staging && production) {\n      updateEnvironment(production.id, {\n        version: staging.version,\n        status: \"deploying\"\n      });\n      \n      setTimeout(() => {\n        updateEnvironment(production.id, {\n          status: \"active\",\n          lastDeployed: new Date()\n        });\n        toast({\n          title: \"Promotion successful\",\n          description: \"Staging version promoted to production\",\n        });\n      }, 2000);\n      \n      toast({\n        title: \"Promoting to production\",\n        description: \"Deploying staging version to production...\",\n      });\n    }\n  };\n\n  const addEnvironmentVariable = () => {\n    const env = getSelectedEnvironment();\n    if (!env || !newEnvVar.key.trim()) return;\n    \n    const updatedVars = [\n      ...env.environmentVars,\n      { ...newEnvVar, key: newEnvVar.key.trim() }\n    ];\n    \n    updateEnvironment(env.id, { environmentVars: updatedVars });\n    setNewEnvVar({ key: \"\", value: \"\", isSecret: false });\n    \n    toast({\n      title: \"Environment variable added\",\n      description: `Added ${newEnvVar.key} to ${env.name}`,\n    });\n  };\n\n  const removeEnvironmentVariable = (envId: string, varIndex: number) => {\n    const env = environments.environments.find(e => e.id === envId);\n    if (!env) return;\n    \n    const updatedVars = env.environmentVars.filter((_, index) => index !== varIndex);\n    updateEnvironment(envId, { environmentVars: updatedVars });\n    \n    toast({\n      title: \"Environment variable removed\",\n      description: \"Variable has been deleted\",\n    });\n  };\n\n  const copyUrl = (url: string) => {\n    navigator.clipboard.writeText(url);\n    toast({\n      title: \"URL copied\",\n      description: \"Environment URL copied to clipboard\",\n    });\n  };\n\n  const getStatusIcon = (status: string) => {\n    switch (status) {\n      case \"active\":\n        return <CheckCircle className=\"h-4 w-4 text-green-500\" />;\n      case \"deploying\":\n        return <Clock className=\"h-4 w-4 text-yellow-500 animate-spin\" />;\n      case \"error\":\n        return <AlertCircle className=\"h-4 w-4 text-red-500\" />;\n      default:\n        return <AlertCircle className=\"h-4 w-4 text-gray-500\" />;\n    }\n  };\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case \"active\":\n        return \"bg-green-500\";\n      case \"deploying\":\n        return \"bg-yellow-500\";\n      case \"error\":\n        return \"bg-red-500\";\n      default:\n        return \"bg-gray-500\";\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <Server className=\"h-5 w-5 text-muted-foreground\" />\n          <h2 className=\"text-lg font-semibold\">Environment Management</h2>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <Button \n            variant=\"outline\" \n            size=\"sm\"\n            onClick={promoteToProduction}\n            disabled={!environments.environments.find(e => e.type === \"staging\" && e.status === \"active\")}\n            data-testid=\"button-promote-production\"\n          >\n            <ArrowRight className=\"h-4 w-4 mr-2\" />\n            Promote to Production\n          </Button>\n        </div>\n      </div>\n\n      {/* Environment Cards Grid */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {environments.environments.map((env) => (\n          <Card \n            key={env.id} \n            className={`cursor-pointer transition-all hover-elevate ${\n              selectedEnv === env.id ? \"ring-2 ring-primary\" : \"\"\n            }`}\n            onClick={() => setSelectedEnv(env.id)}\n            data-testid={`card-environment-${env.type}`}\n          >\n            <CardHeader className=\"pb-3\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center gap-3\">\n                  <div className={`w-3 h-3 rounded-full ${getStatusColor(env.status)}`} />\n                  <div>\n                    <CardTitle className=\"text-lg\">{env.name}</CardTitle>\n                    <p className=\"text-sm text-muted-foreground capitalize\">{env.type} Environment</p>\n                  </div>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  {getStatusIcon(env.status)}\n                  <Badge variant={env.type === \"production\" ? \"default\" : \"secondary\"}>\n                    {env.type}\n                  </Badge>\n                </div>\n              </div>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              {/* URL and Version */}\n              <div className=\"space-y-2\">\n                <div className=\"flex items-center justify-between\">\n                  <Label className=\"text-sm font-medium\">URL</Label>\n                  <div className=\"flex items-center gap-1\">\n                    <Button\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      className=\"h-6 w-6\"\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        copyUrl(env.url);\n                      }}\n                      data-testid={`button-copy-url-${env.type}`}\n                    >\n                      <Copy className=\"h-3 w-3\" />\n                    </Button>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      className=\"h-6 w-6\"\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        window.open(env.url, \"_blank\");\n                      }}\n                      data-testid={`button-open-url-${env.type}`}\n                    >\n                      <ExternalLink className=\"h-3 w-3\" />\n                    </Button>\n                  </div>\n                </div>\n                <p className=\"text-sm text-muted-foreground font-mono bg-muted px-2 py-1 rounded\">\n                  {env.url}\n                </p>\n                <div className=\"flex items-center justify-between text-sm\">\n                  <span className=\"text-muted-foreground\">Version:</span>\n                  <Badge variant=\"outline\" data-testid={`badge-version-${env.type}`}>{env.version}</Badge>\n                </div>\n              </div>\n\n              {/* Performance Metrics */}\n              <div className=\"space-y-3\">\n                <Label className=\"text-sm font-medium\">Performance</Label>\n                <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                  <div className=\"space-y-1\">\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-muted-foreground\">Uptime</span>\n                      <span className=\"font-medium\" data-testid={`metric-uptime-${env.type}`}>{env.uptime}%</span>\n                    </div>\n                    <Progress value={env.uptime} className=\"h-1\" />\n                  </div>\n                  <div className=\"space-y-1\">\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-muted-foreground\">Response</span>\n                      <span className=\"font-medium\" data-testid={`metric-response-${env.type}`}>{env.responseTime}ms</span>\n                    </div>\n                  </div>\n                  <div className=\"space-y-1\">\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-muted-foreground\">Requests/min</span>\n                      <span className=\"font-medium\" data-testid={`metric-requests-${env.type}`}>{env.requestsPerMinute}</span>\n                    </div>\n                  </div>\n                  <div className=\"space-y-1\">\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-muted-foreground\">Error rate</span>\n                      <span className=\"font-medium\" data-testid={`metric-errors-${env.type}`}>{env.errorRate}%</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Actions */}\n              <div className=\"flex gap-2 pt-2\">\n                <Button \n                  size=\"sm\" \n                  variant={env.status === \"active\" ? \"secondary\" : \"default\"}\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    deployToEnvironment(env.id);\n                  }}\n                  disabled={env.status === \"deploying\"}\n                  data-testid={`button-deploy-${env.type}`}\n                >\n                  {env.status === \"deploying\" ? (\n                    <Clock className=\"h-4 w-4 mr-2 animate-spin\" />\n                  ) : (\n                    <Upload className=\"h-4 w-4 mr-2\" />\n                  )}\n                  {env.status === \"deploying\" ? \"Deploying...\" : \"Deploy\"}\n                </Button>\n                <Button \n                  size=\"sm\" \n                  variant=\"ghost\"\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    setSelectedEnv(env.id);\n                  }}\n                  data-testid={`button-configure-${env.type}`}\n                >\n                  <Settings className=\"h-4 w-4 mr-2\" />\n                  Configure\n                </Button>\n              </div>\n\n              {/* Last Deployed */}\n              {env.lastDeployed && (\n                <div className=\"flex items-center gap-2 text-xs text-muted-foreground pt-2 border-t\">\n                  <Clock className=\"h-3 w-3\" />\n                  Last deployed: {env.lastDeployed.toLocaleDateString()} at {env.lastDeployed.toLocaleTimeString()}\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n\n      {/* Detailed Configuration for Selected Environment */}\n      {selectedEnv && getSelectedEnvironment() && (\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Settings className=\"h-5 w-5\" />\n              {getSelectedEnvironment()?.name} Configuration\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-6\">\n            {/* General Settings */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div className=\"space-y-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"deployment-branch\">Deployment Branch</Label>\n                  <Select \n                    value={getSelectedEnvironment()?.deploymentBranch} \n                    onValueChange={(value) => updateEnvironment(selectedEnv, { deploymentBranch: value })}\n                  >\n                    <SelectTrigger id=\"deployment-branch\" data-testid=\"select-deployment-branch\">\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"main\">main</SelectItem>\n                      <SelectItem value=\"develop\">develop</SelectItem>\n                      <SelectItem value=\"staging\">staging</SelectItem>\n                      <SelectItem value=\"release\">release</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"rate-limit\">Rate Limit (requests/minute)</Label>\n                  <Input\n                    id=\"rate-limit\"\n                    type=\"number\"\n                    value={getSelectedEnvironment()?.rateLimitRpm}\n                    onChange={(e) => updateEnvironment(selectedEnv, { rateLimitRpm: parseInt(e.target.value) || 0 })}\n                    data-testid=\"input-rate-limit\"\n                  />\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"max-users\">Max Concurrent Users</Label>\n                  <Input\n                    id=\"max-users\"\n                    type=\"number\"\n                    value={getSelectedEnvironment()?.maxConcurrentUsers}\n                    onChange={(e) => updateEnvironment(selectedEnv, { maxConcurrentUsers: parseInt(e.target.value) || 0 })}\n                    data-testid=\"input-max-users\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"space-y-4\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"space-y-0.5\">\n                    <Label htmlFor=\"auto-deploy\">Auto Deploy</Label>\n                    <p className=\"text-sm text-muted-foreground\">Deploy automatically on code push</p>\n                  </div>\n                  <Switch\n                    id=\"auto-deploy\"\n                    checked={getSelectedEnvironment()?.autoDeployEnabled}\n                    onCheckedChange={(checked) => updateEnvironment(selectedEnv, { autoDeployEnabled: checked })}\n                    data-testid=\"switch-auto-deploy\"\n                  />\n                </div>\n\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"space-y-0.5\">\n                    <Label htmlFor=\"maintenance-mode\">Maintenance Mode</Label>\n                    <p className=\"text-sm text-muted-foreground\">Show maintenance page to users</p>\n                  </div>\n                  <Switch\n                    id=\"maintenance-mode\"\n                    checked={getSelectedEnvironment()?.maintenanceMode}\n                    onCheckedChange={(checked) => updateEnvironment(selectedEnv, { maintenanceMode: checked })}\n                    data-testid=\"switch-maintenance-mode\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            <Separator />\n\n            {/* Environment Variables */}\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center justify-between\">\n                <Label className=\"text-base font-medium\">Environment Variables</Label>\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={() => setShowEnvVars({\n                    ...showEnvVars,\n                    [selectedEnv]: !showEnvVars[selectedEnv]\n                  })}\n                  data-testid=\"button-toggle-env-vars\"\n                >\n                  <Eye className=\"h-4 w-4 mr-2\" />\n                  {showEnvVars[selectedEnv] ? \"Hide Values\" : \"Show Values\"}\n                </Button>\n              </div>\n\n              {/* Add New Variable */}\n              <div className=\"grid grid-cols-1 md:grid-cols-4 gap-2 p-4 bg-muted rounded-lg\">\n                <Input\n                  placeholder=\"Variable name\"\n                  value={newEnvVar.key}\n                  onChange={(e) => setNewEnvVar(prev => ({ ...prev, key: e.target.value }))}\n                  data-testid=\"input-env-var-key\"\n                />\n                <Input\n                  placeholder=\"Value\"\n                  type={newEnvVar.isSecret ? \"password\" : \"text\"}\n                  value={newEnvVar.value}\n                  onChange={(e) => setNewEnvVar(prev => ({ ...prev, value: e.target.value }))}\n                  data-testid=\"input-env-var-value\"\n                />\n                <div className=\"flex items-center gap-2\">\n                  <Switch\n                    id=\"is-secret\"\n                    checked={newEnvVar.isSecret}\n                    onCheckedChange={(checked) => setNewEnvVar(prev => ({ ...prev, isSecret: checked }))}\n                    data-testid=\"switch-env-var-secret\"\n                  />\n                  <Label htmlFor=\"is-secret\" className=\"text-sm\">Secret</Label>\n                </div>\n                <Button \n                  onClick={addEnvironmentVariable}\n                  disabled={!newEnvVar.key.trim()}\n                  data-testid=\"button-add-env-var\"\n                >\n                  Add Variable\n                </Button>\n              </div>\n\n              {/* Variables List */}\n              <div className=\"space-y-2\">\n                {getSelectedEnvironment()?.environmentVars.map((envVar, index) => (\n                  <div \n                    key={index} \n                    className=\"flex items-center gap-4 p-3 bg-muted rounded-lg\"\n                    data-testid={`env-var-${index}`}\n                  >\n                    <div className=\"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4\">\n                      <div>\n                        <Label className=\"text-xs text-muted-foreground\">KEY</Label>\n                        <p className=\"font-mono text-sm\">{envVar.key}</p>\n                      </div>\n                      <div>\n                        <Label className=\"text-xs text-muted-foreground\">VALUE</Label>\n                        <p className=\"font-mono text-sm\">\n                          {envVar.isSecret && !showEnvVars[selectedEnv] \n                            ? \"••••••••\" \n                            : envVar.value || \"(empty)\"\n                          }\n                        </p>\n                      </div>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      {envVar.isSecret && (\n                        <Badge variant=\"secondary\" className=\"text-xs\">\n                          <Shield className=\"h-3 w-3 mr-1\" />\n                          Secret\n                        </Badge>\n                      )}\n                      <Button\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        onClick={() => removeEnvironmentVariable(selectedEnv, index)}\n                        data-testid={`button-remove-env-var-${index}`}\n                      >\n                        Remove\n                      </Button>\n                    </div>\n                  </div>\n                ))}\n                \n                {getSelectedEnvironment()?.environmentVars.length === 0 && (\n                  <div className=\"text-center py-8 text-muted-foreground\">\n                    <Database className=\"h-8 w-8 mx-auto mb-2 opacity-50\" />\n                    <p>No environment variables configured</p>\n                    <p className=\"text-sm\">Add variables above to get started</p>\n                  </div>\n                )}\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Global Settings */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Global Environment Settings</CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div className=\"space-y-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"default-environment\">Default Environment</Label>\n                <Select \n                  value={environments.defaultEnvironment} \n                  onValueChange={(value) => updateEnvironments({ defaultEnvironment: value })}\n                >\n                  <SelectTrigger id=\"default-environment\" data-testid=\"select-default-environment\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {environments.environments.map((env) => (\n                      <SelectItem key={env.id} value={env.id}>\n                        {env.name} ({env.type})\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n            </div>\n\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"space-y-0.5\">\n                  <Label htmlFor=\"auto-promotion\">Auto Promotion</Label>\n                  <p className=\"text-sm text-muted-foreground\">Auto-promote staging to production</p>\n                </div>\n                <Switch\n                  id=\"auto-promotion\"\n                  checked={environments.autoPromotionEnabled}\n                  onCheckedChange={(checked) => updateEnvironments({ autoPromotionEnabled: checked })}\n                  data-testid=\"switch-auto-promotion\"\n                />\n              </div>\n\n              <div className=\"flex items-center justify-between\">\n                <div className=\"space-y-0.5\">\n                  <Label htmlFor=\"deployment-notifications\">Deployment Notifications</Label>\n                  <p className=\"text-sm text-muted-foreground\">Notify on deployments</p>\n                </div>\n                <Switch\n                  id=\"deployment-notifications\"\n                  checked={environments.deploymentNotifications}\n                  onCheckedChange={(checked) => updateEnvironments({ deploymentNotifications: checked })}\n                  data-testid=\"switch-deployment-notifications\"\n                />\n              </div>\n            </div>\n          </div>\n\n          {environments.autoPromotionEnabled && (\n            <Alert>\n              <GitBranch className=\"h-4 w-4\" />\n              <AlertDescription>\n                Auto-promotion is enabled. Successful staging deployments will automatically be promoted to production after validation.\n              </AlertDescription>\n            </Alert>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}","size_bytes":25503},"client/src/components/tabs/OverviewTab.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport {\n  Command,\n  CommandEmpty,\n  CommandGroup,\n  CommandInput,\n  CommandItem,\n  CommandList,\n} from \"@/components/ui/command\";\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@/components/ui/popover\";\nimport { X, Plus, Check, ChevronsUpDown, User } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\n\ninterface OverviewTabProps {\n  data: {\n    name: string;\n    slug: string;\n    description: string;\n    status: string;\n    ownerId: string;\n    tags: string[];\n  };\n  onChange: (data: any) => void;\n}\n\ninterface User {\n  id: string;\n  name: string;\n  email: string;\n}\n\ninterface OverviewTabProps {\n  data: {\n    name: string;\n    slug: string;\n    description: string;\n    status: string;\n    ownerId: string;\n    tags: string[];\n  };\n  users?: User[]; // Available users for selection\n  onChange: (data: any) => void;\n}\n\nexport default function OverviewTab({ data, users = [], onChange }: OverviewTabProps) {\n  const [name, setName] = useState(data.name || \"\");\n  const [slug, setSlug] = useState(data.slug || \"\");\n  const [description, setDescription] = useState(data.description || \"\");\n  const [status, setStatus] = useState(data.status || \"active\");\n  const [ownerId, setOwnerId] = useState(data.ownerId || \"\");\n  const [tags, setTags] = useState<string[]>(data.tags || []);\n  const [newTag, setNewTag] = useState(\"\");\n  const [ownerOpen, setOwnerOpen] = useState(false);\n\n  const generateSlug = (name: string) => {\n    return name\n      .toLowerCase()\n      .replace(/[^a-z0-9\\s-]/g, \"\")\n      .replace(/\\s+/g, \"-\")\n      .replace(/-+/g, \"-\")\n      .trim();\n  };\n\n  const handleNameChange = (newName: string) => {\n    setName(newName);\n    // Auto-generate slug if it hasn't been manually modified\n    if (!slug || slug === generateSlug(name)) {\n      const newSlug = generateSlug(newName);\n      setSlug(newSlug);\n    }\n  };\n\n  const addTag = () => {\n    if (newTag.trim() && !tags.includes(newTag.trim())) {\n      const updatedTags = [...tags, newTag.trim()];\n      setTags(updatedTags);\n      setNewTag(\"\");\n    }\n  };\n\n  const removeTag = (tagToRemove: string) => {\n    const updatedTags = tags.filter(tag => tag !== tagToRemove);\n    setTags(updatedTags);\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n      addTag();\n    }\n  };\n\n  // Update parent component when data changes\n  useEffect(() => {\n    onChange({\n      name,\n      slug,\n      description,\n      status,\n      ownerId,\n      tags,\n    });\n  }, [name, slug, description, status, ownerId, tags, onChange]);\n\n  const selectedOwner = users.find((user: User) => user.id === ownerId);\n\n  return (\n    <div className=\"space-y-6\">\n      <Card>\n        <CardHeader>\n          <CardTitle>Basic Information</CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-6\">\n          {/* Name and Slug */}\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"name\">Integration Name *</Label>\n              <Input\n                id=\"name\"\n                value={name}\n                onChange={(e) => handleNameChange(e.target.value)}\n                placeholder=\"e.g., Documentation Widget\"\n                data-testid=\"input-integration-name\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"slug\">Slug *</Label>\n              <Input\n                id=\"slug\"\n                value={slug}\n                onChange={(e) => setSlug(e.target.value)}\n                placeholder=\"docs-widget\"\n                data-testid=\"input-integration-slug\"\n              />\n              <p className=\"text-xs text-muted-foreground\">\n                Used in URLs and API calls. Only lowercase letters, numbers, and hyphens.\n              </p>\n            </div>\n          </div>\n\n          {/* Description */}\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"description\">Description</Label>\n            <Textarea\n              id=\"description\"\n              value={description}\n              onChange={(e) => setDescription(e.target.value)}\n              placeholder=\"Describe what this integration does...\"\n              rows={3}\n              data-testid=\"textarea-integration-description\"\n            />\n          </div>\n\n          {/* Status and Owner */}\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"status\">Status</Label>\n              <Select value={status} onValueChange={setStatus}>\n                <SelectTrigger data-testid=\"select-integration-status\">\n                  <SelectValue placeholder=\"Select status\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"active\">Active</SelectItem>\n                  <SelectItem value=\"paused\">Paused</SelectItem>\n                  <SelectItem value=\"archived\">Archived</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Owner</Label>\n              <Popover open={ownerOpen} onOpenChange={setOwnerOpen}>\n                <PopoverTrigger asChild>\n                  <Button\n                    variant=\"outline\"\n                    role=\"combobox\"\n                    aria-expanded={ownerOpen}\n                    className=\"w-full justify-between\"\n                    data-testid=\"button-select-owner\"\n                  >\n                    {selectedOwner ? (\n                      <div className=\"flex items-center gap-2\">\n                        <User className=\"h-4 w-4\" />\n                        <span>{selectedOwner.name}</span>\n                      </div>\n                    ) : (\n                      \"Select owner...\"\n                    )}\n                    <ChevronsUpDown className=\"ml-2 h-4 w-4 shrink-0 opacity-50\" />\n                  </Button>\n                </PopoverTrigger>\n                <PopoverContent className=\"w-full p-0\" align=\"start\">\n                  <Command>\n                    <CommandInput placeholder=\"Search users...\" />\n                    <CommandList>\n                      <CommandEmpty>No users found.</CommandEmpty>\n                      <CommandGroup>\n                        {users.map((user: User) => (\n                          <CommandItem\n                            key={user.id}\n                            value={user.id}\n                            onSelect={() => {\n                              setOwnerId(user.id);\n                              setOwnerOpen(false);\n                            }}\n                            data-testid={`option-owner-${user.id}`}\n                          >\n                            <Check\n                              className={cn(\n                                \"mr-2 h-4 w-4\",\n                                ownerId === user.id ? \"opacity-100\" : \"opacity-0\"\n                              )}\n                            />\n                            <div className=\"flex items-center gap-2\">\n                              <User className=\"h-4 w-4\" />\n                              <div>\n                                <div className=\"font-medium\">{user.name}</div>\n                                <div className=\"text-sm text-muted-foreground\">{user.email}</div>\n                              </div>\n                            </div>\n                          </CommandItem>\n                        ))}\n                      </CommandGroup>\n                    </CommandList>\n                  </Command>\n                </PopoverContent>\n              </Popover>\n            </div>\n          </div>\n\n          {/* Tags */}\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"tags\">Tags</Label>\n            <div className=\"space-y-3\">\n              <div className=\"flex flex-wrap gap-2\">\n                {tags.map((tag, index) => (\n                  <Badge key={index} variant=\"secondary\" className=\"flex items-center gap-1\">\n                    {tag}\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      className=\"h-auto p-0 w-4 h-4\"\n                      onClick={() => removeTag(tag)}\n                      data-testid={`button-remove-tag-${index}`}\n                    >\n                      <X className=\"h-3 w-3\" />\n                    </Button>\n                  </Badge>\n                ))}\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <Input\n                  value={newTag}\n                  onChange={(e) => setNewTag(e.target.value)}\n                  onKeyDown={handleKeyDown}\n                  placeholder=\"Add a tag...\"\n                  className=\"max-w-xs\"\n                  data-testid=\"input-new-tag\"\n                />\n                <Button \n                  variant=\"outline\" \n                  size=\"sm\" \n                  onClick={addTag}\n                  disabled={!newTag.trim() || tags.includes(newTag.trim())}\n                  data-testid=\"button-add-tag\"\n                >\n                  <Plus className=\"h-4 w-4\" />\n                </Button>\n              </div>\n            </div>\n            <p className=\"text-xs text-muted-foreground\">\n              Tags help organize and categorize your integrations.\n            </p>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}","size_bytes":9968},"client/src/components/tabs/PermissionsTab.tsx":{"content":"import { useState } from \"react\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { \n  Users, \n  Shield, \n  Key, \n  UserPlus, \n  UserMinus, \n  Edit3, \n  MoreHorizontal,\n  CheckCircle2,\n  XCircle,\n  Clock,\n  AlertTriangle,\n  Search,\n  Filter,\n  Download,\n  Upload,\n  Trash2,\n  Settings,\n  Eye,\n  EyeOff,\n  Lock,\n  Unlock\n} from \"lucide-react\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/components/ui/dialog\";\n\n// User and Permission interfaces\ninterface User {\n  id: string;\n  name: string;\n  email: string;\n  avatar?: string;\n  role: \"owner\" | \"admin\" | \"editor\" | \"viewer\";\n  status: \"active\" | \"pending\" | \"suspended\";\n  lastActive: Date;\n  invitedAt?: Date;\n  invitedBy?: string;\n  permissions: string[];\n}\n\ninterface Role {\n  id: string;\n  name: string;\n  description: string;\n  permissions: string[];\n  isSystem: boolean;\n  userCount: number;\n  color: string;\n}\n\ninterface PermissionGroup {\n  id: string;\n  name: string;\n  description: string;\n  permissions: Permission[];\n}\n\ninterface Permission {\n  id: string;\n  name: string;\n  description: string;\n  category: string;\n  isSystem: boolean;\n}\n\ninterface AccessRule {\n  id: string;\n  name: string;\n  description: string;\n  type: \"ip_whitelist\" | \"domain_restriction\" | \"time_based\" | \"geo_restriction\";\n  enabled: boolean;\n  configuration: Record<string, any>;\n  appliesTo: string[]; // user IDs or role IDs\n}\n\ninterface PermissionsData {\n  users: User[];\n  roles: Role[];\n  permissionGroups: PermissionGroup[];\n  accessRules: AccessRule[];\n  settings: {\n    requireTwoFactor: boolean;\n    sessionTimeout: number;\n    maxFailedLogins: number;\n    passwordPolicy: {\n      minLength: number;\n      requireUppercase: boolean;\n      requireLowercase: boolean;\n      requireNumbers: boolean;\n      requireSpecialChars: boolean;\n      expirationDays: number;\n    };\n    auditRetentionDays: number;\n    autoSuspendInactiveUsers: boolean;\n    inactiveUserDays: number;\n  };\n}\n\n// Default permissions data with enterprise-grade examples\nconst defaultPermissionsData: PermissionsData = {\n  users: [\n    {\n      id: \"user-001\",\n      name: \"John Doe\",\n      email: \"john@company.com\",\n      role: \"owner\",\n      status: \"active\",\n      lastActive: new Date(Date.now() - 1000 * 60 * 30), // 30 minutes ago\n      permissions: [\"*\"], // All permissions\n    },\n    {\n      id: \"user-002\", \n      name: \"Jane Smith\",\n      email: \"jane@company.com\",\n      role: \"admin\",\n      status: \"active\",\n      lastActive: new Date(Date.now() - 1000 * 60 * 60 * 2), // 2 hours ago\n      permissions: [\"integration:read\", \"integration:write\", \"integration:admin\", \"users:read\", \"users:write\"],\n    },\n    {\n      id: \"user-003\",\n      name: \"Bob Wilson\", \n      email: \"bob@company.com\",\n      role: \"editor\",\n      status: \"active\",\n      lastActive: new Date(Date.now() - 1000 * 60 * 60 * 24), // 1 day ago\n      permissions: [\"integration:read\", \"integration:write\", \"analytics:read\"],\n    },\n    {\n      id: \"user-004\",\n      name: \"Alice Johnson\",\n      email: \"alice@company.com\", \n      role: \"viewer\",\n      status: \"pending\",\n      lastActive: new Date(Date.now() - 1000 * 60 * 60 * 24 * 7), // 1 week ago\n      invitedAt: new Date(Date.now() - 1000 * 60 * 60 * 24 * 2), // 2 days ago\n      invitedBy: \"john@company.com\",\n      permissions: [\"integration:read\", \"analytics:read\"],\n    },\n  ],\n  roles: [\n    {\n      id: \"role-owner\",\n      name: \"Owner\",\n      description: \"Full access to all features and settings\",\n      permissions: [\"*\"],\n      isSystem: true,\n      userCount: 1,\n      color: \"#DC2626\",\n    },\n    {\n      id: \"role-admin\",\n      name: \"Administrator\", \n      description: \"Manage integrations, users, and most settings\",\n      permissions: [\"integration:*\", \"users:*\", \"analytics:*\", \"settings:read\"],\n      isSystem: true,\n      userCount: 1,\n      color: \"#EA580C\",\n    },\n    {\n      id: \"role-editor\",\n      name: \"Editor\",\n      description: \"Create and modify integrations, view analytics\",\n      permissions: [\"integration:read\", \"integration:write\", \"analytics:read\"],\n      isSystem: true,\n      userCount: 1,\n      color: \"#0284C7\",\n    },\n    {\n      id: \"role-viewer\",\n      name: \"Viewer\",\n      description: \"Read-only access to integrations and analytics\",\n      permissions: [\"integration:read\", \"analytics:read\"],\n      isSystem: true,\n      userCount: 1,\n      color: \"#059669\",\n    },\n  ],\n  permissionGroups: [\n    {\n      id: \"group-integration\",\n      name: \"Integration Management\",\n      description: \"Permissions for managing integrations\",\n      permissions: [\n        {\n          id: \"integration:read\",\n          name: \"View Integrations\",\n          description: \"View integration configurations and settings\",\n          category: \"integration\",\n          isSystem: true,\n        },\n        {\n          id: \"integration:write\",\n          name: \"Edit Integrations\", \n          description: \"Create, update, and configure integrations\",\n          category: \"integration\",\n          isSystem: true,\n        },\n        {\n          id: \"integration:delete\",\n          name: \"Delete Integrations\",\n          description: \"Delete integrations and their configurations\",\n          category: \"integration\",\n          isSystem: true,\n        },\n        {\n          id: \"integration:admin\",\n          name: \"Integration Admin\",\n          description: \"Full administrative access to integrations\",\n          category: \"integration\",\n          isSystem: true,\n        },\n      ],\n    },\n    {\n      id: \"group-users\",\n      name: \"User Management\",\n      description: \"Permissions for managing users and roles\",\n      permissions: [\n        {\n          id: \"users:read\",\n          name: \"View Users\",\n          description: \"View user accounts and their information\",\n          category: \"users\",\n          isSystem: true,\n        },\n        {\n          id: \"users:write\",\n          name: \"Manage Users\",\n          description: \"Invite, edit, and manage user accounts\",\n          category: \"users\", \n          isSystem: true,\n        },\n        {\n          id: \"users:delete\",\n          name: \"Remove Users\",\n          description: \"Remove user accounts and revoke access\",\n          category: \"users\",\n          isSystem: true,\n        },\n      ],\n    },\n    {\n      id: \"group-analytics\",\n      name: \"Analytics & Reporting\",\n      description: \"Permissions for analytics and reporting features\",\n      permissions: [\n        {\n          id: \"analytics:read\",\n          name: \"View Analytics\",\n          description: \"View analytics dashboards and reports\",\n          category: \"analytics\",\n          isSystem: true,\n        },\n        {\n          id: \"analytics:export\",\n          name: \"Export Analytics\",\n          description: \"Export analytics data and generate reports\",\n          category: \"analytics\",\n          isSystem: true,\n        },\n      ],\n    },\n  ],\n  accessRules: [\n    {\n      id: \"rule-001\",\n      name: \"Office IP Whitelist\",\n      description: \"Restrict access to office IP addresses\",\n      type: \"ip_whitelist\",\n      enabled: true,\n      configuration: {\n        allowedIPs: [\"192.168.1.0/24\", \"10.0.0.0/8\"],\n        blockByDefault: true,\n      },\n      appliesTo: [\"role-admin\", \"role-owner\"],\n    },\n    {\n      id: \"rule-002\",\n      name: \"Company Domain Only\",\n      description: \"Only allow users with company email domains\",\n      type: \"domain_restriction\",\n      enabled: true,\n      configuration: {\n        allowedDomains: [\"company.com\", \"subsidiary.com\"],\n        requireVerification: true,\n      },\n      appliesTo: [\"*\"],\n    },\n  ],\n  settings: {\n    requireTwoFactor: true,\n    sessionTimeout: 480, // 8 hours in minutes\n    maxFailedLogins: 5,\n    passwordPolicy: {\n      minLength: 12,\n      requireUppercase: true,\n      requireLowercase: true,\n      requireNumbers: true,\n      requireSpecialChars: true,\n      expirationDays: 90,\n    },\n    auditRetentionDays: 365,\n    autoSuspendInactiveUsers: true,\n    inactiveUserDays: 90,\n  },\n};\n\ninterface PermissionsTabProps {\n  data: PermissionsData;\n  onChange: (data: PermissionsData) => void;\n}\n\nexport default function PermissionsTab({ data, onChange }: PermissionsTabProps) {\n  const [activeTab, setActiveTab] = useState(\"users\");\n  const [selectedUser, setSelectedUser] = useState<string | null>(null);\n  const [showInviteDialog, setShowInviteDialog] = useState(false);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [roleFilter, setRoleFilter] = useState(\"all\");\n\n  // Use data directly from props (controlled component pattern)\n  \n  const updatePermissions = (updates: Partial<PermissionsData>) => {\n    onChange({ ...data, ...updates });\n  };\n\n  const inviteUser = (userData: { email: string; role: string; message?: string }) => {\n    const newUser: User = {\n      id: `user-${Date.now()}`,\n      name: userData.email.split('@')[0],\n      email: userData.email,\n      role: userData.role as any,\n      status: \"pending\",\n      lastActive: new Date(),\n      invitedAt: new Date(),\n      invitedBy: \"current-user\",\n      permissions: getRolePermissions(userData.role),\n    };\n    \n    updatePermissions({\n      users: [...data.users, newUser]\n    });\n    setShowInviteDialog(false);\n  };\n\n  const updateUser = (userId: string, updates: Partial<User>) => {\n    const users = data.users.map(user => \n      user.id === userId ? { ...user, ...updates } : user\n    );\n    updatePermissions({ users });\n  };\n\n  const removeUser = (userId: string) => {\n    const users = data.users.filter(user => user.id !== userId);\n    updatePermissions({ users });\n  };\n\n  const getRolePermissions = (roleId: string): string[] => {\n    const role = data.roles.find(r => r.id === `role-${roleId}` || r.name.toLowerCase() === roleId);\n    return role ? role.permissions : [];\n  };\n\n  const getRoleColor = (roleName: string) => {\n    const role = data.roles.find(r => r.name.toLowerCase() === roleName.toLowerCase());\n    return role?.color || \"#6B7280\";\n  };\n\n  const getStatusIcon = (status: string) => {\n    switch (status) {\n      case \"active\": return <CheckCircle2 className=\"w-4 h-4 text-green-500\" />;\n      case \"pending\": return <Clock className=\"w-4 h-4 text-yellow-500\" />;\n      case \"suspended\": return <XCircle className=\"w-4 h-4 text-red-500\" />;\n      default: return <Clock className=\"w-4 h-4 text-gray-500\" />;\n    }\n  };\n\n  const getStatusBadgeVariant = (status: string) => {\n    switch (status) {\n      case \"active\": return \"default\";\n      case \"pending\": return \"secondary\";\n      case \"suspended\": return \"destructive\";\n      default: return \"secondary\";\n    }\n  };\n\n  const filteredUsers = data.users.filter(user => {\n    const matchesSearch = user.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n                         user.email.toLowerCase().includes(searchQuery.toLowerCase());\n    const matchesRole = roleFilter === \"all\" || user.role === roleFilter;\n    return matchesSearch && matchesRole;\n  });\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h3 className=\"text-lg font-semibold\">Access Control & Permissions</h3>\n          <p className=\"text-sm text-muted-foreground\">\n            Manage users, roles, and access permissions for your integration\n          </p>\n        </div>\n        <Button onClick={() => setShowInviteDialog(true)} data-testid=\"button-invite-user\">\n          <UserPlus className=\"w-4 h-4 mr-2\" />\n          Invite User\n        </Button>\n      </div>\n\n      <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\n        <TabsList className=\"grid w-full grid-cols-4\">\n          <TabsTrigger value=\"users\" data-testid=\"tab-users\">Users</TabsTrigger>\n          <TabsTrigger value=\"roles\" data-testid=\"tab-roles\">Roles</TabsTrigger>\n          <TabsTrigger value=\"access-rules\" data-testid=\"tab-access-rules\">Access Rules</TabsTrigger>\n          <TabsTrigger value=\"settings\" data-testid=\"tab-security-settings\">Security</TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"users\" className=\"space-y-4\">\n          <Card>\n            <CardHeader>\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <CardTitle>Team Members</CardTitle>\n                  <CardDescription>\n                    Manage team members and their access levels\n                  </CardDescription>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"relative\">\n                    <Search className=\"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground\" />\n                    <Input\n                      placeholder=\"Search users...\"\n                      value={searchQuery}\n                      onChange={(e) => setSearchQuery(e.target.value)}\n                      className=\"pl-8 w-64\"\n                      data-testid=\"input-search-users\"\n                    />\n                  </div>\n                  <Select value={roleFilter} onValueChange={setRoleFilter}>\n                    <SelectTrigger className=\"w-32\" data-testid=\"select-role-filter\">\n                      <SelectValue placeholder=\"Role\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"all\">All Roles</SelectItem>\n                      <SelectItem value=\"owner\">Owner</SelectItem>\n                      <SelectItem value=\"admin\">Admin</SelectItem>\n                      <SelectItem value=\"editor\">Editor</SelectItem>\n                      <SelectItem value=\"viewer\">Viewer</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n              </div>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-4\">\n                {filteredUsers.length === 0 ? (\n                  <div className=\"text-center py-8\">\n                    <Users className=\"w-12 h-12 mx-auto mb-4 text-muted-foreground\" />\n                    <p className=\"text-muted-foreground\">No users found matching your search</p>\n                  </div>\n                ) : (\n                  filteredUsers.map((user) => (\n                    <div key={user.id} className=\"flex items-center justify-between p-4 border rounded-lg hover-elevate\">\n                      <div className=\"flex items-center gap-3\">\n                        <Avatar className=\"h-10 w-10\">\n                          <AvatarImage src={user.avatar} alt={user.name} />\n                          <AvatarFallback>{user.name.split(' ').map(n => n[0]).join('')}</AvatarFallback>\n                        </Avatar>\n                        <div>\n                          <div className=\"flex items-center gap-2\">\n                            <h4 className=\"font-medium\">{user.name}</h4>\n                            {getStatusIcon(user.status)}\n                          </div>\n                          <p className=\"text-sm text-muted-foreground\">{user.email}</p>\n                          <div className=\"flex items-center gap-2 mt-1\">\n                            <Badge \n                              variant=\"outline\" \n                              style={{ \n                                borderColor: getRoleColor(user.role),\n                                color: getRoleColor(user.role)\n                              }}\n                            >\n                              {user.role}\n                            </Badge>\n                            <Badge variant={getStatusBadgeVariant(user.status)}>\n                              {user.status}\n                            </Badge>\n                          </div>\n                        </div>\n                      </div>\n                      \n                      <div className=\"flex items-center gap-2\">\n                        <div className=\"text-right text-sm text-muted-foreground\">\n                          <p>Last active</p>\n                          <p>{user.lastActive.toLocaleDateString()}</p>\n                        </div>\n                        \n                        <DropdownMenu>\n                          <DropdownMenuTrigger asChild>\n                            <Button variant=\"ghost\" size=\"icon\" data-testid={`button-user-menu-${user.id}`}>\n                              <MoreHorizontal className=\"h-4 w-4\" />\n                            </Button>\n                          </DropdownMenuTrigger>\n                          <DropdownMenuContent align=\"end\">\n                            <DropdownMenuLabel>Actions</DropdownMenuLabel>\n                            <DropdownMenuItem onClick={() => setSelectedUser(user.id)}>\n                              <Edit3 className=\"w-4 h-4 mr-2\" />\n                              Edit User\n                            </DropdownMenuItem>\n                            <DropdownMenuItem \n                              onClick={() => updateUser(user.id, { \n                                status: user.status === \"suspended\" ? \"active\" : \"suspended\" \n                              })}\n                            >\n                              {user.status === \"suspended\" ? (\n                                <>\n                                  <Unlock className=\"w-4 h-4 mr-2\" />\n                                  Unsuspend\n                                </>\n                              ) : (\n                                <>\n                                  <Lock className=\"w-4 h-4 mr-2\" />\n                                  Suspend\n                                </>\n                              )}\n                            </DropdownMenuItem>\n                            <DropdownMenuSeparator />\n                            <DropdownMenuItem \n                              onClick={() => removeUser(user.id)}\n                              className=\"text-destructive\"\n                            >\n                              <Trash2 className=\"w-4 h-4 mr-2\" />\n                              Remove User\n                            </DropdownMenuItem>\n                          </DropdownMenuContent>\n                        </DropdownMenu>\n                      </div>\n                    </div>\n                  ))\n                )}\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"roles\" className=\"space-y-4\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Permission Roles</CardTitle>\n              <CardDescription>\n                Define and manage permission roles for different access levels\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <div className=\"grid gap-4 md:grid-cols-2\">\n                {data.roles.map((role) => (\n                  <div key={role.id} className=\"border rounded-lg p-4 space-y-3\">\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center gap-2\">\n                        <div \n                          className=\"w-3 h-3 rounded-full\"\n                          style={{ backgroundColor: role.color }}\n                        />\n                        <h4 className=\"font-medium\">{role.name}</h4>\n                        {role.isSystem && (\n                          <Badge variant=\"secondary\" className=\"text-xs\">System</Badge>\n                        )}\n                      </div>\n                      <Badge variant=\"outline\">{role.userCount} users</Badge>\n                    </div>\n                    \n                    <p className=\"text-sm text-muted-foreground\">{role.description}</p>\n                    \n                    <div className=\"space-y-2\">\n                      <p className=\"text-xs font-medium text-muted-foreground\">PERMISSIONS</p>\n                      <div className=\"flex flex-wrap gap-1\">\n                        {role.permissions.slice(0, 3).map((permission, index) => (\n                          <Badge key={index} variant=\"outline\" className=\"text-xs\">\n                            {permission === \"*\" ? \"All Permissions\" : permission}\n                          </Badge>\n                        ))}\n                        {role.permissions.length > 3 && (\n                          <Badge variant=\"outline\" className=\"text-xs\">\n                            +{role.permissions.length - 3} more\n                          </Badge>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader>\n              <CardTitle>Permission Groups</CardTitle>\n              <CardDescription>\n                Detailed permission breakdown by category\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-4\">\n                {data.permissionGroups.map((group) => (\n                  <div key={group.id} className=\"border rounded-lg p-4 space-y-3\">\n                    <div>\n                      <h4 className=\"font-medium\">{group.name}</h4>\n                      <p className=\"text-sm text-muted-foreground\">{group.description}</p>\n                    </div>\n                    \n                    <div className=\"grid gap-2 md:grid-cols-2\">\n                      {group.permissions.map((permission) => (\n                        <div key={permission.id} className=\"flex items-start gap-2 p-2 border rounded\">\n                          <Shield className=\"w-4 h-4 mt-0.5 text-muted-foreground\" />\n                          <div>\n                            <p className=\"text-sm font-medium\">{permission.name}</p>\n                            <p className=\"text-xs text-muted-foreground\">{permission.description}</p>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"access-rules\" className=\"space-y-4\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Access Control Rules</CardTitle>\n              <CardDescription>\n                Configure advanced access restrictions and security rules\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-4\">\n                {data.accessRules.map((rule) => (\n                  <div key={rule.id} className=\"border rounded-lg p-4 space-y-3\">\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <div className=\"flex items-center gap-2\">\n                          <h4 className=\"font-medium\">{rule.name}</h4>\n                          <Badge variant={rule.enabled ? \"default\" : \"secondary\"}>\n                            {rule.enabled ? \"Active\" : \"Disabled\"}\n                          </Badge>\n                        </div>\n                        <p className=\"text-sm text-muted-foreground\">{rule.description}</p>\n                      </div>\n                      \n                      <Switch\n                        checked={rule.enabled}\n                        onCheckedChange={(enabled) => {\n                          const accessRules = data.accessRules.map(r => \n                            r.id === rule.id ? { ...r, enabled } : r\n                          );\n                          updatePermissions({ accessRules });\n                        }}\n                        data-testid={`switch-rule-${rule.id}`}\n                      />\n                    </div>\n                    \n                    <div className=\"grid gap-2 text-sm\">\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-muted-foreground\">Type:</span>\n                        <span className=\"capitalize\">{rule.type.replace('_', ' ')}</span>\n                      </div>\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-muted-foreground\">Applies to:</span>\n                        <span>{rule.appliesTo.length} entities</span>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"settings\" className=\"space-y-4\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Security Settings</CardTitle>\n              <CardDescription>\n                Configure global security policies and authentication requirements\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"space-y-0.5\">\n                  <Label className=\"text-sm font-medium\">Require Two-Factor Authentication</Label>\n                  <p className=\"text-xs text-muted-foreground\">\n                    Enforce 2FA for all users to enhance security\n                  </p>\n                </div>\n                <Switch\n                  checked={data.settings.requireTwoFactor}\n                  onCheckedChange={(requireTwoFactor) => \n                    updatePermissions({\n                      settings: { ...data.settings, requireTwoFactor }\n                    })\n                  }\n                  data-testid=\"switch-require-2fa\"\n                />\n              </div>\n\n              <Separator />\n\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"session-timeout\">Session Timeout (minutes)</Label>\n                  <Input\n                    id=\"session-timeout\"\n                    type=\"number\"\n                    min=\"15\"\n                    max=\"1440\"\n                    value={data.settings.sessionTimeout}\n                    onChange={(e) => \n                      updatePermissions({\n                        settings: { \n                          ...data.settings, \n                          sessionTimeout: parseInt(e.target.value) || 480 \n                        }\n                      })\n                    }\n                    data-testid=\"input-session-timeout\"\n                  />\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"max-failed-logins\">Max Failed Login Attempts</Label>\n                  <Input\n                    id=\"max-failed-logins\"\n                    type=\"number\"\n                    min=\"3\"\n                    max=\"20\"\n                    value={data.settings.maxFailedLogins}\n                    onChange={(e) => \n                      updatePermissions({\n                        settings: { \n                          ...data.settings, \n                          maxFailedLogins: parseInt(e.target.value) || 5 \n                        }\n                      })\n                    }\n                    data-testid=\"input-max-failed-logins\"\n                  />\n                </div>\n              </div>\n\n              <Separator />\n\n              <div className=\"space-y-4\">\n                <h4 className=\"font-medium\">Password Policy</h4>\n                \n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"min-password-length\">Minimum Length</Label>\n                    <Input\n                      id=\"min-password-length\"\n                      type=\"number\"\n                      min=\"6\"\n                      max=\"50\"\n                      value={data.settings.passwordPolicy.minLength}\n                      onChange={(e) => \n                        updatePermissions({\n                          settings: { \n                            ...data.settings, \n                            passwordPolicy: {\n                              ...data.settings.passwordPolicy,\n                              minLength: parseInt(e.target.value) || 12\n                            }\n                          }\n                        })\n                      }\n                      data-testid=\"input-min-password-length\"\n                    />\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"password-expiry\">Password Expiry (days)</Label>\n                    <Input\n                      id=\"password-expiry\"\n                      type=\"number\"\n                      min=\"30\"\n                      max=\"365\"\n                      value={data.settings.passwordPolicy.expirationDays}\n                      onChange={(e) => \n                        updatePermissions({\n                          settings: { \n                            ...data.settings, \n                            passwordPolicy: {\n                              ...data.settings.passwordPolicy,\n                              expirationDays: parseInt(e.target.value) || 90\n                            }\n                          }\n                        })\n                      }\n                      data-testid=\"input-password-expiry\"\n                    />\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div className=\"flex items-center justify-between\">\n                    <Label className=\"text-sm\">Require Uppercase</Label>\n                    <Switch\n                      checked={data.settings.passwordPolicy.requireUppercase}\n                      onCheckedChange={(requireUppercase) => \n                        updatePermissions({\n                          settings: { \n                            ...data.settings, \n                            passwordPolicy: {\n                              ...data.settings.passwordPolicy,\n                              requireUppercase\n                            }\n                          }\n                        })\n                      }\n                      data-testid=\"switch-require-uppercase\"\n                    />\n                  </div>\n\n                  <div className=\"flex items-center justify-between\">\n                    <Label className=\"text-sm\">Require Numbers</Label>\n                    <Switch\n                      checked={data.settings.passwordPolicy.requireNumbers}\n                      onCheckedChange={(requireNumbers) => \n                        updatePermissions({\n                          settings: { \n                            ...data.settings, \n                            passwordPolicy: {\n                              ...data.settings.passwordPolicy,\n                              requireNumbers\n                            }\n                          }\n                        })\n                      }\n                      data-testid=\"switch-require-numbers\"\n                    />\n                  </div>\n\n                  <div className=\"flex items-center justify-between\">\n                    <Label className=\"text-sm\">Require Lowercase</Label>\n                    <Switch\n                      checked={data.settings.passwordPolicy.requireLowercase}\n                      onCheckedChange={(requireLowercase) => \n                        updatePermissions({\n                          settings: { \n                            ...data.settings, \n                            passwordPolicy: {\n                              ...data.settings.passwordPolicy,\n                              requireLowercase\n                            }\n                          }\n                        })\n                      }\n                      data-testid=\"switch-require-lowercase\"\n                    />\n                  </div>\n\n                  <div className=\"flex items-center justify-between\">\n                    <Label className=\"text-sm\">Require Special Characters</Label>\n                    <Switch\n                      checked={data.settings.passwordPolicy.requireSpecialChars}\n                      onCheckedChange={(requireSpecialChars) => \n                        updatePermissions({\n                          settings: { \n                            ...data.settings, \n                            passwordPolicy: {\n                              ...data.settings.passwordPolicy,\n                              requireSpecialChars\n                            }\n                          }\n                        })\n                      }\n                      data-testid=\"switch-require-special-chars\"\n                    />\n                  </div>\n                </div>\n              </div>\n\n              <Separator />\n\n              <div className=\"space-y-4\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"space-y-0.5\">\n                    <Label className=\"text-sm font-medium\">Auto-suspend Inactive Users</Label>\n                    <p className=\"text-xs text-muted-foreground\">\n                      Automatically suspend users who haven't logged in for a specified period\n                    </p>\n                  </div>\n                  <Switch\n                    checked={data.settings.autoSuspendInactiveUsers}\n                    onCheckedChange={(autoSuspendInactiveUsers) => \n                      updatePermissions({\n                        settings: { ...data.settings, autoSuspendInactiveUsers }\n                      })\n                    }\n                    data-testid=\"switch-auto-suspend-users\"\n                  />\n                </div>\n\n                {data.settings.autoSuspendInactiveUsers && (\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"inactive-user-days\">Inactive Period (days)</Label>\n                    <Input\n                      id=\"inactive-user-days\"\n                      type=\"number\"\n                      min=\"30\"\n                      max=\"365\"\n                      value={data.settings.inactiveUserDays}\n                      onChange={(e) => \n                        updatePermissions({\n                          settings: { \n                            ...data.settings, \n                            inactiveUserDays: parseInt(e.target.value) || 90 \n                          }\n                        })\n                      }\n                      data-testid=\"input-inactive-user-days\"\n                    />\n                  </div>\n                )}\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n\n      {/* Invite User Dialog */}\n      <Dialog open={showInviteDialog} onOpenChange={setShowInviteDialog}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Invite New User</DialogTitle>\n            <DialogDescription>\n              Send an invitation to a new team member. They'll receive an email with setup instructions.\n            </DialogDescription>\n          </DialogHeader>\n          \n          <div className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"invite-email\">Email Address</Label>\n              <Input\n                id=\"invite-email\"\n                type=\"email\"\n                placeholder=\"user@company.com\"\n                data-testid=\"input-invite-email\"\n              />\n            </div>\n            \n            <div className=\"space-y-2\">\n              <Label htmlFor=\"invite-role\">Role</Label>\n              <Select>\n                <SelectTrigger data-testid=\"select-invite-role\">\n                  <SelectValue placeholder=\"Select a role\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"viewer\">Viewer</SelectItem>\n                  <SelectItem value=\"editor\">Editor</SelectItem>\n                  <SelectItem value=\"admin\">Administrator</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n            \n            <div className=\"space-y-2\">\n              <Label htmlFor=\"invite-message\">Personal Message (Optional)</Label>\n              <Textarea\n                id=\"invite-message\"\n                placeholder=\"Add a personal message to the invitation...\"\n                data-testid=\"textarea-invite-message\"\n              />\n            </div>\n          </div>\n          \n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setShowInviteDialog(false)}>\n              Cancel\n            </Button>\n            <Button \n              onClick={() => inviteUser({ \n                email: \"user@company.com\", \n                role: \"viewer\" \n              })}\n              data-testid=\"button-send-invitation\"\n            >\n              Send Invitation\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}","size_bytes":37815},"client/src/components/tabs/SecurityComplianceTab.tsx":{"content":"import { useState } from \"react\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { \n  Shield, \n  Key, \n  Lock, \n  ShieldCheck, \n  AlertTriangle, \n  CheckCircle2, \n  XCircle, \n  Clock, \n  FileText, \n  Download, \n  Upload, \n  Globe, \n  Database, \n  Server, \n  Wifi, \n  Eye, \n  EyeOff,\n  Settings,\n  Scan,\n  RefreshCw,\n  TrendingUp,\n  AlertCircle,\n  Info,\n  Plus,\n  Trash2,\n  Edit3,\n  Copy,\n  ExternalLink,\n  BarChart3,\n  Activity,\n  Users,\n  Calendar,\n  Zap\n} from \"lucide-react\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/components/ui/dialog\";\n\n// Security & Compliance interfaces\ninterface SecurityPolicy {\n  id: string;\n  name: string;\n  type: \"data_encryption\" | \"api_security\" | \"access_control\" | \"compliance\" | \"privacy\";\n  status: \"active\" | \"inactive\" | \"pending\" | \"failed\";\n  severity: \"critical\" | \"high\" | \"medium\" | \"low\";\n  description: string;\n  requirements: string[];\n  lastUpdated: Date;\n  nextReview: Date;\n  owner: string;\n  tags: string[];\n  compliance: {\n    gdpr: boolean;\n    hipaa: boolean;\n    sox: boolean;\n    iso27001: boolean;\n    pci: boolean;\n  };\n}\n\ninterface SecurityScan {\n  id: string;\n  type: \"vulnerability\" | \"penetration\" | \"compliance\" | \"dependency\" | \"code_analysis\";\n  status: \"running\" | \"completed\" | \"failed\" | \"scheduled\";\n  severity: \"critical\" | \"high\" | \"medium\" | \"low\" | \"info\";\n  startTime: Date;\n  endTime?: Date;\n  duration?: number;\n  findings: {\n    critical: number;\n    high: number;\n    medium: number;\n    low: number;\n    info: number;\n  };\n  summary: string;\n  recommendations: string[];\n  reportUrl?: string;\n}\n\ninterface ComplianceFramework {\n  id: string;\n  name: string;\n  version: string;\n  status: \"compliant\" | \"partial\" | \"non_compliant\" | \"in_progress\";\n  score: number; // 0-100\n  requirements: {\n    total: number;\n    met: number;\n    pending: number;\n    failed: number;\n  };\n  lastAssessment: Date;\n  nextAssessment: Date;\n  certificationExpiry?: Date;\n  assessor: string;\n  findings: string[];\n}\n\ninterface EncryptionConfig {\n  id: string;\n  type: \"data_at_rest\" | \"data_in_transit\" | \"api_keys\" | \"session_data\" | \"logs\";\n  algorithm: string;\n  keySize: number;\n  status: \"active\" | \"inactive\" | \"rotating\" | \"failed\";\n  lastRotation: Date;\n  nextRotation: Date;\n  rotationInterval: number; // days\n  description: string;\n  scope: string[];\n}\n\ninterface SecurityAlert {\n  id: string;\n  type: \"security_breach\" | \"vulnerability\" | \"policy_violation\" | \"compliance_issue\" | \"suspicious_activity\";\n  severity: \"critical\" | \"high\" | \"medium\" | \"low\";\n  title: string;\n  description: string;\n  timestamp: Date;\n  source: string;\n  status: \"open\" | \"investigating\" | \"mitigated\" | \"resolved\" | \"false_positive\";\n  assignee?: string;\n  affectedSystems: string[];\n  impact: \"high\" | \"medium\" | \"low\";\n  resolution?: string;\n  estimatedResolutionTime?: number; // hours\n}\n\ninterface SecurityMetrics {\n  overallSecurityScore: number; // 0-100\n  complianceScore: number; // 0-100\n  vulnerabilities: {\n    critical: number;\n    high: number;\n    medium: number;\n    low: number;\n    total: number;\n  };\n  incidentResponseTime: number; // average hours\n  patchingCompliance: number; // percentage\n  encryptionCoverage: number; // percentage\n  securityTrainingCompletion: number; // percentage\n  lastSecurityAudit: Date;\n  nextScheduledScan: Date;\n}\n\ninterface SecurityComplianceData {\n  policies: SecurityPolicy[];\n  scans: SecurityScan[];\n  frameworks: ComplianceFramework[];\n  encryption: EncryptionConfig[];\n  alerts: SecurityAlert[];\n  metrics: SecurityMetrics;\n  settings: {\n    automaticScanning: boolean;\n    scanFrequency: \"daily\" | \"weekly\" | \"monthly\" | \"quarterly\";\n    alertNotifications: boolean;\n    complianceReporting: boolean;\n    encryptionRequired: boolean;\n    mfaRequired: boolean;\n    passwordPolicy: {\n      minLength: number;\n      requireSpecialChars: boolean;\n      requireNumbers: boolean;\n      expirationDays: number;\n    };\n    sessionTimeout: number; // minutes\n    failedLoginLockout: number; // attempts\n    ipWhitelisting: boolean;\n    dataRetentionPeriod: number; // days\n  };\n}\n\n// Default security compliance data\nconst defaultSecurityData: SecurityComplianceData = {\n  policies: [\n    {\n      id: \"policy-001\",\n      name: \"Data Encryption Policy\",\n      type: \"data_encryption\",\n      status: \"active\",\n      severity: \"critical\",\n      description: \"All sensitive data must be encrypted at rest and in transit using AES-256 encryption\",\n      requirements: [\n        \"Use AES-256 encryption for data at rest\",\n        \"Implement TLS 1.3 for data in transit\",\n        \"Regular key rotation every 90 days\",\n        \"Secure key management practices\"\n      ],\n      lastUpdated: new Date(Date.now() - 1000 * 60 * 60 * 24 * 30),\n      nextReview: new Date(Date.now() + 1000 * 60 * 60 * 24 * 60),\n      owner: \"Security Team\",\n      tags: [\"encryption\", \"data-protection\", \"critical\"],\n      compliance: {\n        gdpr: true,\n        hipaa: true,\n        sox: true,\n        iso27001: true,\n        pci: true,\n      },\n    },\n    {\n      id: \"policy-002\",\n      name: \"API Security Standards\",\n      type: \"api_security\",\n      status: \"active\",\n      severity: \"high\",\n      description: \"Security requirements for all API endpoints and integrations\",\n      requirements: [\n        \"OAuth 2.0 authentication required\",\n        \"Rate limiting implemented\",\n        \"API key rotation every 60 days\",\n        \"Input validation and sanitization\",\n        \"Security headers implementation\"\n      ],\n      lastUpdated: new Date(Date.now() - 1000 * 60 * 60 * 24 * 15),\n      nextReview: new Date(Date.now() + 1000 * 60 * 60 * 24 * 45),\n      owner: \"DevOps Team\",\n      tags: [\"api\", \"security\", \"authentication\"],\n      compliance: {\n        gdpr: true,\n        hipaa: false,\n        sox: false,\n        iso27001: true,\n        pci: true,\n      },\n    },\n    {\n      id: \"policy-003\",\n      name: \"GDPR Compliance Framework\",\n      type: \"compliance\",\n      status: \"active\",\n      severity: \"critical\",\n      description: \"General Data Protection Regulation compliance requirements\",\n      requirements: [\n        \"Data minimization practices\",\n        \"Right to be forgotten implementation\",\n        \"Consent management system\",\n        \"Data breach notification within 72 hours\",\n        \"Privacy by design principles\"\n      ],\n      lastUpdated: new Date(Date.now() - 1000 * 60 * 60 * 24 * 10),\n      nextReview: new Date(Date.now() + 1000 * 60 * 60 * 24 * 80),\n      owner: \"Legal Team\",\n      tags: [\"gdpr\", \"privacy\", \"compliance\"],\n      compliance: {\n        gdpr: true,\n        hipaa: false,\n        sox: false,\n        iso27001: false,\n        pci: false,\n      },\n    },\n  ],\n  scans: [\n    {\n      id: \"scan-001\",\n      type: \"vulnerability\",\n      status: \"completed\",\n      severity: \"medium\",\n      startTime: new Date(Date.now() - 1000 * 60 * 60 * 3),\n      endTime: new Date(Date.now() - 1000 * 60 * 60 * 2),\n      duration: 60,\n      findings: {\n        critical: 0,\n        high: 2,\n        medium: 5,\n        low: 12,\n        info: 8,\n      },\n      summary: \"Vulnerability scan completed with 2 high-severity findings that require immediate attention\",\n      recommendations: [\n        \"Update outdated SSL certificates\",\n        \"Patch identified security vulnerabilities\",\n        \"Review and strengthen API rate limiting\",\n        \"Implement additional input validation\"\n      ],\n      reportUrl: \"/reports/vulnerability-scan-001.pdf\",\n    },\n    {\n      id: \"scan-002\",\n      type: \"compliance\",\n      status: \"running\",\n      severity: \"low\",\n      startTime: new Date(Date.now() - 1000 * 60 * 30),\n      findings: {\n        critical: 0,\n        high: 0,\n        medium: 0,\n        low: 0,\n        info: 0,\n      },\n      summary: \"GDPR compliance assessment in progress\",\n      recommendations: [],\n    },\n    {\n      id: \"scan-003\",\n      type: \"penetration\",\n      status: \"scheduled\",\n      severity: \"high\",\n      startTime: new Date(Date.now() + 1000 * 60 * 60 * 24 * 7),\n      findings: {\n        critical: 0,\n        high: 0,\n        medium: 0,\n        low: 0,\n        info: 0,\n      },\n      summary: \"Quarterly penetration testing scheduled\",\n      recommendations: [],\n    },\n  ],\n  frameworks: [\n    {\n      id: \"framework-001\",\n      name: \"ISO 27001\",\n      version: \"2013\",\n      status: \"compliant\",\n      score: 92,\n      requirements: {\n        total: 114,\n        met: 105,\n        pending: 6,\n        failed: 3,\n      },\n      lastAssessment: new Date(Date.now() - 1000 * 60 * 60 * 24 * 45),\n      nextAssessment: new Date(Date.now() + 1000 * 60 * 60 * 24 * 320),\n      certificationExpiry: new Date(Date.now() + 1000 * 60 * 60 * 24 * 365),\n      assessor: \"External Security Auditor\",\n      findings: [\n        \"Strong access control implementation\",\n        \"Comprehensive incident response procedures\",\n        \"Minor gaps in documentation review processes\"\n      ],\n    },\n    {\n      id: \"framework-002\",\n      name: \"GDPR\",\n      version: \"2018\",\n      status: \"partial\",\n      score: 78,\n      requirements: {\n        total: 99,\n        met: 77,\n        pending: 15,\n        failed: 7,\n      },\n      lastAssessment: new Date(Date.now() - 1000 * 60 * 60 * 24 * 20),\n      nextAssessment: new Date(Date.now() + 1000 * 60 * 60 * 24 * 70),\n      assessor: \"Privacy Consultant\",\n      findings: [\n        \"Good data minimization practices\",\n        \"Consent management needs improvement\",\n        \"Data breach notification process requires refinement\"\n      ],\n    },\n    {\n      id: \"framework-003\",\n      name: \"SOC 2 Type II\",\n      version: \"2017\",\n      status: \"in_progress\",\n      score: 65,\n      requirements: {\n        total: 64,\n        met: 42,\n        pending: 18,\n        failed: 4,\n      },\n      lastAssessment: new Date(Date.now() - 1000 * 60 * 60 * 24 * 90),\n      nextAssessment: new Date(Date.now() + 1000 * 60 * 60 * 24 * 30),\n      assessor: \"Accounting Firm\",\n      findings: [\n        \"Security controls implementation progressing well\",\n        \"Availability monitoring needs enhancement\",\n        \"Change management documentation incomplete\"\n      ],\n    },\n  ],\n  encryption: [\n    {\n      id: \"encryption-001\",\n      type: \"data_at_rest\",\n      algorithm: \"AES-256-GCM\",\n      keySize: 256,\n      status: \"active\",\n      lastRotation: new Date(Date.now() - 1000 * 60 * 60 * 24 * 45),\n      nextRotation: new Date(Date.now() + 1000 * 60 * 60 * 24 * 45),\n      rotationInterval: 90,\n      description: \"Database encryption for all user data and sensitive information\",\n      scope: [\"user_data\", \"financial_records\", \"personal_information\"],\n    },\n    {\n      id: \"encryption-002\",\n      type: \"data_in_transit\",\n      algorithm: \"TLS 1.3\",\n      keySize: 256,\n      status: \"active\",\n      lastRotation: new Date(Date.now() - 1000 * 60 * 60 * 24 * 30),\n      nextRotation: new Date(Date.now() + 1000 * 60 * 60 * 24 * 60),\n      rotationInterval: 90,\n      description: \"TLS encryption for all API communications and data transfers\",\n      scope: [\"api_communications\", \"user_sessions\", \"admin_access\"],\n    },\n    {\n      id: \"encryption-003\",\n      type: \"api_keys\",\n      algorithm: \"RSA-4096\",\n      keySize: 4096,\n      status: \"rotating\",\n      lastRotation: new Date(Date.now() - 1000 * 60 * 60 * 24 * 55),\n      nextRotation: new Date(Date.now() + 1000 * 60 * 60 * 24 * 5),\n      rotationInterval: 60,\n      description: \"API key encryption and secure storage\",\n      scope: [\"integration_keys\", \"webhook_signatures\", \"oauth_tokens\"],\n    },\n  ],\n  alerts: [\n    {\n      id: \"alert-001\",\n      type: \"vulnerability\",\n      severity: \"high\",\n      title: \"Critical Security Vulnerability Detected\",\n      description: \"High-severity vulnerability found in third-party dependency\",\n      timestamp: new Date(Date.now() - 1000 * 60 * 60 * 2),\n      source: \"Dependency Scanner\",\n      status: \"investigating\",\n      assignee: \"Security Team\",\n      affectedSystems: [\"API Gateway\", \"User Authentication\"],\n      impact: \"high\",\n      estimatedResolutionTime: 24,\n    },\n    {\n      id: \"alert-002\",\n      type: \"policy_violation\",\n      severity: \"medium\",\n      title: \"Data Retention Policy Violation\",\n      description: \"Data older than retention period detected in backup systems\",\n      timestamp: new Date(Date.now() - 1000 * 60 * 60 * 6),\n      source: \"Compliance Monitor\",\n      status: \"mitigated\",\n      assignee: \"Data Team\",\n      affectedSystems: [\"Backup Systems\"],\n      impact: \"medium\",\n      resolution: \"Automated cleanup process initiated to remove expired data\",\n    },\n    {\n      id: \"alert-003\",\n      type: \"suspicious_activity\",\n      severity: \"critical\",\n      title: \"Unusual API Access Pattern\",\n      description: \"Abnormally high API request volume from single IP address\",\n      timestamp: new Date(Date.now() - 1000 * 60 * 30),\n      source: \"API Monitor\",\n      status: \"resolved\",\n      assignee: \"DevOps Team\",\n      affectedSystems: [\"API Gateway\", \"Rate Limiter\"],\n      impact: \"low\",\n      resolution: \"IP address blocked and rate limiting enhanced\",\n    },\n  ],\n  metrics: {\n    overallSecurityScore: 87,\n    complianceScore: 78,\n    vulnerabilities: {\n      critical: 0,\n      high: 3,\n      medium: 8,\n      low: 15,\n      total: 26,\n    },\n    incidentResponseTime: 2.4,\n    patchingCompliance: 94,\n    encryptionCoverage: 98,\n    securityTrainingCompletion: 89,\n    lastSecurityAudit: new Date(Date.now() - 1000 * 60 * 60 * 24 * 45),\n    nextScheduledScan: new Date(Date.now() + 1000 * 60 * 60 * 24 * 7),\n  },\n  settings: {\n    automaticScanning: true,\n    scanFrequency: \"weekly\",\n    alertNotifications: true,\n    complianceReporting: true,\n    encryptionRequired: true,\n    mfaRequired: true,\n    passwordPolicy: {\n      minLength: 12,\n      requireSpecialChars: true,\n      requireNumbers: true,\n      expirationDays: 90,\n    },\n    sessionTimeout: 480, // 8 hours\n    failedLoginLockout: 5,\n    ipWhitelisting: false,\n    dataRetentionPeriod: 2555, // 7 years\n  },\n};\n\ninterface SecurityComplianceTabProps {\n  data: SecurityComplianceData;\n  onChange: (data: SecurityComplianceData) => void;\n}\n\nexport default function SecurityComplianceTab({ data, onChange }: SecurityComplianceTabProps) {\n  const [activeTab, setActiveTab] = useState(\"overview\");\n  const [selectedPolicy, setSelectedPolicy] = useState<string | null>(null);\n  const [showNewPolicyDialog, setShowNewPolicyDialog] = useState(false);\n\n  // Use data directly from props (controlled component pattern)\n  \n  const updateSecurityData = (updates: Partial<SecurityComplianceData>) => {\n    onChange({ ...data, ...updates });\n  };\n\n  const getStatusIcon = (status: string) => {\n    switch (status) {\n      case \"active\":\n      case \"compliant\":\n      case \"completed\":\n      case \"resolved\": return <CheckCircle2 className=\"w-4 h-4 text-green-500\" />;\n      case \"partial\":\n      case \"pending\":\n      case \"investigating\":\n      case \"running\": return <Clock className=\"w-4 h-4 text-yellow-500\" />;\n      case \"inactive\":\n      case \"non_compliant\":\n      case \"failed\": return <XCircle className=\"w-4 h-4 text-red-500\" />;\n      case \"in_progress\":\n      case \"mitigated\": return <Activity className=\"w-4 h-4 text-blue-500\" />;\n      default: return <AlertCircle className=\"w-4 h-4 text-gray-500\" />;\n    }\n  };\n\n  const getStatusBadgeVariant = (status: string) => {\n    switch (status) {\n      case \"active\":\n      case \"compliant\":\n      case \"completed\":\n      case \"resolved\": return \"default\";\n      case \"partial\":\n      case \"pending\":\n      case \"investigating\":\n      case \"running\": return \"secondary\";\n      case \"inactive\":\n      case \"non_compliant\":\n      case \"failed\": return \"destructive\";\n      case \"in_progress\":\n      case \"mitigated\": return \"outline\";\n      default: return \"secondary\";\n    }\n  };\n\n  const getSeverityColor = (severity: string) => {\n    switch (severity) {\n      case \"critical\": return \"text-red-600\";\n      case \"high\": return \"text-orange-500\";\n      case \"medium\": return \"text-yellow-500\";\n      case \"low\": return \"text-blue-500\";\n      default: return \"text-gray-500\";\n    }\n  };\n\n  const getComplianceColor = (score: number) => {\n    if (score >= 90) return \"text-green-600\";\n    if (score >= 75) return \"text-yellow-600\";\n    if (score >= 60) return \"text-orange-600\";\n    return \"text-red-600\";\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h3 className=\"text-lg font-semibold\">Security & Compliance</h3>\n          <p className=\"text-sm text-muted-foreground\">\n            Manage security policies, compliance frameworks, and monitoring\n          </p>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <Button variant=\"outline\" size=\"sm\" data-testid=\"button-run-security-scan\">\n            <Scan className=\"w-4 h-4 mr-2\" />\n            Run Scan\n          </Button>\n          <Button variant=\"outline\" size=\"sm\" data-testid=\"button-generate-compliance-report\">\n            <FileText className=\"w-4 h-4 mr-2\" />\n            Compliance Report\n          </Button>\n        </div>\n      </div>\n\n      {/* Security Overview Dashboard */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <Card data-testid=\"card-security-score\">\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Security Score</p>\n                <p className={`text-2xl font-bold ${getComplianceColor(data.metrics.overallSecurityScore)}`} data-testid=\"text-security-score\">\n                  {data.metrics.overallSecurityScore}%\n                </p>\n              </div>\n              <Shield className=\"w-8 h-8 text-muted-foreground\" />\n            </div>\n          </CardContent>\n        </Card>\n        \n        <Card data-testid=\"card-compliance-score\">\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Compliance Score</p>\n                <p className={`text-2xl font-bold ${getComplianceColor(data.metrics.complianceScore)}`} data-testid=\"text-compliance-score\">\n                  {data.metrics.complianceScore}%\n                </p>\n              </div>\n              <ShieldCheck className=\"w-8 h-8 text-muted-foreground\" />\n            </div>\n          </CardContent>\n        </Card>\n        \n        <Card data-testid=\"card-vulnerabilities\">\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Vulnerabilities</p>\n                <p className=\"text-2xl font-bold text-orange-500\" data-testid=\"text-total-vulnerabilities\">\n                  {data.metrics.vulnerabilities.total}\n                </p>\n              </div>\n              <AlertTriangle className=\"w-8 h-8 text-orange-500\" />\n            </div>\n          </CardContent>\n        </Card>\n        \n        <Card data-testid=\"card-encryption-coverage\">\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Encryption Coverage</p>\n                <p className=\"text-2xl font-bold text-green-500\" data-testid=\"text-encryption-coverage\">\n                  {data.metrics.encryptionCoverage}%\n                </p>\n              </div>\n              <Lock className=\"w-8 h-8 text-green-500\" />\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\n        <TabsList className=\"grid w-full grid-cols-5\">\n          <TabsTrigger value=\"overview\" data-testid=\"tab-security-overview\">Overview</TabsTrigger>\n          <TabsTrigger value=\"policies\" data-testid=\"tab-security-policies\">Policies</TabsTrigger>\n          <TabsTrigger value=\"compliance\" data-testid=\"tab-compliance-frameworks\">Compliance</TabsTrigger>\n          <TabsTrigger value=\"encryption\" data-testid=\"tab-encryption-management\">Encryption</TabsTrigger>\n          <TabsTrigger value=\"settings\" data-testid=\"tab-security-settings\">Settings</TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"overview\" className=\"space-y-4\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n            {/* Recent Security Alerts */}\n            <Card data-testid=\"card-recent-alerts\">\n              <CardHeader>\n                <CardTitle>Recent Security Alerts</CardTitle>\n                <CardDescription>\n                  Latest security incidents and policy violations\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-3\">\n                  {data.alerts.slice(0, 3).map((alert) => (\n                    <div key={alert.id} className=\"border rounded-lg p-3 space-y-2\" data-testid={`card-alert-${alert.id}`}>\n                      <div className=\"flex items-start justify-between\">\n                        <div className=\"flex items-start gap-2\">\n                          <AlertTriangle className={`w-4 h-4 mt-0.5 ${getSeverityColor(alert.severity)}`} />\n                          <div>\n                            <h4 className=\"font-medium text-sm\">{alert.title}</h4>\n                            <p className=\"text-xs text-muted-foreground\">{alert.description}</p>\n                          </div>\n                        </div>\n                        <Badge variant={getStatusBadgeVariant(alert.status)}>\n                          {alert.status}\n                        </Badge>\n                      </div>\n                      <div className=\"text-xs text-muted-foreground\">\n                        {alert.timestamp.toLocaleString()} • {alert.source}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Vulnerability Breakdown */}\n            <Card data-testid=\"card-vulnerability-breakdown\">\n              <CardHeader>\n                <CardTitle>Vulnerability Breakdown</CardTitle>\n                <CardDescription>\n                  Current security vulnerabilities by severity\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-3\">\n                  <div className=\"flex justify-between items-center\">\n                    <div className=\"flex items-center gap-2\">\n                      <div className=\"w-3 h-3 bg-red-500 rounded-full\"></div>\n                      <span className=\"text-sm\">Critical</span>\n                    </div>\n                    <Badge variant=\"destructive\" data-testid=\"badge-critical-vulnerabilities\">\n                      {data.metrics.vulnerabilities.critical}\n                    </Badge>\n                  </div>\n                  <div className=\"flex justify-between items-center\">\n                    <div className=\"flex items-center gap-2\">\n                      <div className=\"w-3 h-3 bg-orange-500 rounded-full\"></div>\n                      <span className=\"text-sm\">High</span>\n                    </div>\n                    <Badge variant=\"secondary\" data-testid=\"badge-high-vulnerabilities\">\n                      {data.metrics.vulnerabilities.high}\n                    </Badge>\n                  </div>\n                  <div className=\"flex justify-between items-center\">\n                    <div className=\"flex items-center gap-2\">\n                      <div className=\"w-3 h-3 bg-yellow-500 rounded-full\"></div>\n                      <span className=\"text-sm\">Medium</span>\n                    </div>\n                    <Badge variant=\"secondary\" data-testid=\"badge-medium-vulnerabilities\">\n                      {data.metrics.vulnerabilities.medium}\n                    </Badge>\n                  </div>\n                  <div className=\"flex justify-between items-center\">\n                    <div className=\"flex items-center gap-2\">\n                      <div className=\"w-3 h-3 bg-blue-500 rounded-full\"></div>\n                      <span className=\"text-sm\">Low</span>\n                    </div>\n                    <Badge variant=\"outline\" data-testid=\"badge-low-vulnerabilities\">\n                      {data.metrics.vulnerabilities.low}\n                    </Badge>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* Security Scans */}\n          <Card data-testid=\"card-security-scans\">\n            <CardHeader>\n              <CardTitle>Security Scans</CardTitle>\n              <CardDescription>\n                Recent and scheduled security assessments\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <Table data-testid=\"table-security-scans\">\n                <TableHeader>\n                  <TableRow>\n                    <TableHead>Type</TableHead>\n                    <TableHead>Status</TableHead>\n                    <TableHead>Findings</TableHead>\n                    <TableHead>Duration</TableHead>\n                    <TableHead>Actions</TableHead>\n                  </TableRow>\n                </TableHeader>\n                <TableBody>\n                  {data.scans.map((scan) => (\n                    <TableRow key={scan.id} data-testid={`row-scan-${scan.id}`}>\n                      <TableCell>\n                        <div className=\"font-medium capitalize\">{scan.type.replace('_', ' ')}</div>\n                        <div className=\"text-sm text-muted-foreground\">{scan.summary}</div>\n                      </TableCell>\n                      <TableCell>\n                        <Badge variant={getStatusBadgeVariant(scan.status)}>\n                          {getStatusIcon(scan.status)}\n                          <span className=\"ml-1 capitalize\">{scan.status}</span>\n                        </Badge>\n                      </TableCell>\n                      <TableCell>\n                        {scan.status === \"completed\" ? (\n                          <div className=\"text-sm space-y-1\">\n                            <div className=\"text-red-600\">Critical: {scan.findings.critical}</div>\n                            <div className=\"text-orange-500\">High: {scan.findings.high}</div>\n                            <div className=\"text-yellow-500\">Medium: {scan.findings.medium}</div>\n                          </div>\n                        ) : (\n                          <div className=\"text-muted-foreground\">—</div>\n                        )}\n                      </TableCell>\n                      <TableCell>\n                        {scan.duration ? `${scan.duration} min` : \"—\"}\n                      </TableCell>\n                      <TableCell>\n                        <Button variant=\"ghost\" size=\"sm\" data-testid={`button-view-scan-${scan.id}`}>\n                          <Eye className=\"w-4 h-4 mr-1\" />\n                          View\n                        </Button>\n                      </TableCell>\n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"policies\" className=\"space-y-4\">\n          <Card data-testid=\"card-security-policies\">\n            <CardHeader>\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <CardTitle>Security Policies</CardTitle>\n                  <CardDescription>\n                    Manage and monitor security policy compliance\n                  </CardDescription>\n                </div>\n                <Button onClick={() => setShowNewPolicyDialog(true)} data-testid=\"button-add-policy\">\n                  <Plus className=\"w-4 h-4 mr-2\" />\n                  Add Policy\n                </Button>\n              </div>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-4\">\n                {data.policies.map((policy) => (\n                  <div key={policy.id} className=\"border rounded-lg p-4 space-y-3\" data-testid={`card-policy-${policy.id}`}>\n                    <div className=\"flex items-start justify-between\">\n                      <div className=\"space-y-2\">\n                        <div className=\"flex items-center gap-2\">\n                          <h4 className=\"font-medium\">{policy.name}</h4>\n                          <Badge variant={getStatusBadgeVariant(policy.status)}>\n                            {policy.status}\n                          </Badge>\n                          <Badge variant=\"outline\" className={getSeverityColor(policy.severity)}>\n                            {policy.severity}\n                          </Badge>\n                        </div>\n                        <p className=\"text-sm text-muted-foreground\">{policy.description}</p>\n                        <div className=\"flex flex-wrap gap-1\">\n                          {policy.tags.map((tag) => (\n                            <Badge key={tag} variant=\"secondary\" className=\"text-xs\">\n                              {tag}\n                            </Badge>\n                          ))}\n                        </div>\n                      </div>\n                      \n                      <DropdownMenu>\n                        <DropdownMenuTrigger asChild>\n                          <Button variant=\"ghost\" size=\"icon\" data-testid={`button-policy-menu-${policy.id}`}>\n                            <Settings className=\"h-4 w-4\" />\n                          </Button>\n                        </DropdownMenuTrigger>\n                        <DropdownMenuContent align=\"end\">\n                          <DropdownMenuLabel>Actions</DropdownMenuLabel>\n                          <DropdownMenuItem data-testid={`button-edit-policy-${policy.id}`}>\n                            <Edit3 className=\"w-4 h-4 mr-2\" />\n                            Edit Policy\n                          </DropdownMenuItem>\n                          <DropdownMenuItem data-testid={`button-duplicate-policy-${policy.id}`}>\n                            <Copy className=\"w-4 h-4 mr-2\" />\n                            Duplicate\n                          </DropdownMenuItem>\n                          <DropdownMenuSeparator />\n                          <DropdownMenuItem className=\"text-destructive\" data-testid={`button-delete-policy-${policy.id}`}>\n                            <Trash2 className=\"w-4 h-4 mr-2\" />\n                            Delete\n                          </DropdownMenuItem>\n                        </DropdownMenuContent>\n                      </DropdownMenu>\n                    </div>\n                    \n                    <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                      <div>\n                        <span className=\"text-muted-foreground\">Owner:</span> {policy.owner}\n                      </div>\n                      <div>\n                        <span className=\"text-muted-foreground\">Last Updated:</span> {policy.lastUpdated.toLocaleDateString()}\n                      </div>\n                      <div>\n                        <span className=\"text-muted-foreground\">Next Review:</span> {policy.nextReview.toLocaleDateString()}\n                      </div>\n                      <div>\n                        <span className=\"text-muted-foreground\">Requirements:</span> {policy.requirements.length}\n                      </div>\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <p className=\"text-sm font-medium\">Compliance Frameworks</p>\n                      <div className=\"flex flex-wrap gap-2\">\n                        {Object.entries(policy.compliance).map(([framework, compliant]) => (\n                          compliant && (\n                            <Badge key={framework} variant=\"outline\" className=\"text-xs\">\n                              {framework.toUpperCase()}\n                            </Badge>\n                          )\n                        ))}\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"compliance\" className=\"space-y-4\">\n          <Card data-testid=\"card-compliance-frameworks\">\n            <CardHeader>\n              <CardTitle>Compliance Frameworks</CardTitle>\n              <CardDescription>\n                Monitor compliance status across industry standards\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-6\">\n                {data.frameworks.map((framework) => (\n                  <div key={framework.id} className=\"border rounded-lg p-4 space-y-4\" data-testid={`card-framework-${framework.id}`}>\n                    <div className=\"flex items-start justify-between\">\n                      <div className=\"space-y-1\">\n                        <div className=\"flex items-center gap-2\">\n                          <h4 className=\"font-medium\">{framework.name}</h4>\n                          <Badge variant=\"secondary\">{framework.version}</Badge>\n                          <Badge variant={getStatusBadgeVariant(framework.status)}>\n                            {framework.status.replace('_', ' ')}\n                          </Badge>\n                        </div>\n                        <div className=\"flex items-center gap-4 text-sm text-muted-foreground\">\n                          <span>Score: <span className={`font-medium ${getComplianceColor(framework.score)}`}>{framework.score}%</span></span>\n                          <span>Assessor: {framework.assessor}</span>\n                        </div>\n                      </div>\n                      \n                      <Button variant=\"outline\" size=\"sm\" data-testid={`button-view-framework-${framework.id}`}>\n                        <Eye className=\"w-4 h-4 mr-2\" />\n                        View Details\n                      </Button>\n                    </div>\n                    \n                    <div className=\"space-y-3\">\n                      <div className=\"flex items-center justify-between\">\n                        <span className=\"text-sm font-medium\">Compliance Progress</span>\n                        <span className=\"text-sm text-muted-foreground\">{framework.requirements.met}/{framework.requirements.total}</span>\n                      </div>\n                      <Progress value={(framework.requirements.met / framework.requirements.total) * 100} className=\"h-2\" />\n                    </div>\n                    \n                    <div className=\"grid grid-cols-4 gap-4 text-sm\">\n                      <div className=\"text-center p-2 bg-green-50 dark:bg-green-950 rounded\">\n                        <div className=\"font-medium text-green-600\">{framework.requirements.met}</div>\n                        <div className=\"text-green-600\">Met</div>\n                      </div>\n                      <div className=\"text-center p-2 bg-yellow-50 dark:bg-yellow-950 rounded\">\n                        <div className=\"font-medium text-yellow-600\">{framework.requirements.pending}</div>\n                        <div className=\"text-yellow-600\">Pending</div>\n                      </div>\n                      <div className=\"text-center p-2 bg-red-50 dark:bg-red-950 rounded\">\n                        <div className=\"font-medium text-red-600\">{framework.requirements.failed}</div>\n                        <div className=\"text-red-600\">Failed</div>\n                      </div>\n                      <div className=\"text-center p-2 bg-blue-50 dark:bg-blue-950 rounded\">\n                        <div className=\"font-medium text-blue-600\">{framework.requirements.total}</div>\n                        <div className=\"text-blue-600\">Total</div>\n                      </div>\n                    </div>\n                    \n                    <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                      <div>\n                        <span className=\"text-muted-foreground\">Last Assessment:</span> {framework.lastAssessment.toLocaleDateString()}\n                      </div>\n                      <div>\n                        <span className=\"text-muted-foreground\">Next Assessment:</span> {framework.nextAssessment.toLocaleDateString()}\n                      </div>\n                      {framework.certificationExpiry && (\n                        <div className=\"col-span-2\">\n                          <span className=\"text-muted-foreground\">Certification Expires:</span> {framework.certificationExpiry.toLocaleDateString()}\n                        </div>\n                      )}\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <p className=\"text-sm font-medium\">Key Findings</p>\n                      <ul className=\"text-sm text-muted-foreground space-y-1\">\n                        {framework.findings.map((finding, index) => (\n                          <li key={index} className=\"flex items-start gap-2\">\n                            <Info className=\"w-3 h-3 mt-0.5 text-blue-500\" />\n                            {finding}\n                          </li>\n                        ))}\n                      </ul>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"encryption\" className=\"space-y-4\">\n          <Card data-testid=\"card-encryption-management\">\n            <CardHeader>\n              <CardTitle>Encryption Management</CardTitle>\n              <CardDescription>\n                Monitor and manage encryption configurations and key rotation\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-4\">\n                {data.encryption.map((config) => (\n                  <div key={config.id} className=\"border rounded-lg p-4 space-y-3\" data-testid={`card-encryption-${config.id}`}>\n                    <div className=\"flex items-start justify-between\">\n                      <div className=\"space-y-1\">\n                        <div className=\"flex items-center gap-2\">\n                          <h4 className=\"font-medium capitalize\">{config.type.replace('_', ' ')}</h4>\n                          <Badge variant={getStatusBadgeVariant(config.status)}>\n                            {getStatusIcon(config.status)}\n                            <span className=\"ml-1\">{config.status}</span>\n                          </Badge>\n                        </div>\n                        <p className=\"text-sm text-muted-foreground\">{config.description}</p>\n                      </div>\n                      \n                      <DropdownMenu>\n                        <DropdownMenuTrigger asChild>\n                          <Button variant=\"ghost\" size=\"icon\" data-testid={`button-encryption-menu-${config.id}`}>\n                            <Settings className=\"h-4 w-4\" />\n                          </Button>\n                        </DropdownMenuTrigger>\n                        <DropdownMenuContent align=\"end\">\n                          <DropdownMenuLabel>Actions</DropdownMenuLabel>\n                          <DropdownMenuItem data-testid={`button-rotate-keys-${config.id}`}>\n                            <RefreshCw className=\"w-4 h-4 mr-2\" />\n                            Rotate Keys\n                          </DropdownMenuItem>\n                          <DropdownMenuItem data-testid={`button-view-encryption-${config.id}`}>\n                            <Eye className=\"w-4 h-4 mr-2\" />\n                            View Details\n                          </DropdownMenuItem>\n                          <DropdownMenuSeparator />\n                          <DropdownMenuItem data-testid={`button-edit-encryption-${config.id}`}>\n                            <Edit3 className=\"w-4 h-4 mr-2\" />\n                            Edit Configuration\n                          </DropdownMenuItem>\n                        </DropdownMenuContent>\n                      </DropdownMenu>\n                    </div>\n                    \n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\n                      <div>\n                        <span className=\"text-muted-foreground\">Algorithm:</span> {config.algorithm}\n                      </div>\n                      <div>\n                        <span className=\"text-muted-foreground\">Key Size:</span> {config.keySize} bits\n                      </div>\n                      <div>\n                        <span className=\"text-muted-foreground\">Last Rotation:</span> {config.lastRotation.toLocaleDateString()}\n                      </div>\n                      <div>\n                        <span className=\"text-muted-foreground\">Next Rotation:</span> {config.nextRotation.toLocaleDateString()}\n                      </div>\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <p className=\"text-sm font-medium\">Scope</p>\n                      <div className=\"flex flex-wrap gap-1\">\n                        {config.scope.map((scope) => (\n                          <Badge key={scope} variant=\"outline\" className=\"text-xs\">\n                            {scope.replace('_', ' ')}\n                          </Badge>\n                        ))}\n                      </div>\n                    </div>\n\n                    <div className=\"flex items-center justify-between text-sm\">\n                      <span className=\"text-muted-foreground\">Rotation Interval: {config.rotationInterval} days</span>\n                      {config.status === \"rotating\" && (\n                        <div className=\"flex items-center gap-2 text-blue-600\">\n                          <RefreshCw className=\"w-3 h-3 animate-spin\" />\n                          <span>Rotating keys...</span>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"settings\" className=\"space-y-4\">\n          <Card data-testid=\"card-security-settings-config\">\n            <CardHeader>\n              <CardTitle>Security Configuration</CardTitle>\n              <CardDescription>\n                Configure global security and compliance settings\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div className=\"space-y-4\">\n                  <h4 className=\"font-medium\">Scanning & Monitoring</h4>\n                  \n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"space-y-0.5\">\n                      <Label className=\"text-sm font-medium\">Automatic Security Scanning</Label>\n                      <p className=\"text-xs text-muted-foreground\">\n                        Automatically run security scans at regular intervals\n                      </p>\n                    </div>\n                    <Switch\n                      checked={data.settings.automaticScanning}\n                      onCheckedChange={(automaticScanning) => \n                        updateSecurityData({\n                          settings: { ...data.settings, automaticScanning }\n                        })\n                      }\n                      data-testid=\"switch-automatic-scanning\"\n                    />\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"scan-frequency\">Scan Frequency</Label>\n                    <Select \n                      value={data.settings.scanFrequency} \n                      onValueChange={(scanFrequency: any) => \n                        updateSecurityData({\n                          settings: { ...data.settings, scanFrequency }\n                        })\n                      }\n                    >\n                      <SelectTrigger data-testid=\"select-scan-frequency\">\n                        <SelectValue placeholder=\"Select frequency\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"daily\">Daily</SelectItem>\n                        <SelectItem value=\"weekly\">Weekly</SelectItem>\n                        <SelectItem value=\"monthly\">Monthly</SelectItem>\n                        <SelectItem value=\"quarterly\">Quarterly</SelectItem>\n                      </SelectContent>\n                    </Select>\n                  </div>\n\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"space-y-0.5\">\n                      <Label className=\"text-sm font-medium\">Alert Notifications</Label>\n                      <p className=\"text-xs text-muted-foreground\">\n                        Send notifications for security alerts and incidents\n                      </p>\n                    </div>\n                    <Switch\n                      checked={data.settings.alertNotifications}\n                      onCheckedChange={(alertNotifications) => \n                        updateSecurityData({\n                          settings: { ...data.settings, alertNotifications }\n                        })\n                      }\n                      data-testid=\"switch-alert-notifications\"\n                    />\n                  </div>\n                </div>\n\n                <div className=\"space-y-4\">\n                  <h4 className=\"font-medium\">Authentication & Access</h4>\n                  \n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"space-y-0.5\">\n                      <Label className=\"text-sm font-medium\">Require Multi-Factor Authentication</Label>\n                      <p className=\"text-xs text-muted-foreground\">\n                        Enforce MFA for all user accounts\n                      </p>\n                    </div>\n                    <Switch\n                      checked={data.settings.mfaRequired}\n                      onCheckedChange={(mfaRequired) => \n                        updateSecurityData({\n                          settings: { ...data.settings, mfaRequired }\n                        })\n                      }\n                      data-testid=\"switch-mfa-required\"\n                    />\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"session-timeout\">Session Timeout (minutes)</Label>\n                    <Input\n                      id=\"session-timeout\"\n                      type=\"number\"\n                      min=\"15\"\n                      max=\"1440\"\n                      value={data.settings.sessionTimeout}\n                      onChange={(e) => \n                        updateSecurityData({\n                          settings: { \n                            ...data.settings, \n                            sessionTimeout: parseInt(e.target.value) || 480 \n                          }\n                        })\n                      }\n                      data-testid=\"input-session-timeout\"\n                    />\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"failed-login-lockout\">Failed Login Lockout</Label>\n                    <Input\n                      id=\"failed-login-lockout\"\n                      type=\"number\"\n                      min=\"3\"\n                      max=\"20\"\n                      value={data.settings.failedLoginLockout}\n                      onChange={(e) => \n                        updateSecurityData({\n                          settings: { \n                            ...data.settings, \n                            failedLoginLockout: parseInt(e.target.value) || 5 \n                          }\n                        })\n                      }\n                      data-testid=\"input-failed-login-lockout\"\n                    />\n                  </div>\n                </div>\n              </div>\n\n              <Separator />\n\n              <div className=\"space-y-4\">\n                <h4 className=\"font-medium\">Data Protection</h4>\n                \n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"space-y-0.5\">\n                      <Label className=\"text-sm font-medium\">Encryption Required</Label>\n                      <p className=\"text-xs text-muted-foreground\">\n                        Require encryption for all sensitive data\n                      </p>\n                    </div>\n                    <Switch\n                      checked={data.settings.encryptionRequired}\n                      onCheckedChange={(encryptionRequired) => \n                        updateSecurityData({\n                          settings: { ...data.settings, encryptionRequired }\n                        })\n                      }\n                      data-testid=\"switch-encryption-required\"\n                    />\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"data-retention\">Data Retention Period (days)</Label>\n                    <Input\n                      id=\"data-retention\"\n                      type=\"number\"\n                      min=\"30\"\n                      max=\"3650\"\n                      value={data.settings.dataRetentionPeriod}\n                      onChange={(e) => \n                        updateSecurityData({\n                          settings: { \n                            ...data.settings, \n                            dataRetentionPeriod: parseInt(e.target.value) || 2555 \n                          }\n                        })\n                      }\n                      data-testid=\"input-data-retention\"\n                    />\n                  </div>\n                </div>\n\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"space-y-0.5\">\n                    <Label className=\"text-sm font-medium\">IP Whitelisting</Label>\n                    <p className=\"text-xs text-muted-foreground\">\n                      Restrict access to specific IP addresses\n                    </p>\n                  </div>\n                  <Switch\n                    checked={data.settings.ipWhitelisting}\n                    onCheckedChange={(ipWhitelisting) => \n                      updateSecurityData({\n                        settings: { ...data.settings, ipWhitelisting }\n                      })\n                    }\n                    data-testid=\"switch-ip-whitelisting\"\n                  />\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n\n      {/* New Policy Dialog */}\n      <Dialog open={showNewPolicyDialog} onOpenChange={setShowNewPolicyDialog}>\n        <DialogContent data-testid=\"dialog-new-policy\">\n          <DialogHeader>\n            <DialogTitle>Create New Security Policy</DialogTitle>\n            <DialogDescription>\n              Define a new security policy for your organization\n            </DialogDescription>\n          </DialogHeader>\n          \n          <div className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"policy-name\">Policy Name</Label>\n              <Input\n                id=\"policy-name\"\n                placeholder=\"Enter policy name\"\n                data-testid=\"input-policy-name\"\n              />\n            </div>\n            \n            <div className=\"space-y-2\">\n              <Label htmlFor=\"policy-type\">Policy Type</Label>\n              <Select>\n                <SelectTrigger data-testid=\"select-policy-type\">\n                  <SelectValue placeholder=\"Select policy type\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"data_encryption\">Data Encryption</SelectItem>\n                  <SelectItem value=\"api_security\">API Security</SelectItem>\n                  <SelectItem value=\"access_control\">Access Control</SelectItem>\n                  <SelectItem value=\"compliance\">Compliance</SelectItem>\n                  <SelectItem value=\"privacy\">Privacy</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n            \n            <div className=\"space-y-2\">\n              <Label htmlFor=\"policy-description\">Description</Label>\n              <Textarea\n                id=\"policy-description\"\n                placeholder=\"Describe the policy requirements and objectives\"\n                data-testid=\"textarea-policy-description\"\n              />\n            </div>\n          </div>\n          \n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setShowNewPolicyDialog(false)}>\n              Cancel\n            </Button>\n            <Button data-testid=\"button-create-policy\">\n              Create Policy\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}","size_bytes":54441},"client/src/components/tabs/ThemeTab.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Label } from \"@/components/ui/label\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { \n  Palette, \n  Download, \n  Upload, \n  RotateCcw, \n  Eye, \n  Code,\n  Sun,\n  Moon,\n  Monitor,\n  Copy,\n  Check,\n  AlertTriangle,\n  Info\n} from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\n\ninterface ColorToken {\n  name: string;\n  light: string;\n  dark: string;\n  description: string;\n}\n\ninterface ThemeData {\n  // Brand Colors\n  primaryColor: string;\n  secondaryColor: string;\n  accentColor: string;\n  \n  // Background Colors\n  backgroundColor: string;\n  surfaceColor: string;\n  cardColor: string;\n  \n  // Text Colors\n  textPrimary: string;\n  textSecondary: string;\n  textMuted: string;\n  \n  // State Colors\n  successColor: string;\n  warningColor: string;\n  errorColor: string;\n  infoColor: string;\n  \n  // Border & Divider\n  borderColor: string;\n  dividerColor: string;\n  \n  // Theme Settings\n  darkModeEnabled: boolean;\n  defaultMode: \"light\" | \"dark\" | \"system\";\n  \n  // Typography\n  fontFamily: string;\n  fontSize: {\n    xs: string;\n    sm: string;\n    base: string;\n    lg: string;\n    xl: string;\n    \"2xl\": string;\n  };\n  \n  // Layout\n  borderRadius: {\n    sm: string;\n    md: string;\n    lg: string;\n  };\n  \n  // Spacing\n  spacing: {\n    xs: string;\n    sm: string;\n    md: string;\n    lg: string;\n    xl: string;\n  };\n  \n  // Advanced\n  customCSS: string;\n  enableCustomCSS: boolean;\n  \n  // Widget Appearance\n  chatBubbleStyle: \"rounded\" | \"sharp\" | \"minimal\";\n  avatarStyle: \"circle\" | \"square\" | \"rounded\";\n  animationsEnabled: boolean;\n}\n\ninterface ThemeTabProps {\n  data: ThemeData;\n  onChange: (data: ThemeData) => void;\n}\n\nconst defaultColorTokens: ColorToken[] = [\n  { name: \"Primary\", light: \"#1F6FEB\", dark: \"#58A6FF\", description: \"Main brand color for buttons and links\" },\n  { name: \"Secondary\", light: \"#6C757D\", dark: \"#8B949E\", description: \"Secondary actions and content\" },\n  { name: \"Accent\", light: \"#7C3AED\", dark: \"#A78BFA\", description: \"Highlights and special elements\" },\n  { name: \"Background\", light: \"#FFFFFF\", dark: \"#0D1117\", description: \"Main background color\" },\n  { name: \"Surface\", light: \"#F8FAFC\", dark: \"#161B22\", description: \"Card and panel backgrounds\" },\n  { name: \"Text Primary\", light: \"#1F2937\", dark: \"#F0F6FC\", description: \"Main text color\" },\n  { name: \"Text Secondary\", light: \"#6B7280\", dark: \"#8B949E\", description: \"Secondary text\" },\n  { name: \"Border\", light: \"#E5E7EB\", dark: \"#30363D\", description: \"Borders and dividers\" },\n];\n\nexport default function ThemeTab({ data, onChange }: ThemeTabProps) {\n  const [theme, setTheme] = useState<ThemeData>(data);\n  const [activePreviewMode, setActivePreviewMode] = useState<\"light\" | \"dark\">(\"light\");\n  const [copiedColor, setCopiedColor] = useState<string | null>(null);\n  const [importData, setImportData] = useState(\"\");\n  const [showImport, setShowImport] = useState(false);\n  const { toast } = useToast();\n\n  // Sync local state when parent data changes (for edit mode)\n  useEffect(() => {\n    setTheme(data);\n  }, [data]);\n\n  // Update parent state when theme changes\n  useEffect(() => {\n    onChange(theme);\n  }, [theme, onChange]);\n\n  const updateTheme = (updates: Partial<ThemeData>) => {\n    setTheme(prev => ({ ...prev, ...updates }));\n  };\n\n  const copyToClipboard = async (text: string, colorName: string) => {\n    try {\n      await navigator.clipboard.writeText(text);\n      setCopiedColor(colorName);\n      setTimeout(() => setCopiedColor(null), 2000);\n      toast({\n        title: \"Copied!\",\n        description: `${colorName} color code copied to clipboard`,\n      });\n    } catch (err) {\n      toast({\n        title: \"Copy failed\",\n        description: \"Could not copy to clipboard\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  const exportTheme = () => {\n    const exportData = {\n      name: \"Custom Theme\",\n      version: \"1.0.0\",\n      theme: theme,\n      exportedAt: new Date().toISOString(),\n    };\n    \n    const blob = new Blob([JSON.stringify(exportData, null, 2)], { type: \"application/json\" });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = \"theme-export.json\";\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n    \n    toast({\n      title: \"Theme exported\",\n      description: \"Theme configuration has been downloaded\",\n    });\n  };\n\n  const importTheme = () => {\n    try {\n      const parsed = JSON.parse(importData);\n      if (parsed.theme) {\n        setTheme(parsed.theme);\n        setShowImport(false);\n        setImportData(\"\");\n        toast({\n          title: \"Theme imported\",\n          description: \"Theme configuration has been loaded successfully\",\n        });\n      } else {\n        throw new Error(\"Invalid theme format\");\n      }\n    } catch (error) {\n      toast({\n        title: \"Import failed\",\n        description: \"Invalid JSON format or missing theme data\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  const resetToDefaults = () => {\n    const defaultTheme: ThemeData = {\n      // Brand Colors\n      primaryColor: \"#1F6FEB\",\n      secondaryColor: \"#6C757D\", \n      accentColor: \"#7C3AED\",\n      \n      // Background Colors\n      backgroundColor: \"#FFFFFF\",\n      surfaceColor: \"#F8FAFC\",\n      cardColor: \"#FFFFFF\",\n      \n      // Text Colors\n      textPrimary: \"#1F2937\",\n      textSecondary: \"#6B7280\", \n      textMuted: \"#9CA3AF\",\n      \n      // State Colors\n      successColor: \"#22C55E\",\n      warningColor: \"#F59E0B\",\n      errorColor: \"#EF4444\",\n      infoColor: \"#38BDF8\",\n      \n      // Border & Divider\n      borderColor: \"#E5E7EB\",\n      dividerColor: \"#F3F4F6\",\n      \n      // Theme Settings\n      darkModeEnabled: true,\n      defaultMode: \"system\",\n      \n      // Typography\n      fontFamily: \"Inter, system-ui, sans-serif\",\n      fontSize: {\n        xs: \"0.75rem\",\n        sm: \"0.875rem\", \n        base: \"1rem\",\n        lg: \"1.125rem\",\n        xl: \"1.25rem\",\n        \"2xl\": \"1.5rem\",\n      },\n      \n      // Layout\n      borderRadius: {\n        sm: \"0.125rem\",\n        md: \"0.375rem\",\n        lg: \"0.5rem\",\n      },\n      \n      // Spacing\n      spacing: {\n        xs: \"0.25rem\",\n        sm: \"0.5rem\",\n        md: \"1rem\", \n        lg: \"1.5rem\",\n        xl: \"2rem\",\n      },\n      \n      // Advanced\n      customCSS: \"\",\n      enableCustomCSS: false,\n      \n      // Widget Appearance\n      chatBubbleStyle: \"rounded\",\n      avatarStyle: \"circle\",\n      animationsEnabled: true,\n    };\n    \n    setTheme(defaultTheme);\n    toast({\n      title: \"Theme reset\",\n      description: \"All theme settings have been reset to defaults\",\n    });\n  };\n\n  const previewStyles = {\n    light: {\n      backgroundColor: theme.backgroundColor,\n      color: theme.textPrimary,\n      border: `1px solid ${theme.borderColor}`,\n    },\n    dark: {\n      backgroundColor: \"#0D1117\",\n      color: \"#F0F6FC\", \n      border: \"1px solid #30363D\",\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header Actions */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <Palette className=\"h-5 w-5 text-muted-foreground\" />\n          <h2 className=\"text-lg font-semibold\">Theme Customization</h2>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <Button \n            variant=\"outline\" \n            size=\"sm\"\n            onClick={() => setShowImport(!showImport)}\n            data-testid=\"button-import-theme\"\n          >\n            <Upload className=\"h-4 w-4 mr-2\" />\n            Import\n          </Button>\n          <Button \n            variant=\"outline\" \n            size=\"sm\"\n            onClick={exportTheme}\n            data-testid=\"button-export-theme\"\n          >\n            <Download className=\"h-4 w-4 mr-2\" />\n            Export\n          </Button>\n          <Button \n            variant=\"outline\" \n            size=\"sm\"\n            onClick={resetToDefaults}\n            data-testid=\"button-reset-theme\"\n          >\n            <RotateCcw className=\"h-4 w-4 mr-2\" />\n            Reset\n          </Button>\n        </div>\n      </div>\n\n      {/* Import Section */}\n      {showImport && (\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Upload className=\"h-5 w-5\" />\n              Import Theme\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"import-data\">Theme JSON Data</Label>\n              <Textarea\n                id=\"import-data\"\n                value={importData}\n                onChange={(e) => setImportData(e.target.value)}\n                placeholder=\"Paste exported theme JSON here...\"\n                rows={8}\n                data-testid=\"textarea-import-theme\"\n              />\n            </div>\n            <div className=\"flex gap-2\">\n              <Button onClick={importTheme} disabled={!importData.trim()} data-testid=\"button-confirm-import\">\n                Import Theme\n              </Button>\n              <Button variant=\"outline\" onClick={() => setShowImport(false)} data-testid=\"button-cancel-import\">\n                Cancel\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Theme Configuration Tabs */}\n      <Tabs defaultValue=\"colors\" className=\"space-y-6\">\n        <TabsList className=\"grid grid-cols-4 w-full max-w-2xl\">\n          <TabsTrigger value=\"colors\" data-testid=\"tab-colors\">Colors</TabsTrigger>\n          <TabsTrigger value=\"typography\" data-testid=\"tab-typography\">Typography</TabsTrigger>\n          <TabsTrigger value=\"layout\" data-testid=\"tab-layout\">Layout</TabsTrigger>\n          <TabsTrigger value=\"advanced\" data-testid=\"tab-advanced\">Advanced</TabsTrigger>\n        </TabsList>\n\n        {/* Colors Tab */}\n        <TabsContent value=\"colors\" className=\"space-y-6\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n            {/* Color Configuration */}\n            <div className=\"space-y-6\">\n              <Card>\n                <CardHeader>\n                  <CardTitle>Brand Colors</CardTitle>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"primary-color\">Primary Color</Label>\n                      <div className=\"flex gap-2\">\n                        <Input\n                          id=\"primary-color\"\n                          type=\"color\"\n                          value={theme.primaryColor}\n                          onChange={(e) => updateTheme({ primaryColor: e.target.value })}\n                          className=\"w-16 h-10 p-1\"\n                          data-testid=\"input-primary-color\"\n                        />\n                        <Input\n                          value={theme.primaryColor}\n                          onChange={(e) => updateTheme({ primaryColor: e.target.value })}\n                          className=\"flex-1\"\n                          data-testid=\"input-primary-color-text\"\n                        />\n                        <Button\n                          variant=\"ghost\"\n                          size=\"icon\"\n                          onClick={() => copyToClipboard(theme.primaryColor, \"Primary\")}\n                          data-testid=\"button-copy-primary\"\n                        >\n                          {copiedColor === \"Primary\" ? <Check className=\"h-4 w-4\" /> : <Copy className=\"h-4 w-4\" />}\n                        </Button>\n                      </div>\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"secondary-color\">Secondary Color</Label>\n                      <div className=\"flex gap-2\">\n                        <Input\n                          id=\"secondary-color\"\n                          type=\"color\"\n                          value={theme.secondaryColor}\n                          onChange={(e) => updateTheme({ secondaryColor: e.target.value })}\n                          className=\"w-16 h-10 p-1\"\n                          data-testid=\"input-secondary-color\"\n                        />\n                        <Input\n                          value={theme.secondaryColor}\n                          onChange={(e) => updateTheme({ secondaryColor: e.target.value })}\n                          className=\"flex-1\"\n                          data-testid=\"input-secondary-color-text\"\n                        />\n                        <Button\n                          variant=\"ghost\"\n                          size=\"icon\"\n                          onClick={() => copyToClipboard(theme.secondaryColor, \"Secondary\")}\n                          data-testid=\"button-copy-secondary\"\n                        >\n                          {copiedColor === \"Secondary\" ? <Check className=\"h-4 w-4\" /> : <Copy className=\"h-4 w-4\" />}\n                        </Button>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"accent-color\">Accent Color</Label>\n                    <div className=\"flex gap-2\">\n                      <Input\n                        id=\"accent-color\"\n                        type=\"color\"\n                        value={theme.accentColor}\n                        onChange={(e) => updateTheme({ accentColor: e.target.value })}\n                        className=\"w-16 h-10 p-1\"\n                        data-testid=\"input-accent-color\"\n                      />\n                      <Input\n                        value={theme.accentColor}\n                        onChange={(e) => updateTheme({ accentColor: e.target.value })}\n                        className=\"flex-1\"\n                        data-testid=\"input-accent-color-text\"\n                      />\n                      <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        onClick={() => copyToClipboard(theme.accentColor, \"Accent\")}\n                        data-testid=\"button-copy-accent\"\n                      >\n                        {copiedColor === \"Accent\" ? <Check className=\"h-4 w-4\" /> : <Copy className=\"h-4 w-4\" />}\n                      </Button>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n\n              <Card>\n                <CardHeader>\n                  <CardTitle>State Colors</CardTitle>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"success-color\">Success</Label>\n                      <div className=\"flex gap-2\">\n                        <Input\n                          id=\"success-color\"\n                          type=\"color\"\n                          value={theme.successColor}\n                          onChange={(e) => updateTheme({ successColor: e.target.value })}\n                          className=\"w-16 h-10 p-1\"\n                          data-testid=\"input-success-color\"\n                        />\n                        <Input\n                          value={theme.successColor}\n                          onChange={(e) => updateTheme({ successColor: e.target.value })}\n                          className=\"flex-1\"\n                          data-testid=\"input-success-color-text\"\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"error-color\">Error</Label>\n                      <div className=\"flex gap-2\">\n                        <Input\n                          id=\"error-color\"\n                          type=\"color\"\n                          value={theme.errorColor}\n                          onChange={(e) => updateTheme({ errorColor: e.target.value })}\n                          className=\"w-16 h-10 p-1\"\n                          data-testid=\"input-error-color\"\n                        />\n                        <Input\n                          value={theme.errorColor}\n                          onChange={(e) => updateTheme({ errorColor: e.target.value })}\n                          className=\"flex-1\"\n                          data-testid=\"input-error-color-text\"\n                        />\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"warning-color\">Warning</Label>\n                      <div className=\"flex gap-2\">\n                        <Input\n                          id=\"warning-color\"\n                          type=\"color\"\n                          value={theme.warningColor}\n                          onChange={(e) => updateTheme({ warningColor: e.target.value })}\n                          className=\"w-16 h-10 p-1\"\n                          data-testid=\"input-warning-color\"\n                        />\n                        <Input\n                          value={theme.warningColor}\n                          onChange={(e) => updateTheme({ warningColor: e.target.value })}\n                          className=\"flex-1\"\n                          data-testid=\"input-warning-color-text\"\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"info-color\">Info</Label>\n                      <div className=\"flex gap-2\">\n                        <Input\n                          id=\"info-color\"\n                          type=\"color\"\n                          value={theme.infoColor}\n                          onChange={(e) => updateTheme({ infoColor: e.target.value })}\n                          className=\"w-16 h-10 p-1\"\n                          data-testid=\"input-info-color\"\n                        />\n                        <Input\n                          value={theme.infoColor}\n                          onChange={(e) => updateTheme({ infoColor: e.target.value })}\n                          className=\"flex-1\"\n                          data-testid=\"input-info-color-text\"\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n\n              <Card>\n                <CardHeader>\n                  <CardTitle>Dark Mode Settings</CardTitle>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"space-y-0.5\">\n                      <Label htmlFor=\"dark-mode-enabled\">Enable Dark Mode</Label>\n                      <p className=\"text-sm text-muted-foreground\">Allow users to switch to dark theme</p>\n                    </div>\n                    <Switch\n                      id=\"dark-mode-enabled\"\n                      checked={theme.darkModeEnabled}\n                      onCheckedChange={(checked) => updateTheme({ darkModeEnabled: checked })}\n                      data-testid=\"switch-dark-mode\"\n                    />\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"default-mode\">Default Theme Mode</Label>\n                    <Select \n                      value={theme.defaultMode} \n                      onValueChange={(value: \"light\" | \"dark\" | \"system\") => updateTheme({ defaultMode: value })}\n                    >\n                      <SelectTrigger id=\"default-mode\" data-testid=\"select-default-mode\">\n                        <SelectValue />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"light\">\n                          <div className=\"flex items-center gap-2\">\n                            <Sun className=\"h-4 w-4\" />\n                            Light Mode\n                          </div>\n                        </SelectItem>\n                        <SelectItem value=\"dark\">\n                          <div className=\"flex items-center gap-2\">\n                            <Moon className=\"h-4 w-4\" />\n                            Dark Mode\n                          </div>\n                        </SelectItem>\n                        <SelectItem value=\"system\">\n                          <div className=\"flex items-center gap-2\">\n                            <Monitor className=\"h-4 w-4\" />\n                            System Preference\n                          </div>\n                        </SelectItem>\n                      </SelectContent>\n                    </Select>\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n\n            {/* Live Preview */}\n            <div className=\"space-y-6\">\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <Eye className=\"h-5 w-5\" />\n                    Live Preview\n                  </CardTitle>\n                  <div className=\"flex gap-2\">\n                    <Button\n                      variant={activePreviewMode === \"light\" ? \"default\" : \"outline\"}\n                      size=\"sm\"\n                      onClick={() => setActivePreviewMode(\"light\")}\n                      data-testid=\"button-preview-light\"\n                    >\n                      <Sun className=\"h-4 w-4 mr-2\" />\n                      Light\n                    </Button>\n                    <Button\n                      variant={activePreviewMode === \"dark\" ? \"default\" : \"outline\"}\n                      size=\"sm\"\n                      onClick={() => setActivePreviewMode(\"dark\")}\n                      data-testid=\"button-preview-dark\"\n                    >\n                      <Moon className=\"h-4 w-4 mr-2\" />\n                      Dark\n                    </Button>\n                  </div>\n                </CardHeader>\n                <CardContent>\n                  <div \n                    className=\"p-6 rounded-lg space-y-4\"\n                    style={previewStyles[activePreviewMode]}\n                    data-testid=\"preview-container\"\n                  >\n                    {/* Preview Content */}\n                    <div className=\"space-y-4\">\n                      <h3 className=\"text-lg font-semibold\">AI Chat Preview</h3>\n                      \n                      {/* Chat Messages */}\n                      <div className=\"space-y-3\">\n                        <div className=\"flex justify-end\">\n                          <div \n                            className=\"px-4 py-2 rounded-lg max-w-xs\"\n                            style={{ \n                              backgroundColor: theme.primaryColor, \n                              color: \"white\",\n                              borderRadius: theme.chatBubbleStyle === \"sharp\" ? \"4px\" : \n                                          theme.chatBubbleStyle === \"minimal\" ? \"8px\" : \"16px\"\n                            }}\n                          >\n                            How do I reset my password?\n                          </div>\n                        </div>\n                        \n                        <div className=\"flex justify-start\">\n                          <div \n                            className=\"px-4 py-2 rounded-lg max-w-xs\"\n                            style={{ \n                              backgroundColor: activePreviewMode === \"light\" ? theme.surfaceColor : \"#21262D\",\n                              color: activePreviewMode === \"light\" ? theme.textPrimary : \"#F0F6FC\",\n                              borderRadius: theme.chatBubbleStyle === \"sharp\" ? \"4px\" : \n                                          theme.chatBubbleStyle === \"minimal\" ? \"8px\" : \"16px\"\n                            }}\n                          >\n                            You can reset your password by clicking the \"Forgot Password\" link on the login page.\n                          </div>\n                        </div>\n                      </div>\n\n                      {/* UI Elements Preview */}\n                      <div className=\"flex gap-2 flex-wrap\">\n                        <div \n                          className=\"px-3 py-1 rounded text-sm font-medium\"\n                          style={{ backgroundColor: theme.primaryColor, color: \"white\" }}\n                        >\n                          Primary Button\n                        </div>\n                        <div \n                          className=\"px-3 py-1 rounded text-sm border\"\n                          style={{ \n                            borderColor: theme.borderColor,\n                            color: activePreviewMode === \"light\" ? theme.textPrimary : \"#F0F6FC\"\n                          }}\n                        >\n                          Secondary Button\n                        </div>\n                        <div \n                          className=\"px-2 py-1 rounded text-xs\"\n                          style={{ backgroundColor: theme.successColor, color: \"white\" }}\n                        >\n                          Success\n                        </div>\n                        <div \n                          className=\"px-2 py-1 rounded text-xs\"\n                          style={{ backgroundColor: theme.warningColor, color: \"white\" }}\n                        >\n                          Warning\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n\n              <Card>\n                <CardHeader>\n                  <CardTitle>Color Palette</CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"grid grid-cols-4 gap-3\">\n                    {defaultColorTokens.map((token, index) => (\n                      <div key={index} className=\"space-y-2\">\n                        <div \n                          className=\"h-12 rounded border cursor-pointer hover-elevate\"\n                          style={{ backgroundColor: \n                            token.name === \"Primary\" ? theme.primaryColor :\n                            token.name === \"Secondary\" ? theme.secondaryColor :\n                            token.name === \"Accent\" ? theme.accentColor :\n                            token.name === \"Background\" ? theme.backgroundColor :\n                            token.name === \"Surface\" ? theme.surfaceColor :\n                            token.name === \"Text Primary\" ? theme.textPrimary :\n                            token.name === \"Text Secondary\" ? theme.textSecondary :\n                            token.name === \"Border\" ? theme.borderColor :\n                            token.light\n                          }}\n                          onClick={() => copyToClipboard(\n                            token.name === \"Primary\" ? theme.primaryColor :\n                            token.name === \"Secondary\" ? theme.secondaryColor :\n                            token.name === \"Accent\" ? theme.accentColor :\n                            token.name === \"Background\" ? theme.backgroundColor :\n                            token.name === \"Surface\" ? theme.surfaceColor :\n                            token.name === \"Text Primary\" ? theme.textPrimary :\n                            token.name === \"Text Secondary\" ? theme.textSecondary :\n                            token.name === \"Border\" ? theme.borderColor :\n                            token.light,\n                            token.name\n                          )}\n                          data-testid={`color-swatch-${token.name.toLowerCase().replace(\" \", \"-\")}`}\n                        />\n                        <div className=\"text-xs text-center\">\n                          <p className=\"font-medium\">{token.name}</p>\n                          <p className=\"text-muted-foreground\">\n                            {token.name === \"Primary\" ? theme.primaryColor :\n                             token.name === \"Secondary\" ? theme.secondaryColor :\n                             token.name === \"Accent\" ? theme.accentColor :\n                             token.light}\n                          </p>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n          </div>\n        </TabsContent>\n\n        {/* Typography Tab */}\n        <TabsContent value=\"typography\" className=\"space-y-6\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Font Settings</CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"font-family\">Font Family</Label>\n                <Select \n                  value={theme.fontFamily} \n                  onValueChange={(value) => updateTheme({ fontFamily: value })}\n                >\n                  <SelectTrigger id=\"font-family\" data-testid=\"select-font-family\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"Inter, system-ui, sans-serif\">Inter (Recommended)</SelectItem>\n                    <SelectItem value=\"system-ui, sans-serif\">System Default</SelectItem>\n                    <SelectItem value=\"'Roboto', sans-serif\">Roboto</SelectItem>\n                    <SelectItem value=\"'Poppins', sans-serif\">Poppins</SelectItem>\n                    <SelectItem value=\"'Open Sans', sans-serif\">Open Sans</SelectItem>\n                    <SelectItem value=\"'Source Sans Pro', sans-serif\">Source Sans Pro</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n\n              <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"font-xs\">Extra Small</Label>\n                  <Input\n                    id=\"font-xs\"\n                    value={theme.fontSize.xs}\n                    onChange={(e) => updateTheme({ \n                      fontSize: { ...theme.fontSize, xs: e.target.value }\n                    })}\n                    data-testid=\"input-font-xs\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"font-sm\">Small</Label>\n                  <Input\n                    id=\"font-sm\"\n                    value={theme.fontSize.sm}\n                    onChange={(e) => updateTheme({ \n                      fontSize: { ...theme.fontSize, sm: e.target.value }\n                    })}\n                    data-testid=\"input-font-sm\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"font-base\">Base</Label>\n                  <Input\n                    id=\"font-base\"\n                    value={theme.fontSize.base}\n                    onChange={(e) => updateTheme({ \n                      fontSize: { ...theme.fontSize, base: e.target.value }\n                    })}\n                    data-testid=\"input-font-base\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"font-lg\">Large</Label>\n                  <Input\n                    id=\"font-lg\"\n                    value={theme.fontSize.lg}\n                    onChange={(e) => updateTheme({ \n                      fontSize: { ...theme.fontSize, lg: e.target.value }\n                    })}\n                    data-testid=\"input-font-lg\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"font-xl\">Extra Large</Label>\n                  <Input\n                    id=\"font-xl\"\n                    value={theme.fontSize.xl}\n                    onChange={(e) => updateTheme({ \n                      fontSize: { ...theme.fontSize, xl: e.target.value }\n                    })}\n                    data-testid=\"input-font-xl\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"font-2xl\">2X Large</Label>\n                  <Input\n                    id=\"font-2xl\"\n                    value={theme.fontSize[\"2xl\"]}\n                    onChange={(e) => updateTheme({ \n                      fontSize: { ...theme.fontSize, \"2xl\": e.target.value }\n                    })}\n                    data-testid=\"input-font-2xl\"\n                  />\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* Layout Tab */}\n        <TabsContent value=\"layout\" className=\"space-y-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Border Radius</CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"radius-sm\">Small</Label>\n                  <Input\n                    id=\"radius-sm\"\n                    value={theme.borderRadius.sm}\n                    onChange={(e) => updateTheme({ \n                      borderRadius: { ...theme.borderRadius, sm: e.target.value }\n                    })}\n                    data-testid=\"input-radius-sm\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"radius-md\">Medium</Label>\n                  <Input\n                    id=\"radius-md\"\n                    value={theme.borderRadius.md}\n                    onChange={(e) => updateTheme({ \n                      borderRadius: { ...theme.borderRadius, md: e.target.value }\n                    })}\n                    data-testid=\"input-radius-md\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"radius-lg\">Large</Label>\n                  <Input\n                    id=\"radius-lg\"\n                    value={theme.borderRadius.lg}\n                    onChange={(e) => updateTheme({ \n                      borderRadius: { ...theme.borderRadius, lg: e.target.value }\n                    })}\n                    data-testid=\"input-radius-lg\"\n                  />\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle>Widget Appearance</CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"chat-bubble-style\">Chat Bubble Style</Label>\n                  <Select \n                    value={theme.chatBubbleStyle} \n                    onValueChange={(value: \"rounded\" | \"sharp\" | \"minimal\") => updateTheme({ chatBubbleStyle: value })}\n                  >\n                    <SelectTrigger id=\"chat-bubble-style\" data-testid=\"select-chat-bubble-style\">\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"rounded\">Rounded</SelectItem>\n                      <SelectItem value=\"sharp\">Sharp</SelectItem>\n                      <SelectItem value=\"minimal\">Minimal</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"avatar-style\">Avatar Style</Label>\n                  <Select \n                    value={theme.avatarStyle} \n                    onValueChange={(value: \"circle\" | \"square\" | \"rounded\") => updateTheme({ avatarStyle: value })}\n                  >\n                    <SelectTrigger id=\"avatar-style\" data-testid=\"select-avatar-style\">\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"circle\">Circle</SelectItem>\n                      <SelectItem value=\"square\">Square</SelectItem>\n                      <SelectItem value=\"rounded\">Rounded Square</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"space-y-0.5\">\n                    <Label htmlFor=\"animations-enabled\">Enable Animations</Label>\n                    <p className=\"text-sm text-muted-foreground\">Smooth transitions and effects</p>\n                  </div>\n                  <Switch\n                    id=\"animations-enabled\"\n                    checked={theme.animationsEnabled}\n                    onCheckedChange={(checked) => updateTheme({ animationsEnabled: checked })}\n                    data-testid=\"switch-animations\"\n                  />\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        </TabsContent>\n\n        {/* Advanced Tab */}\n        <TabsContent value=\"advanced\" className=\"space-y-6\">\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <Code className=\"h-5 w-5\" />\n                Custom CSS\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"space-y-0.5\">\n                  <Label htmlFor=\"enable-custom-css\">Enable Custom CSS</Label>\n                  <p className=\"text-sm text-muted-foreground\">Allow custom CSS overrides</p>\n                </div>\n                <Switch\n                  id=\"enable-custom-css\"\n                  checked={theme.enableCustomCSS}\n                  onCheckedChange={(checked) => updateTheme({ enableCustomCSS: checked })}\n                  data-testid=\"switch-custom-css\"\n                />\n              </div>\n\n              {theme.enableCustomCSS && (\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"custom-css\">Custom CSS Code</Label>\n                  <Textarea\n                    id=\"custom-css\"\n                    value={theme.customCSS}\n                    onChange={(e) => updateTheme({ customCSS: e.target.value })}\n                    placeholder=\"/* Add your custom CSS here */&#10;.chat-widget { &#10;  /* Custom styles */ &#10;}\"\n                    rows={12}\n                    className=\"font-mono text-sm\"\n                    data-testid=\"textarea-custom-css\"\n                  />\n                  <Alert>\n                    <AlertTriangle className=\"h-4 w-4\" />\n                    <AlertDescription>\n                      Custom CSS will be injected into the widget. Use with caution and test thoroughly.\n                    </AlertDescription>\n                  </Alert>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n}","size_bytes":39997},"client/src/components/tabs/VersionsTab.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Label } from \"@/components/ui/label\";\nimport { Input } from \"@/components/ui/input\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { \n  History, \n  Plus, \n  GitBranch, \n  Tag,\n  CheckCircle, \n  AlertCircle, \n  Clock, \n  ArrowRight,\n  Eye,\n  RotateCcw,\n  Play,\n  Pause,\n  Upload,\n  Download,\n  FileText,\n  User,\n  Calendar,\n  Code,\n  Settings,\n  Shield,\n  Activity,\n  Zap,\n  Globe,\n  ChevronRight,\n  ChevronDown,\n  Diff,\n  Archive,\n  Star\n} from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\n\ninterface VersionChange {\n  field: string;\n  oldValue: any;\n  newValue: any;\n  type: \"added\" | \"modified\" | \"removed\";\n}\n\ninterface Version {\n  id: string;\n  version: string;\n  status: \"draft\" | \"published\" | \"archived\";\n  publishedAt: Date | null;\n  createdAt: Date;\n  createdBy: string;\n  releaseNotes: string;\n  tags: string[];\n  changes: VersionChange[];\n  config: any; // Full configuration snapshot\n  \n  // Publishing metadata\n  approvedBy?: string;\n  approvedAt?: Date;\n  rollbackReason?: string;\n  isRollback?: boolean;\n  rollbackFromVersion?: string;\n}\n\ninterface ApprovalWorkflow {\n  enabled: boolean;\n  requiredApprovers: number;\n  approvers: string[];\n  autoPublishOnApproval: boolean;\n}\n\ninterface VersionsData {\n  versions: Version[];\n  currentVersion: string;\n  draftVersion: string | null;\n  approvalWorkflow: ApprovalWorkflow;\n  retentionDays: number;\n  autoVersioning: boolean;\n}\n\ninterface VersionsTabProps {\n  data: VersionsData;\n  onChange: (data: VersionsData) => void;\n}\n\nexport default function VersionsTab({ data, onChange }: VersionsTabProps) {\n  const [versions, setVersions] = useState<VersionsData>(data);\n  const [activeTab, setActiveTab] = useState(\"history\");\n  const [selectedVersions, setSelectedVersions] = useState<[string, string] | null>(null); // For diff\n  const [expandedVersions, setExpandedVersions] = useState<Record<string, boolean>>({});\n  const [showCreateDialog, setShowCreateDialog] = useState(false);\n  const [showRollbackDialog, setShowRollbackDialog] = useState(false);\n  const [rollbackVersion, setRollbackVersion] = useState<string>(\"\");\n  const [newVersionData, setNewVersionData] = useState({\n    releaseNotes: \"\",\n    tags: [] as string[],\n    newTag: \"\"\n  });\n  const { toast } = useToast();\n\n  // Sync local state when parent data changes (for edit mode)\n  useEffect(() => {\n    setVersions(data);\n  }, [data]);\n\n  // Update parent state when versions change\n  useEffect(() => {\n    onChange(versions);\n  }, [versions, onChange]);\n\n  const updateVersions = (updates: Partial<VersionsData>) => {\n    setVersions(prev => ({ ...prev, ...updates }));\n  };\n\n  const createVersion = () => {\n    const newVersion: Version = {\n      id: `version-${Date.now()}`,\n      version: `v1.${versions.versions.length + 1}.0`,\n      status: \"draft\",\n      publishedAt: null,\n      createdAt: new Date(),\n      createdBy: \"current-user\", // Should come from auth context\n      releaseNotes: newVersionData.releaseNotes,\n      tags: newVersionData.tags,\n      changes: [], // Should be populated based on current changes\n      config: {}, // Should contain current configuration snapshot\n    };\n\n    setVersions(prev => ({\n      ...prev,\n      versions: [newVersion, ...prev.versions],\n      draftVersion: newVersion.id\n    }));\n\n    setNewVersionData({\n      releaseNotes: \"\",\n      tags: [],\n      newTag: \"\"\n    });\n    setShowCreateDialog(false);\n\n    toast({\n      title: \"Version created\",\n      description: `${newVersion.version} has been created as a draft`,\n    });\n  };\n\n  const publishVersion = (versionId: string) => {\n    const version = versions.versions.find(v => v.id === versionId);\n    if (!version) return;\n\n    if (versions.approvalWorkflow.enabled && !version.approvedBy) {\n      toast({\n        title: \"Approval required\",\n        description: \"This version needs approval before publishing\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setVersions(prev => ({\n      ...prev,\n      versions: prev.versions.map(v =>\n        v.id === versionId ? {\n          ...v,\n          status: \"published\" as const,\n          publishedAt: new Date()\n        } : \n        v.status === \"published\" ? { ...v, status: \"archived\" as const } : v\n      ),\n      currentVersion: versionId,\n      draftVersion: prev.draftVersion === versionId ? null : prev.draftVersion\n    }));\n\n    toast({\n      title: \"Version published\",\n      description: `${version.version} is now live`,\n    });\n  };\n\n  const rollbackToVersion = () => {\n    const version = versions.versions.find(v => v.id === rollbackVersion);\n    if (!version) return;\n\n    const rollbackVersionObj: Version = {\n      id: `rollback-${Date.now()}`,\n      version: `v1.${versions.versions.length + 1}.0`,\n      status: \"published\",\n      publishedAt: new Date(),\n      createdAt: new Date(),\n      createdBy: \"current-user\",\n      releaseNotes: `Rollback to ${version.version}`,\n      tags: [\"rollback\"],\n      changes: [],\n      config: version.config,\n      isRollback: true,\n      rollbackFromVersion: version.id,\n      rollbackReason: \"Emergency rollback\"\n    };\n\n    setVersions(prev => ({\n      ...prev,\n      versions: [rollbackVersionObj, ...prev.versions.map(v => \n        v.status === \"published\" ? { ...v, status: \"archived\" as const } : v\n      )],\n      currentVersion: rollbackVersionObj.id\n    }));\n\n    setShowRollbackDialog(false);\n    setRollbackVersion(\"\");\n\n    toast({\n      title: \"Rollback completed\",\n      description: `Successfully rolled back to ${version.version}`,\n    });\n  };\n\n  const approveVersion = (versionId: string) => {\n    setVersions(prev => ({\n      ...prev,\n      versions: prev.versions.map(v =>\n        v.id === versionId ? {\n          ...v,\n          approvedBy: \"current-user\",\n          approvedAt: new Date()\n        } : v\n      )\n    }));\n\n    const version = versions.versions.find(v => v.id === versionId);\n    \n    // Auto-publish if enabled\n    if (versions.approvalWorkflow.autoPublishOnApproval) {\n      setTimeout(() => publishVersion(versionId), 1000);\n    }\n\n    toast({\n      title: \"Version approved\",\n      description: `${version?.version} has been approved`,\n    });\n  };\n\n  const toggleVersionExpansion = (versionId: string) => {\n    setExpandedVersions(prev => ({\n      ...prev,\n      [versionId]: !prev[versionId]\n    }));\n  };\n\n  const selectVersionForDiff = (versionId: string) => {\n    if (!selectedVersions) {\n      setSelectedVersions([versionId, \"\"]);\n    } else if (selectedVersions[1] === \"\") {\n      setSelectedVersions([selectedVersions[0], versionId]);\n    } else {\n      setSelectedVersions([versionId, \"\"]);\n    }\n  };\n\n  const getVersionStatusIcon = (status: string) => {\n    switch (status) {\n      case \"published\":\n        return <CheckCircle className=\"h-4 w-4 text-green-500\" />;\n      case \"draft\":\n        return <Clock className=\"h-4 w-4 text-yellow-500\" />;\n      case \"archived\":\n        return <Archive className=\"h-4 w-4 text-gray-500\" />;\n      default:\n        return <AlertCircle className=\"h-4 w-4 text-gray-500\" />;\n    }\n  };\n\n  const getVersionStatusColor = (status: string) => {\n    switch (status) {\n      case \"published\":\n        return \"text-green-500\";\n      case \"draft\":\n        return \"text-yellow-500\";\n      case \"archived\":\n        return \"text-gray-500\";\n      default:\n        return \"text-gray-500\";\n    }\n  };\n\n  const addTag = () => {\n    if (newVersionData.newTag.trim() && !newVersionData.tags.includes(newVersionData.newTag.trim())) {\n      setNewVersionData(prev => ({\n        ...prev,\n        tags: [...prev.tags, prev.newTag.trim()],\n        newTag: \"\"\n      }));\n    }\n  };\n\n  const removeTag = (tag: string) => {\n    setNewVersionData(prev => ({\n      ...prev,\n      tags: prev.tags.filter(t => t !== tag)\n    }));\n  };\n\n  const formatChangeValue = (value: any) => {\n    if (typeof value === \"object\") {\n      return JSON.stringify(value, null, 2);\n    }\n    return String(value);\n  };\n\n  const getCurrentVersion = () => {\n    return versions.versions.find(v => v.id === versions.currentVersion);\n  };\n\n  const getDraftVersion = () => {\n    return versions.draftVersion ? versions.versions.find(v => v.id === versions.draftVersion) : null;\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <History className=\"h-5 w-5 text-muted-foreground\" />\n          <h2 className=\"text-lg font-semibold\">Version History & Diff</h2>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <Dialog open={showCreateDialog} onOpenChange={setShowCreateDialog}>\n            <DialogTrigger asChild>\n              <Button data-testid=\"button-create-version\">\n                <Plus className=\"h-4 w-4 mr-2\" />\n                Create Version\n              </Button>\n            </DialogTrigger>\n            <DialogContent>\n              <DialogHeader>\n                <DialogTitle>Create New Version</DialogTitle>\n              </DialogHeader>\n              <div className=\"space-y-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"release-notes\">Release Notes</Label>\n                  <Textarea\n                    id=\"release-notes\"\n                    placeholder=\"Describe what changed in this version...\"\n                    value={newVersionData.releaseNotes}\n                    onChange={(e) => setNewVersionData(prev => ({ ...prev, releaseNotes: e.target.value }))}\n                    className=\"h-24\"\n                    data-testid=\"textarea-release-notes\"\n                  />\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label>Tags</Label>\n                  <div className=\"flex gap-2\">\n                    <Input\n                      placeholder=\"Add tag...\"\n                      value={newVersionData.newTag}\n                      onChange={(e) => setNewVersionData(prev => ({ ...prev, newTag: e.target.value }))}\n                      onKeyPress={(e) => e.key === \"Enter\" && addTag()}\n                      data-testid=\"input-new-tag\"\n                    />\n                    <Button onClick={addTag} variant=\"outline\" data-testid=\"button-add-tag\">\n                      Add\n                    </Button>\n                  </div>\n                  <div className=\"flex flex-wrap gap-1\">\n                    {newVersionData.tags.map((tag) => (\n                      <Badge key={tag} variant=\"secondary\" className=\"cursor-pointer\" onClick={() => removeTag(tag)}>\n                        {tag} ×\n                      </Badge>\n                    ))}\n                  </div>\n                </div>\n\n                <div className=\"flex justify-end gap-2\">\n                  <Button variant=\"outline\" onClick={() => setShowCreateDialog(false)}>\n                    Cancel\n                  </Button>\n                  <Button onClick={createVersion} data-testid=\"button-save-version\">\n                    Create Version\n                  </Button>\n                </div>\n              </div>\n            </DialogContent>\n          </Dialog>\n          \n          <Dialog open={showRollbackDialog} onOpenChange={setShowRollbackDialog}>\n            <DialogTrigger asChild>\n              <Button variant=\"outline\" data-testid=\"button-rollback\">\n                <RotateCcw className=\"h-4 w-4 mr-2\" />\n                Rollback\n              </Button>\n            </DialogTrigger>\n            <DialogContent>\n              <DialogHeader>\n                <DialogTitle>Rollback to Previous Version</DialogTitle>\n              </DialogHeader>\n              <div className=\"space-y-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"rollback-version\">Select Version</Label>\n                  <Select value={rollbackVersion} onValueChange={setRollbackVersion}>\n                    <SelectTrigger id=\"rollback-version\" data-testid=\"select-rollback-version\">\n                      <SelectValue placeholder=\"Choose version to rollback to...\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      {versions.versions\n                        .filter(v => v.status === \"archived\" || (v.status === \"published\" && v.id !== versions.currentVersion))\n                        .map((version) => (\n                          <SelectItem key={version.id} value={version.id}>\n                            {version.version} - {version.createdAt.toLocaleDateString()}\n                          </SelectItem>\n                        ))}\n                    </SelectContent>\n                  </Select>\n                </div>\n\n                <Alert>\n                  <AlertCircle className=\"h-4 w-4\" />\n                  <AlertDescription>\n                    Rolling back will create a new version with the selected configuration and immediately publish it.\n                  </AlertDescription>\n                </Alert>\n\n                <div className=\"flex justify-end gap-2\">\n                  <Button variant=\"outline\" onClick={() => setShowRollbackDialog(false)}>\n                    Cancel\n                  </Button>\n                  <Button \n                    onClick={rollbackToVersion}\n                    disabled={!rollbackVersion}\n                    variant=\"destructive\"\n                    data-testid=\"button-confirm-rollback\"\n                  >\n                    Rollback\n                  </Button>\n                </div>\n              </div>\n            </DialogContent>\n          </Dialog>\n        </div>\n      </div>\n\n      {/* Current Version Status */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Star className=\"h-5 w-5 text-yellow-500\" />\n            Current Status\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n            <div className=\"space-y-2\">\n              <Label className=\"text-sm font-medium\">Live Version</Label>\n              <div className=\"flex items-center gap-2\">\n                {getVersionStatusIcon(\"published\")}\n                <span className=\"font-medium\">{getCurrentVersion()?.version || \"None\"}</span>\n              </div>\n              <p className=\"text-sm text-muted-foreground\">\n                {getCurrentVersion()?.publishedAt?.toLocaleString() || \"Never published\"}\n              </p>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label className=\"text-sm font-medium\">Draft Version</Label>\n              <div className=\"flex items-center gap-2\">\n                {getDraftVersion() ? getVersionStatusIcon(\"draft\") : <Clock className=\"h-4 w-4 text-gray-400\" />}\n                <span className=\"font-medium\">{getDraftVersion()?.version || \"None\"}</span>\n              </div>\n              <p className=\"text-sm text-muted-foreground\">\n                {getDraftVersion() ? \"Ready for publishing\" : \"No draft available\"}\n              </p>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label className=\"text-sm font-medium\">Total Versions</Label>\n              <p className=\"text-2xl font-bold\" data-testid=\"total-versions-count\">\n                {versions.versions.length}\n              </p>\n              <p className=\"text-sm text-muted-foreground\">\n                {versions.versions.filter(v => v.status === \"published\").length} published, {\" \"}\n                {versions.versions.filter(v => v.status === \"draft\").length} draft\n              </p>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Tabs */}\n      <Tabs value={activeTab} onValueChange={setActiveTab}>\n        <TabsList className=\"grid w-full grid-cols-3\">\n          <TabsTrigger value=\"history\" data-testid=\"tab-history\">\n            <History className=\"h-4 w-4 mr-2\" />\n            History\n          </TabsTrigger>\n          <TabsTrigger value=\"diff\" data-testid=\"tab-diff\">\n            <Diff className=\"h-4 w-4 mr-2\" />\n            Compare\n          </TabsTrigger>\n          <TabsTrigger value=\"settings\" data-testid=\"tab-version-settings\">\n            <Settings className=\"h-4 w-4 mr-2\" />\n            Settings\n          </TabsTrigger>\n        </TabsList>\n\n        {/* History Tab */}\n        <TabsContent value=\"history\" className=\"space-y-4\">\n          <div className=\"space-y-4\">\n            {versions.versions.map((version, index) => (\n              <Card \n                key={version.id} \n                className={`transition-all hover-elevate ${\n                  version.id === versions.currentVersion ? \"ring-2 ring-green-500\" : \"\"\n                } ${\n                  selectedVersions?.includes(version.id) ? \"ring-2 ring-blue-500\" : \"\"\n                }`}\n                data-testid={`version-card-${version.id}`}\n              >\n                <CardHeader className=\"pb-3\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-3\">\n                      <Button\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        onClick={() => toggleVersionExpansion(version.id)}\n                        data-testid={`button-expand-${version.id}`}\n                      >\n                        {expandedVersions[version.id] ? (\n                          <ChevronDown className=\"h-4 w-4\" />\n                        ) : (\n                          <ChevronRight className=\"h-4 w-4\" />\n                        )}\n                      </Button>\n                      <div className=\"flex items-center gap-2\">\n                        {getVersionStatusIcon(version.status)}\n                        <div>\n                          <CardTitle className=\"text-lg\">{version.version}</CardTitle>\n                          <p className=\"text-sm text-muted-foreground\">\n                            {version.createdAt.toLocaleDateString()} by {version.createdBy}\n                          </p>\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <Badge \n                        variant={version.status === \"published\" ? \"default\" : \n                                version.status === \"draft\" ? \"secondary\" : \"outline\"}\n                        className={getVersionStatusColor(version.status)}\n                      >\n                        {version.status}\n                      </Badge>\n                      {version.id === versions.currentVersion && (\n                        <Badge variant=\"outline\" className=\"text-green-600\">\n                          Current\n                        </Badge>\n                      )}\n                      {version.isRollback && (\n                        <Badge variant=\"outline\" className=\"text-orange-600\">\n                          Rollback\n                        </Badge>\n                      )}\n                    </div>\n                  </div>\n                </CardHeader>\n\n                <CardContent className=\"space-y-4\">\n                  {/* Release Notes */}\n                  {version.releaseNotes && (\n                    <div>\n                      <Label className=\"text-sm font-medium\">Release Notes</Label>\n                      <p className=\"text-sm text-muted-foreground mt-1\">{version.releaseNotes}</p>\n                    </div>\n                  )}\n\n                  {/* Tags */}\n                  {version.tags.length > 0 && (\n                    <div className=\"space-y-2\">\n                      <Label className=\"text-sm font-medium\">Tags</Label>\n                      <div className=\"flex flex-wrap gap-1\">\n                        {version.tags.map((tag) => (\n                          <Badge key={tag} variant=\"outline\" className=\"text-xs\">\n                            <Tag className=\"h-3 w-3 mr-1\" />\n                            {tag}\n                          </Badge>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n\n                  {/* Expanded Details */}\n                  {expandedVersions[version.id] && (\n                    <div className=\"space-y-4 pt-4 border-t\">\n                      {/* Changes */}\n                      {version.changes.length > 0 && (\n                        <div className=\"space-y-2\">\n                          <Label className=\"text-sm font-medium\">Changes ({version.changes.length})</Label>\n                          <div className=\"space-y-2 max-h-48 overflow-y-auto\">\n                            {version.changes.map((change, changeIndex) => (\n                              <div \n                                key={changeIndex} \n                                className=\"text-sm p-2 bg-muted rounded border-l-4 border-blue-500\"\n                                data-testid={`change-${version.id}-${changeIndex}`}\n                              >\n                                <div className=\"flex items-center gap-2 mb-1\">\n                                  <Badge variant=\"outline\" className=\"text-xs\">\n                                    {change.type}\n                                  </Badge>\n                                  <span className=\"font-medium\">{change.field}</span>\n                                </div>\n                                {change.type !== \"added\" && (\n                                  <div className=\"text-red-600 bg-red-50 p-1 rounded text-xs font-mono\">\n                                    - {formatChangeValue(change.oldValue)}\n                                  </div>\n                                )}\n                                {change.type !== \"removed\" && (\n                                  <div className=\"text-green-600 bg-green-50 p-1 rounded text-xs font-mono\">\n                                    + {formatChangeValue(change.newValue)}\n                                  </div>\n                                )}\n                              </div>\n                            ))}\n                          </div>\n                        </div>\n                      )}\n\n                      {/* Approval Status */}\n                      {versions.approvalWorkflow.enabled && (\n                        <div className=\"space-y-2\">\n                          <Label className=\"text-sm font-medium\">Approval Status</Label>\n                          <div className=\"flex items-center gap-2\">\n                            {version.approvedBy ? (\n                              <>\n                                <CheckCircle className=\"h-4 w-4 text-green-500\" />\n                                <span className=\"text-sm\">\n                                  Approved by {version.approvedBy} on {version.approvedAt?.toLocaleDateString()}\n                                </span>\n                              </>\n                            ) : (\n                              <>\n                                <Clock className=\"h-4 w-4 text-yellow-500\" />\n                                <span className=\"text-sm\">Pending approval</span>\n                              </>\n                            )}\n                          </div>\n                        </div>\n                      )}\n                    </div>\n                  )}\n\n                  {/* Actions */}\n                  <div className=\"flex gap-2 pt-2 border-t\">\n                    <Button \n                      size=\"sm\" \n                      variant=\"outline\"\n                      onClick={() => selectVersionForDiff(version.id)}\n                      data-testid={`button-select-diff-${version.id}`}\n                    >\n                      {selectedVersions?.includes(version.id) ? \"Selected\" : \"Select for Diff\"}\n                    </Button>\n                    \n                    {version.status === \"draft\" && !version.approvedBy && versions.approvalWorkflow.enabled && (\n                      <Button \n                        size=\"sm\" \n                        variant=\"outline\"\n                        onClick={() => approveVersion(version.id)}\n                        data-testid={`button-approve-${version.id}`}\n                      >\n                        <CheckCircle className=\"h-4 w-4 mr-2\" />\n                        Approve\n                      </Button>\n                    )}\n                    \n                    {version.status === \"draft\" && (!versions.approvalWorkflow.enabled || version.approvedBy) && (\n                      <Button \n                        size=\"sm\"\n                        onClick={() => publishVersion(version.id)}\n                        data-testid={`button-publish-${version.id}`}\n                      >\n                        <Upload className=\"h-4 w-4 mr-2\" />\n                        Publish\n                      </Button>\n                    )}\n\n                    {version.status === \"published\" && version.id === versions.currentVersion && (\n                      <Badge variant=\"default\" className=\"px-2 py-1\">\n                        <CheckCircle className=\"h-3 w-3 mr-1\" />\n                        Live\n                      </Badge>\n                    )}\n                  </div>\n                </CardContent>\n              </Card>\n            ))}\n\n            {versions.versions.length === 0 && (\n              <Card className=\"text-center py-12\">\n                <CardContent>\n                  <History className=\"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50\" />\n                  <h3 className=\"text-lg font-medium mb-2\">No versions found</h3>\n                  <p className=\"text-sm text-muted-foreground mb-4\">\n                    Create your first version to start tracking changes\n                  </p>\n                  <Button onClick={() => setShowCreateDialog(true)} data-testid=\"button-create-first-version\">\n                    <Plus className=\"h-4 w-4 mr-2\" />\n                    Create Version\n                  </Button>\n                </CardContent>\n              </Card>\n            )}\n          </div>\n        </TabsContent>\n\n        {/* Compare Tab */}\n        <TabsContent value=\"diff\" className=\"space-y-6\">\n          <div className=\"space-y-4\">\n            <div className=\"flex items-center justify-between\">\n              <Label className=\"text-base font-medium\">Select Two Versions to Compare</Label>\n              <Button\n                variant=\"outline\"\n                onClick={() => setSelectedVersions(null)}\n                disabled={!selectedVersions}\n                data-testid=\"button-clear-selection\"\n              >\n                Clear Selection\n              </Button>\n            </div>\n\n            {selectedVersions && selectedVersions[1] && (\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <Diff className=\"h-5 w-5\" />\n                    Version Comparison\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"grid grid-cols-2 gap-6\">\n                    <div>\n                      <Label className=\"text-sm font-medium text-red-600\">From Version</Label>\n                      <p className=\"text-lg font-medium\">\n                        {versions.versions.find(v => v.id === selectedVersions[0])?.version}\n                      </p>\n                    </div>\n                    <div>\n                      <Label className=\"text-sm font-medium text-green-600\">To Version</Label>\n                      <p className=\"text-lg font-medium\">\n                        {versions.versions.find(v => v.id === selectedVersions[1])?.version}\n                      </p>\n                    </div>\n                  </div>\n\n                  <Separator className=\"my-4\" />\n\n                  <div className=\"space-y-4\">\n                    <Label className=\"text-sm font-medium\">Configuration Differences</Label>\n                    <div className=\"bg-muted p-4 rounded-lg\">\n                      <p className=\"text-sm text-muted-foreground text-center\">\n                        Detailed diff view would show configuration changes between selected versions\n                      </p>\n                      <div className=\"mt-4 space-y-2\">\n                        <div className=\"text-sm\">\n                          <div className=\"text-red-600 bg-red-50 p-2 rounded\">\n                            - Old configuration values\n                          </div>\n                        </div>\n                        <div className=\"text-sm\">\n                          <div className=\"text-green-600 bg-green-50 p-2 rounded\">\n                            + New configuration values\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            )}\n\n            {(!selectedVersions || !selectedVersions[1]) && (\n              <Card className=\"text-center py-12\">\n                <CardContent>\n                  <Diff className=\"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50\" />\n                  <h3 className=\"text-lg font-medium mb-2\">Select versions to compare</h3>\n                  <p className=\"text-sm text-muted-foreground\">\n                    Choose two versions from the history tab to see their differences\n                  </p>\n                </CardContent>\n              </Card>\n            )}\n          </div>\n        </TabsContent>\n\n        {/* Settings Tab */}\n        <TabsContent value=\"settings\" className=\"space-y-6\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Version Management Settings</CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div className=\"space-y-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"retention-days\">Version Retention (days)</Label>\n                    <Input\n                      id=\"retention-days\"\n                      type=\"number\"\n                      value={versions.retentionDays}\n                      onChange={(e) => updateVersions({ retentionDays: parseInt(e.target.value) || 90 })}\n                      data-testid=\"input-retention-days\"\n                    />\n                    <p className=\"text-sm text-muted-foreground\">\n                      Archived versions older than this will be automatically deleted\n                    </p>\n                  </div>\n                </div>\n\n                <div className=\"space-y-4\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"space-y-0.5\">\n                      <Label htmlFor=\"auto-versioning\">Auto Versioning</Label>\n                      <p className=\"text-sm text-muted-foreground\">Create versions automatically on publish</p>\n                    </div>\n                    <Switch\n                      id=\"auto-versioning\"\n                      checked={versions.autoVersioning}\n                      onCheckedChange={(checked) => updateVersions({ autoVersioning: checked })}\n                      data-testid=\"switch-auto-versioning\"\n                    />\n                  </div>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader>\n              <CardTitle>Approval Workflow</CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"space-y-0.5\">\n                  <Label htmlFor=\"approval-enabled\">Enable Approval Workflow</Label>\n                  <p className=\"text-sm text-muted-foreground\">Require approval before publishing versions</p>\n                </div>\n                <Switch\n                  id=\"approval-enabled\"\n                  checked={versions.approvalWorkflow.enabled}\n                  onCheckedChange={(checked) => updateVersions({\n                    approvalWorkflow: { ...versions.approvalWorkflow, enabled: checked }\n                  })}\n                  data-testid=\"switch-approval-enabled\"\n                />\n              </div>\n\n              {versions.approvalWorkflow.enabled && (\n                <div className=\"space-y-4 pl-4 border-l-2 border-muted\">\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"required-approvers\">Required Approvers</Label>\n                      <Input\n                        id=\"required-approvers\"\n                        type=\"number\"\n                        min=\"1\"\n                        value={versions.approvalWorkflow.requiredApprovers}\n                        onChange={(e) => updateVersions({\n                          approvalWorkflow: {\n                            ...versions.approvalWorkflow,\n                            requiredApprovers: parseInt(e.target.value) || 1\n                          }\n                        })}\n                        data-testid=\"input-required-approvers\"\n                      />\n                    </div>\n\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"space-y-0.5\">\n                        <Label htmlFor=\"auto-publish\">Auto-publish on Approval</Label>\n                        <p className=\"text-sm text-muted-foreground\">Publish automatically when approved</p>\n                      </div>\n                      <Switch\n                        id=\"auto-publish\"\n                        checked={versions.approvalWorkflow.autoPublishOnApproval}\n                        onCheckedChange={(checked) => updateVersions({\n                          approvalWorkflow: {\n                            ...versions.approvalWorkflow,\n                            autoPublishOnApproval: checked\n                          }\n                        })}\n                        data-testid=\"switch-auto-publish\"\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label>Approved Users</Label>\n                    <div className=\"text-sm text-muted-foreground\">\n                      Current approvers: {versions.approvalWorkflow.approvers.length > 0 \n                        ? versions.approvalWorkflow.approvers.join(\", \")\n                        : \"No approvers configured\"\n                      }\n                    </div>\n                  </div>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n}","size_bytes":35561},"client/src/components/tabs/WebhooksTab.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Label } from \"@/components/ui/label\";\nimport { Input } from \"@/components/ui/input\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { \n  Webhook, \n  Plus, \n  Trash2, \n  Edit, \n  TestTube,\n  CheckCircle, \n  AlertCircle, \n  Clock, \n  ArrowRight,\n  Search,\n  Filter,\n  RotateCcw,\n  Play,\n  Settings,\n  Shield,\n  History,\n  Code,\n  Bell,\n  Copy,\n  Eye,\n  EyeOff,\n  ExternalLink,\n  Activity,\n  Zap,\n  Globe\n} from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\n\ninterface WebhookEndpoint {\n  id: string;\n  name: string;\n  url: string;\n  events: string[];\n  isActive: boolean;\n  secret: string;\n  retryCount: number;\n  timeoutMs: number;\n  customHeaders: { key: string; value: string }[];\n  createdAt: Date;\n  lastTriggered: Date | null;\n  successCount: number;\n  failureCount: number;\n}\n\ninterface EventLog {\n  id: string;\n  webhookId: string;\n  webhookName: string;\n  event: string;\n  payload: any;\n  response: {\n    status: number;\n    body: string;\n    headers: Record<string, string>;\n  } | null;\n  attempts: number;\n  status: \"success\" | \"failed\" | \"pending\" | \"retrying\";\n  timestamp: Date;\n  duration: number; // ms\n  nextRetry?: Date;\n}\n\ninterface WebhooksData {\n  endpoints: WebhookEndpoint[];\n  eventTypes: string[];\n  globalRetryEnabled: boolean;\n  globalTimeoutMs: number;\n  eventLogs: EventLog[];\n  testMode: boolean;\n}\n\ninterface WebhooksTabProps {\n  data: WebhooksData;\n  onChange: (data: WebhooksData) => void;\n}\n\nexport default function WebhooksTab({ data, onChange }: WebhooksTabProps) {\n  const [webhooks, setWebhooks] = useState<WebhooksData>(data);\n  const [activeTab, setActiveTab] = useState(\"endpoints\");\n  const [showCreateDialog, setShowCreateDialog] = useState(false);\n  const [editingWebhook, setEditingWebhook] = useState<WebhookEndpoint | null>(null);\n  const [testingWebhook, setTestingWebhook] = useState<string | null>(null);\n  const [eventFilter, setEventFilter] = useState(\"\");\n  const [statusFilter, setStatusFilter] = useState(\"all\");\n  const [showSecrets, setShowSecrets] = useState<Record<string, boolean>>({});\n  const [testPayload, setTestPayload] = useState(\"\");\n  const { toast } = useToast();\n\n  const [newWebhook, setNewWebhook] = useState<Partial<WebhookEndpoint>>({\n    name: \"\",\n    url: \"\",\n    events: [],\n    isActive: true,\n    secret: \"\",\n    retryCount: 3,\n    timeoutMs: 5000,\n    customHeaders: [],\n  });\n\n  // Sync local state when parent data changes (for edit mode)\n  useEffect(() => {\n    setWebhooks(data);\n  }, [data]);\n\n  // Update parent state when webhooks change\n  useEffect(() => {\n    onChange(webhooks);\n  }, [webhooks, onChange]);\n\n  const updateWebhooks = (updates: Partial<WebhooksData>) => {\n    setWebhooks(prev => ({ ...prev, ...updates }));\n  };\n\n  const addWebhook = () => {\n    if (!newWebhook.name || !newWebhook.url) return;\n    \n    const webhook: WebhookEndpoint = {\n      id: `webhook-${Date.now()}`,\n      name: newWebhook.name,\n      url: newWebhook.url,\n      events: newWebhook.events || [],\n      isActive: newWebhook.isActive ?? true,\n      secret: newWebhook.secret || \"\",\n      retryCount: newWebhook.retryCount || 3,\n      timeoutMs: newWebhook.timeoutMs || 5000,\n      customHeaders: newWebhook.customHeaders || [],\n      createdAt: new Date(),\n      lastTriggered: null,\n      successCount: 0,\n      failureCount: 0,\n    };\n\n    setWebhooks(prev => ({\n      ...prev,\n      endpoints: [...prev.endpoints, webhook]\n    }));\n\n    setNewWebhook({\n      name: \"\",\n      url: \"\",\n      events: [],\n      isActive: true,\n      secret: \"\",\n      retryCount: 3,\n      timeoutMs: 5000,\n      customHeaders: [],\n    });\n    setShowCreateDialog(false);\n\n    toast({\n      title: \"Webhook created\",\n      description: `${webhook.name} has been added successfully`,\n    });\n  };\n\n  const updateWebhook = (id: string, updates: Partial<WebhookEndpoint>) => {\n    setWebhooks(prev => ({\n      ...prev,\n      endpoints: prev.endpoints.map(webhook =>\n        webhook.id === id ? { ...webhook, ...updates } : webhook\n      )\n    }));\n  };\n\n  const deleteWebhook = (id: string) => {\n    let webhookName = \"\";\n    setWebhooks(prev => {\n      const webhook = prev.endpoints.find(w => w.id === id);\n      webhookName = webhook?.name || \"\";\n      return {\n        ...prev,\n        endpoints: prev.endpoints.filter(w => w.id !== id),\n        eventLogs: prev.eventLogs.filter(log => log.webhookId !== id)\n      };\n    });\n\n    toast({\n      title: \"Webhook deleted\",\n      description: `${webhookName} has been removed`,\n    });\n  };\n\n  const testWebhook = async (webhookId: string) => {\n    let webhook: WebhookEndpoint | undefined;\n    let webhookName = \"\";\n    \n    setWebhooks(prev => {\n      webhook = prev.endpoints.find(w => w.id === webhookId);\n      webhookName = webhook?.name || \"\";\n      return prev;\n    });\n    \n    if (!webhook) return;\n\n    setTestingWebhook(webhookId);\n\n    // Parse test payload with validation\n    let parsedPayload;\n    try {\n      parsedPayload = testPayload ? JSON.parse(testPayload) : { test: true, timestamp: new Date().toISOString() };\n    } catch (error) {\n      toast({\n        title: \"Invalid test payload\",\n        description: \"Test payload must be valid JSON\",\n        variant: \"destructive\",\n      });\n      setTestingWebhook(null);\n      return;\n    }\n\n    const testEvent: EventLog = {\n      id: `test-${Date.now()}`,\n      webhookId: webhook.id,\n      webhookName: webhook.name,\n      event: \"test\",\n      payload: parsedPayload,\n      response: null,\n      attempts: 1,\n      status: \"pending\",\n      timestamp: new Date(),\n      duration: 0,\n    };\n\n    // Add test event to logs\n    setWebhooks(prev => ({\n      ...prev,\n      eventLogs: [testEvent, ...prev.eventLogs]\n    }));\n\n    // Simulate webhook test\n    setTimeout(() => {\n      const success = Math.random() > 0.3; // 70% success rate\n      const updatedEvent: EventLog = {\n        ...testEvent,\n        status: success ? \"success\" : \"failed\",\n        duration: Math.floor(Math.random() * 1000) + 100,\n        response: {\n          status: success ? 200 : 500,\n          body: success ? \"OK\" : \"Internal Server Error\",\n          headers: { \"content-type\": \"application/json\" }\n        }\n      };\n\n      setWebhooks(prev => {\n        const webhook = prev.endpoints.find(w => w.id === webhookId);\n        return {\n          ...prev,\n          eventLogs: prev.eventLogs.map(log => \n            log.id === testEvent.id ? updatedEvent : log\n          ),\n          endpoints: prev.endpoints.map(w =>\n            w.id === webhookId ? {\n              ...w,\n              lastTriggered: new Date(),\n              successCount: success ? w.successCount + 1 : w.successCount,\n              failureCount: success ? w.failureCount : w.failureCount + 1,\n            } : w\n          )\n        };\n      });\n\n      setTestingWebhook(null);\n\n      toast({\n        title: success ? \"Test successful\" : \"Test failed\",\n        description: success ? \"Webhook responded successfully\" : \"Webhook test failed\",\n        variant: success ? \"default\" : \"destructive\",\n      });\n    }, 2000);\n\n    toast({\n      title: \"Testing webhook\",\n      description: `Sending test payload to ${webhookName}...`,\n    });\n  };\n\n  const retryEvent = (eventId: string) => {\n    let event: EventLog | undefined;\n    \n    setWebhooks(prev => {\n      event = prev.eventLogs.find(e => e.id === eventId);\n      if (!event) return prev;\n\n      const updatedEvent = {\n        ...event,\n        status: \"retrying\" as const,\n        attempts: event.attempts + 1,\n        nextRetry: new Date(Date.now() + 60000) // 1 minute from now\n      };\n\n      return {\n        ...prev,\n        eventLogs: prev.eventLogs.map(log => \n          log.id === eventId ? updatedEvent : log\n        )\n      };\n    });\n\n    if (!event) return;\n\n    // Simulate retry\n    setTimeout(() => {\n      const success = Math.random() > 0.5;\n      setWebhooks(prev => {\n        const retryingEvent = prev.eventLogs.find(log => log.id === eventId);\n        if (!retryingEvent) return prev;\n\n        return {\n          ...prev,\n          eventLogs: prev.eventLogs.map(log => \n            log.id === eventId ? {\n              ...log,\n              status: success ? \"success\" : \"failed\",\n              duration: Math.floor(Math.random() * 1000) + 100,\n              response: {\n                status: success ? 200 : 500,\n                body: success ? \"OK\" : \"Internal Server Error\",\n                headers: { \"content-type\": \"application/json\" }\n              }\n            } : log\n          ),\n          endpoints: prev.endpoints.map(webhook =>\n            webhook.id === retryingEvent.webhookId ? {\n              ...webhook,\n              lastTriggered: new Date(),\n              successCount: success ? webhook.successCount + 1 : webhook.successCount,\n              failureCount: success ? webhook.failureCount : webhook.failureCount + 1,\n            } : webhook\n          )\n        };\n      });\n    }, 3000);\n\n    toast({\n      title: \"Retrying event\",\n      description: \"Attempting to resend webhook...\",\n    });\n  };\n\n  const getStatusIcon = (status: string) => {\n    switch (status) {\n      case \"success\":\n        return <CheckCircle className=\"h-4 w-4 text-green-500\" />;\n      case \"failed\":\n        return <AlertCircle className=\"h-4 w-4 text-red-500\" />;\n      case \"retrying\":\n        return <RotateCcw className=\"h-4 w-4 text-yellow-500 animate-spin\" />;\n      case \"pending\":\n        return <Clock className=\"h-4 w-4 text-yellow-500\" />;\n      default:\n        return <AlertCircle className=\"h-4 w-4 text-gray-500\" />;\n    }\n  };\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case \"success\":\n        return \"text-green-500\";\n      case \"failed\":\n        return \"text-red-500\";\n      case \"retrying\":\n        return \"text-yellow-500\";\n      case \"pending\":\n        return \"text-yellow-500\";\n      default:\n        return \"text-gray-500\";\n    }\n  };\n\n  const filteredLogs = webhooks.eventLogs.filter(log => {\n    const matchesEvent = eventFilter === \"\" || log.event.toLowerCase().includes(eventFilter.toLowerCase());\n    const matchesStatus = statusFilter === \"all\" || log.status === statusFilter;\n    return matchesEvent && matchesStatus;\n  });\n\n  const addCustomHeader = (webhook: Partial<WebhookEndpoint>) => {\n    const headers = webhook.customHeaders || [];\n    return {\n      ...webhook,\n      customHeaders: [...headers, { key: \"\", value: \"\" }]\n    };\n  };\n\n  const updateCustomHeader = (webhook: Partial<WebhookEndpoint>, index: number, field: \"key\" | \"value\", value: string) => {\n    const headers = [...(webhook.customHeaders || [])];\n    headers[index] = { ...headers[index], [field]: value };\n    return {\n      ...webhook,\n      customHeaders: headers\n    };\n  };\n\n  const removeCustomHeader = (webhook: Partial<WebhookEndpoint>, index: number) => {\n    return {\n      ...webhook,\n      customHeaders: (webhook.customHeaders || []).filter((_, i) => i !== index)\n    };\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <Webhook className=\"h-5 w-5 text-muted-foreground\" />\n          <h2 className=\"text-lg font-semibold\">Webhooks & Event Log</h2>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <div className=\"flex items-center gap-2\">\n            <Label htmlFor=\"test-mode\" className=\"text-sm\">Test Mode</Label>\n            <Switch\n              id=\"test-mode\"\n              checked={webhooks.testMode}\n              onCheckedChange={(checked) => updateWebhooks({ testMode: checked })}\n              data-testid=\"switch-test-mode\"\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* Tabs */}\n      <Tabs value={activeTab} onValueChange={setActiveTab}>\n        <TabsList className=\"grid w-full grid-cols-3\">\n          <TabsTrigger value=\"endpoints\" data-testid=\"tab-endpoints\">\n            <Settings className=\"h-4 w-4 mr-2\" />\n            Endpoints\n          </TabsTrigger>\n          <TabsTrigger value=\"events\" data-testid=\"tab-events\">\n            <Activity className=\"h-4 w-4 mr-2\" />\n            Event Log\n          </TabsTrigger>\n          <TabsTrigger value=\"settings\" data-testid=\"tab-settings\">\n            <Bell className=\"h-4 w-4 mr-2\" />\n            Settings\n          </TabsTrigger>\n        </TabsList>\n\n        {/* Endpoints Tab */}\n        <TabsContent value=\"endpoints\" className=\"space-y-6\">\n          <div className=\"flex items-center justify-between\">\n            <p className=\"text-sm text-muted-foreground\">\n              Manage webhook endpoints and configure event delivery\n            </p>\n            <Dialog open={showCreateDialog} onOpenChange={setShowCreateDialog}>\n              <DialogTrigger asChild>\n                <Button data-testid=\"button-create-webhook\">\n                  <Plus className=\"h-4 w-4 mr-2\" />\n                  Add Webhook\n                </Button>\n              </DialogTrigger>\n              <DialogContent className=\"max-w-2xl\">\n                <DialogHeader>\n                  <DialogTitle>Create Webhook Endpoint</DialogTitle>\n                </DialogHeader>\n                <div className=\"space-y-4\">\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"webhook-name\">Name</Label>\n                      <Input\n                        id=\"webhook-name\"\n                        placeholder=\"My Webhook\"\n                        value={newWebhook.name}\n                        onChange={(e) => setNewWebhook(prev => ({ ...prev, name: e.target.value }))}\n                        data-testid=\"input-webhook-name\"\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"webhook-url\">URL</Label>\n                      <Input\n                        id=\"webhook-url\"\n                        placeholder=\"https://api.example.com/webhooks\"\n                        value={newWebhook.url}\n                        onChange={(e) => setNewWebhook(prev => ({ ...prev, url: e.target.value }))}\n                        data-testid=\"input-webhook-url\"\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label>Events</Label>\n                    <div className=\"grid grid-cols-3 gap-2\">\n                      {webhooks.eventTypes.map((event) => (\n                        <label key={event} className=\"flex items-center space-x-2\">\n                          <input\n                            type=\"checkbox\"\n                            checked={newWebhook.events?.includes(event)}\n                            onChange={(e) => {\n                              const events = newWebhook.events || [];\n                              if (e.target.checked) {\n                                setNewWebhook(prev => ({ ...prev, events: [...events, event] }));\n                              } else {\n                                setNewWebhook(prev => ({ ...prev, events: events.filter(e => e !== event) }));\n                              }\n                            }}\n                            data-testid={`checkbox-event-${event}`}\n                          />\n                          <span className=\"text-sm\">{event}</span>\n                        </label>\n                      ))}\n                    </div>\n                  </div>\n\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"webhook-secret\">Secret (Optional)</Label>\n                      <Input\n                        id=\"webhook-secret\"\n                        type=\"password\"\n                        placeholder=\"webhook_secret_key\"\n                        value={newWebhook.secret}\n                        onChange={(e) => setNewWebhook(prev => ({ ...prev, secret: e.target.value }))}\n                        data-testid=\"input-webhook-secret\"\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"webhook-timeout\">Timeout (ms)</Label>\n                      <Input\n                        id=\"webhook-timeout\"\n                        type=\"number\"\n                        value={newWebhook.timeoutMs}\n                        onChange={(e) => setNewWebhook(prev => ({ ...prev, timeoutMs: parseInt(e.target.value) || 5000 }))}\n                        data-testid=\"input-webhook-timeout\"\n                      />\n                    </div>\n                  </div>\n\n                  {/* Custom Headers */}\n                  <div className=\"space-y-2\">\n                    <div className=\"flex items-center justify-between\">\n                      <Label>Custom Headers</Label>\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={() => setNewWebhook(addCustomHeader(newWebhook))}\n                        data-testid=\"button-add-header\"\n                      >\n                        <Plus className=\"h-3 w-3 mr-1\" />\n                        Add Header\n                      </Button>\n                    </div>\n                    {newWebhook.customHeaders?.map((header, index) => (\n                      <div key={index} className=\"flex gap-2\">\n                        <Input\n                          placeholder=\"Header name\"\n                          value={header.key}\n                          onChange={(e) => setNewWebhook(updateCustomHeader(newWebhook, index, \"key\", e.target.value))}\n                          data-testid={`input-header-key-${index}`}\n                        />\n                        <Input\n                          placeholder=\"Header value\"\n                          value={header.value}\n                          onChange={(e) => setNewWebhook(updateCustomHeader(newWebhook, index, \"value\", e.target.value))}\n                          data-testid={`input-header-value-${index}`}\n                        />\n                        <Button\n                          variant=\"outline\"\n                          size=\"icon\"\n                          onClick={() => setNewWebhook(removeCustomHeader(newWebhook, index))}\n                          data-testid={`button-remove-header-${index}`}\n                        >\n                          <Trash2 className=\"h-4 w-4\" />\n                        </Button>\n                      </div>\n                    ))}\n                  </div>\n\n                  <div className=\"flex justify-end gap-2\">\n                    <Button variant=\"outline\" onClick={() => setShowCreateDialog(false)}>\n                      Cancel\n                    </Button>\n                    <Button \n                      onClick={addWebhook} \n                      disabled={!newWebhook.name || !newWebhook.url}\n                      data-testid=\"button-save-webhook\"\n                    >\n                      Create Webhook\n                    </Button>\n                  </div>\n                </div>\n              </DialogContent>\n            </Dialog>\n          </div>\n\n          {/* Webhooks List */}\n          <div className=\"space-y-4\">\n            {webhooks.endpoints.map((webhook) => (\n              <Card key={webhook.id} className=\"hover-elevate\" data-testid={`webhook-card-${webhook.id}`}>\n                <CardHeader className=\"pb-3\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-3\">\n                      <div className={`w-3 h-3 rounded-full ${webhook.isActive ? \"bg-green-500\" : \"bg-gray-400\"}`} />\n                      <div>\n                        <CardTitle className=\"text-lg\">{webhook.name}</CardTitle>\n                        <p className=\"text-sm text-muted-foreground font-mono\">{webhook.url}</p>\n                      </div>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <Badge variant={webhook.isActive ? \"default\" : \"secondary\"}>\n                        {webhook.isActive ? \"Active\" : \"Inactive\"}\n                      </Badge>\n                    </div>\n                  </div>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  {/* Events */}\n                  <div className=\"space-y-2\">\n                    <Label className=\"text-sm font-medium\">Events</Label>\n                    <div className=\"flex flex-wrap gap-1\">\n                      {webhook.events.length > 0 ? (\n                        webhook.events.map((event) => (\n                          <Badge key={event} variant=\"outline\" className=\"text-xs\">\n                            {event}\n                          </Badge>\n                        ))\n                      ) : (\n                        <span className=\"text-sm text-muted-foreground\">No events configured</span>\n                      )}\n                    </div>\n                  </div>\n\n                  {/* Stats */}\n                  <div className=\"grid grid-cols-3 gap-4 text-sm\">\n                    <div className=\"space-y-1\">\n                      <span className=\"text-muted-foreground\">Success</span>\n                      <p className=\"font-medium text-green-600\" data-testid={`success-count-${webhook.id}`}>\n                        {webhook.successCount}\n                      </p>\n                    </div>\n                    <div className=\"space-y-1\">\n                      <span className=\"text-muted-foreground\">Failed</span>\n                      <p className=\"font-medium text-red-600\" data-testid={`failure-count-${webhook.id}`}>\n                        {webhook.failureCount}\n                      </p>\n                    </div>\n                    <div className=\"space-y-1\">\n                      <span className=\"text-muted-foreground\">Last Triggered</span>\n                      <p className=\"font-medium text-xs\" data-testid={`last-triggered-${webhook.id}`}>\n                        {webhook.lastTriggered \n                          ? webhook.lastTriggered.toLocaleString()\n                          : \"Never\"\n                        }\n                      </p>\n                    </div>\n                  </div>\n\n                  {/* Actions */}\n                  <div className=\"flex gap-2 pt-2\">\n                    <Button \n                      size=\"sm\" \n                      variant=\"outline\"\n                      onClick={() => testWebhook(webhook.id)}\n                      disabled={testingWebhook === webhook.id}\n                      data-testid={`button-test-${webhook.id}`}\n                    >\n                      {testingWebhook === webhook.id ? (\n                        <Clock className=\"h-4 w-4 mr-2 animate-spin\" />\n                      ) : (\n                        <TestTube className=\"h-4 w-4 mr-2\" />\n                      )}\n                      Test\n                    </Button>\n                    <Button \n                      size=\"sm\" \n                      variant=\"ghost\"\n                      onClick={() => updateWebhook(webhook.id, { isActive: !webhook.isActive })}\n                      data-testid={`button-toggle-${webhook.id}`}\n                    >\n                      {webhook.isActive ? \"Disable\" : \"Enable\"}\n                    </Button>\n                    <Button \n                      size=\"sm\" \n                      variant=\"ghost\"\n                      onClick={() => deleteWebhook(webhook.id)}\n                      data-testid={`button-delete-${webhook.id}`}\n                    >\n                      <Trash2 className=\"h-4 w-4 mr-2\" />\n                      Delete\n                    </Button>\n                  </div>\n                </CardContent>\n              </Card>\n            ))}\n\n            {webhooks.endpoints.length === 0 && (\n              <Card className=\"text-center py-12\">\n                <CardContent>\n                  <Webhook className=\"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50\" />\n                  <h3 className=\"text-lg font-medium mb-2\">No webhooks configured</h3>\n                  <p className=\"text-sm text-muted-foreground mb-4\">\n                    Create your first webhook to start receiving event notifications\n                  </p>\n                  <Button onClick={() => setShowCreateDialog(true)} data-testid=\"button-create-first-webhook\">\n                    <Plus className=\"h-4 w-4 mr-2\" />\n                    Create Webhook\n                  </Button>\n                </CardContent>\n              </Card>\n            )}\n          </div>\n        </TabsContent>\n\n        {/* Event Log Tab */}\n        <TabsContent value=\"events\" className=\"space-y-6\">\n          {/* Filters */}\n          <div className=\"flex items-center gap-4\">\n            <div className=\"relative flex-1\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n              <Input\n                placeholder=\"Filter by event name...\"\n                value={eventFilter}\n                onChange={(e) => setEventFilter(e.target.value)}\n                className=\"pl-10\"\n                data-testid=\"input-event-filter\"\n              />\n            </div>\n            <Select value={statusFilter} onValueChange={setStatusFilter}>\n              <SelectTrigger className=\"w-40\" data-testid=\"select-status-filter\">\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"all\">All Status</SelectItem>\n                <SelectItem value=\"success\">Success</SelectItem>\n                <SelectItem value=\"failed\">Failed</SelectItem>\n                <SelectItem value=\"pending\">Pending</SelectItem>\n                <SelectItem value=\"retrying\">Retrying</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n\n          {/* Event Log */}\n          <Card>\n            <CardHeader>\n              <CardTitle>Event Log</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <ScrollArea className=\"h-96\">\n                <div className=\"space-y-4\">\n                  {filteredLogs.map((log) => (\n                    <div \n                      key={log.id} \n                      className=\"flex items-center justify-between p-4 border rounded-lg hover-elevate\"\n                      data-testid={`event-log-${log.id}`}\n                    >\n                      <div className=\"flex items-center gap-4 flex-1\">\n                        <div className=\"flex items-center gap-2\">\n                          {getStatusIcon(log.status)}\n                          <div className=\"text-sm\">\n                            <p className=\"font-medium\">{log.event}</p>\n                            <p className=\"text-muted-foreground\">{log.webhookName}</p>\n                          </div>\n                        </div>\n                        <div className=\"text-sm text-muted-foreground\">\n                          <p>{log.timestamp.toLocaleString()}</p>\n                          {log.duration > 0 && <p>{log.duration}ms</p>}\n                        </div>\n                        <div className=\"text-sm\">\n                          <Badge variant=\"outline\" className={getStatusColor(log.status)}>\n                            {log.status}\n                          </Badge>\n                          {log.attempts > 1 && (\n                            <Badge variant=\"secondary\" className=\"ml-2\">\n                              Attempt {log.attempts}\n                            </Badge>\n                          )}\n                        </div>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        {log.status === \"failed\" && (\n                          <Button\n                            size=\"sm\"\n                            variant=\"ghost\"\n                            onClick={() => retryEvent(log.id)}\n                            data-testid={`button-retry-${log.id}`}\n                          >\n                            <RotateCcw className=\"h-4 w-4 mr-2\" />\n                            Retry\n                          </Button>\n                        )}\n                        <Dialog>\n                          <DialogTrigger asChild>\n                            <Button size=\"sm\" variant=\"ghost\" data-testid={`button-view-${log.id}`}>\n                              <Eye className=\"h-4 w-4 mr-2\" />\n                              View\n                            </Button>\n                          </DialogTrigger>\n                          <DialogContent className=\"max-w-4xl\">\n                            <DialogHeader>\n                              <DialogTitle>Event Details</DialogTitle>\n                            </DialogHeader>\n                            <div className=\"space-y-4\">\n                              <div className=\"grid grid-cols-2 gap-4\">\n                                <div>\n                                  <Label className=\"text-sm font-medium\">Event</Label>\n                                  <p className=\"text-sm\">{log.event}</p>\n                                </div>\n                                <div>\n                                  <Label className=\"text-sm font-medium\">Status</Label>\n                                  <div className=\"flex items-center gap-2\">\n                                    {getStatusIcon(log.status)}\n                                    <span className={`text-sm ${getStatusColor(log.status)}`}>\n                                      {log.status}\n                                    </span>\n                                  </div>\n                                </div>\n                              </div>\n                              <div>\n                                <Label className=\"text-sm font-medium\">Payload</Label>\n                                <Textarea\n                                  value={JSON.stringify(log.payload, null, 2)}\n                                  readOnly\n                                  className=\"font-mono text-xs h-32\"\n                                  data-testid={`payload-${log.id}`}\n                                />\n                              </div>\n                              {log.response && (\n                                <div>\n                                  <Label className=\"text-sm font-medium\">Response</Label>\n                                  <div className=\"space-y-2\">\n                                    <div className=\"flex items-center gap-4 text-sm\">\n                                      <span>Status: {log.response.status}</span>\n                                      <span>Duration: {log.duration}ms</span>\n                                    </div>\n                                    <Textarea\n                                      value={log.response.body}\n                                      readOnly\n                                      className=\"font-mono text-xs h-20\"\n                                      data-testid={`response-${log.id}`}\n                                    />\n                                  </div>\n                                </div>\n                              )}\n                            </div>\n                          </DialogContent>\n                        </Dialog>\n                      </div>\n                    </div>\n                  ))}\n\n                  {filteredLogs.length === 0 && (\n                    <div className=\"text-center py-8 text-muted-foreground\">\n                      <History className=\"h-8 w-8 mx-auto mb-2 opacity-50\" />\n                      <p>No events found</p>\n                      <p className=\"text-sm\">Webhook events will appear here when triggered</p>\n                    </div>\n                  )}\n                </div>\n              </ScrollArea>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* Settings Tab */}\n        <TabsContent value=\"settings\" className=\"space-y-6\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Global Webhook Settings</CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div className=\"space-y-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"global-timeout\">Default Timeout (ms)</Label>\n                    <Input\n                      id=\"global-timeout\"\n                      type=\"number\"\n                      value={webhooks.globalTimeoutMs}\n                      onChange={(e) => updateWebhooks({ globalTimeoutMs: parseInt(e.target.value) || 5000 })}\n                      data-testid=\"input-global-timeout\"\n                    />\n                  </div>\n                </div>\n\n                <div className=\"space-y-4\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"space-y-0.5\">\n                      <Label htmlFor=\"global-retry\">Global Retry</Label>\n                      <p className=\"text-sm text-muted-foreground\">Enable retry for failed webhooks</p>\n                    </div>\n                    <Switch\n                      id=\"global-retry\"\n                      checked={webhooks.globalRetryEnabled}\n                      onCheckedChange={(checked) => updateWebhooks({ globalRetryEnabled: checked })}\n                      data-testid=\"switch-global-retry\"\n                    />\n                  </div>\n                </div>\n              </div>\n\n              <Separator />\n\n              <div className=\"space-y-4\">\n                <Label className=\"text-base font-medium\">Available Event Types</Label>\n                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2\">\n                  {webhooks.eventTypes.map((event) => (\n                    <div \n                      key={event} \n                      className=\"flex items-center justify-between p-3 bg-muted rounded-lg\"\n                      data-testid={`event-type-${event}`}\n                    >\n                      <span className=\"text-sm font-medium\">{event}</span>\n                      <Badge variant=\"outline\">Active</Badge>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              {webhooks.testMode && (\n                <Alert>\n                  <Bell className=\"h-4 w-4\" />\n                  <AlertDescription>\n                    Test mode is enabled. Webhooks will not be sent to external endpoints, only simulated locally.\n                  </AlertDescription>\n                </Alert>\n              )}\n            </CardContent>\n          </Card>\n\n          {/* Test Payload */}\n          <Card>\n            <CardHeader>\n              <CardTitle>Test Payload</CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"test-payload\">Custom Test Payload (JSON)</Label>\n                <Textarea\n                  id=\"test-payload\"\n                  placeholder='{\"test\": true, \"message\": \"Hello World\"}'\n                  value={testPayload}\n                  onChange={(e) => setTestPayload(e.target.value)}\n                  className=\"font-mono text-sm h-32\"\n                  data-testid=\"textarea-test-payload\"\n                />\n              </div>\n              <p className=\"text-sm text-muted-foreground\">\n                This payload will be used when testing webhooks. Leave empty to use default test payload.\n              </p>\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n}","size_bytes":36572},"client/src/components/UserDropdown.tsx":{"content":"import * as React from \"react\";\nimport { useMemo, useCallback } from \"react\";\nimport { Link, useLocation } from \"wouter\";\nimport { User, Settings, LogOut, Shield, Bell, HelpCircle, CreditCard } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { Badge } from \"@/components/ui/badge\";\n\ninterface UserDropdownProps {\n  user?: {\n    name: string;\n    email: string;\n    avatar?: string;\n    role: string;\n  };\n}\n\nexport const UserDropdown = React.memo(function UserDropdown({ user }: UserDropdownProps) {\n  const [, setLocation] = useLocation();\n  \n  // Mock user data for design purposes\n  const currentUser = user || {\n    name: \"Sarah Chen\",\n    email: \"sarah.chen@company.com\",\n    avatar: \"\", // No avatar for fallback display\n    role: \"Admin\"\n  };\n\n  const handleLogout = useCallback(() => {\n    // Clear any session data (this would be implemented with real auth)\n    localStorage.removeItem(\"auth_token\"); // Example of session cleanup\n    \n    // Navigate to login page\n    setLocation(\"/login\");\n  }, [setLocation]);\n\n\n  const userInitials = useMemo(() => {\n    return currentUser.name\n      .split(\" \")\n      .map(n => n[0])\n      .join(\"\")\n      .toUpperCase()\n      .slice(0, 2);\n  }, [currentUser.name]);\n\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger asChild>\n        <Button\n          variant=\"ghost\"\n          className=\"relative h-9 w-9 rounded-full\"\n          data-testid=\"user-menu-trigger\"\n        >\n          <Avatar className=\"h-9 w-9\">\n            <AvatarImage src={currentUser.avatar} alt={currentUser.name} />\n            <AvatarFallback className=\"bg-primary/10 text-primary font-medium\">\n              {userInitials}\n            </AvatarFallback>\n          </Avatar>\n        </Button>\n      </DropdownMenuTrigger>\n      \n      <DropdownMenuContent className=\"w-80\" align=\"end\" forceMount>\n        {/* User Info Header */}\n        <div className=\"flex items-center gap-3 p-4 border-b\">\n          <Avatar className=\"h-12 w-12\">\n            <AvatarImage src={currentUser.avatar} alt={currentUser.name} />\n            <AvatarFallback className=\"bg-primary/10 text-primary font-medium text-base\">\n              {userInitials}\n            </AvatarFallback>\n          </Avatar>\n          <div className=\"flex-1\">\n            <div className=\"flex items-center gap-2\">\n              <p className=\"font-semibold text-foreground\">{currentUser.name}</p>\n              <Badge variant=\"secondary\" className=\"text-xs\">\n                {currentUser.role}\n              </Badge>\n            </div>\n            <p className=\"text-sm text-muted-foreground\">{currentUser.email}</p>\n          </div>\n        </div>\n\n        {/* Account Management */}\n        <div className=\"p-2\">\n          <DropdownMenuLabel className=\"text-xs font-medium text-muted-foreground uppercase tracking-wider\">\n            Account\n          </DropdownMenuLabel>\n          \n          <Link href=\"/profile\">\n            <DropdownMenuItem \n              className=\"flex items-center gap-3 p-3 cursor-pointer hover-elevate\"\n              data-testid=\"menu-profile\"\n            >\n              <User className=\"h-4 w-4\" />\n              <div className=\"flex-1\">\n                <p className=\"font-medium\">My Profile</p>\n                <p className=\"text-xs text-muted-foreground\">Manage your account details</p>\n              </div>\n            </DropdownMenuItem>\n          </Link>\n          \n          <Link href=\"/settings\">\n            <DropdownMenuItem \n              className=\"flex items-center gap-3 p-3 cursor-pointer hover-elevate\"\n              data-testid=\"menu-settings\"\n            >\n              <Settings className=\"h-4 w-4\" />\n              <div className=\"flex-1\">\n                <p className=\"font-medium\">Settings</p>\n                <p className=\"text-xs text-muted-foreground\">Preferences and configuration</p>\n              </div>\n            </DropdownMenuItem>\n          </Link>\n          \n          <DropdownMenuItem className=\"flex items-center gap-3 p-3 cursor-pointer hover-elevate\" data-testid=\"menu-security\">\n            <Shield className=\"h-4 w-4\" />\n            <div className=\"flex-1\">\n              <p className=\"font-medium\">Security</p>\n              <p className=\"text-xs text-muted-foreground\">Password and authentication</p>\n            </div>\n          </DropdownMenuItem>\n        </div>\n\n        <DropdownMenuSeparator />\n\n        {/* Quick Actions */}\n        <div className=\"p-2\">\n          <DropdownMenuLabel className=\"text-xs font-medium text-muted-foreground uppercase tracking-wider\">\n            Quick Actions\n          </DropdownMenuLabel>\n          \n          <DropdownMenuItem className=\"flex items-center gap-3 p-3 cursor-pointer hover-elevate\" data-testid=\"menu-notifications\">\n            <Bell className=\"h-4 w-4\" />\n            <div className=\"flex-1\">\n              <p className=\"font-medium\">Notifications</p>\n              <p className=\"text-xs text-muted-foreground\">Manage alerts and updates</p>\n            </div>\n            <Badge variant=\"outline\" className=\"text-xs\">3</Badge>\n          </DropdownMenuItem>\n          \n          <DropdownMenuItem className=\"flex items-center gap-3 p-3 cursor-pointer hover-elevate\" data-testid=\"menu-billing\">\n            <CreditCard className=\"h-4 w-4\" />\n            <div className=\"flex-1\">\n              <p className=\"font-medium\">Billing</p>\n              <p className=\"text-xs text-muted-foreground\">Subscription and usage</p>\n            </div>\n          </DropdownMenuItem>\n          \n          <DropdownMenuItem className=\"flex items-center gap-3 p-3 cursor-pointer hover-elevate\" data-testid=\"menu-help\">\n            <HelpCircle className=\"h-4 w-4\" />\n            <div className=\"flex-1\">\n              <p className=\"font-medium\">Help & Support</p>\n              <p className=\"text-xs text-muted-foreground\">Documentation and contact</p>\n            </div>\n          </DropdownMenuItem>\n        </div>\n\n        <DropdownMenuSeparator />\n\n        {/* Logout */}\n        <div className=\"p-2\">\n          <DropdownMenuItem \n            onClick={handleLogout}\n            className=\"flex items-center gap-3 p-3 cursor-pointer text-destructive focus:text-destructive hover-elevate\"\n            data-testid=\"menu-logout\"\n          >\n            <LogOut className=\"h-4 w-4\" />\n            <p className=\"font-medium\">Sign out</p>\n          </DropdownMenuItem>\n        </div>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n});","size_bytes":6710},"client/src/pages/Profile.tsx":{"content":"import { useState } from \"react\";\nimport { User, Mail, Shield, Key, Bell, Globe, Save, Upload, Camera } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Separator } from \"@/components/ui/separator\";\n\nexport default function Profile() {\n  // Mock user data for design purposes\n  const [userData, setUserData] = useState({\n    name: \"Sarah Chen\",\n    email: \"sarah.chen@company.com\",\n    title: \"Senior Product Manager\",\n    department: \"Engineering\",\n    bio: \"Passionate about building AI-powered solutions that enhance user experience and drive business growth.\",\n    avatar: \"\",\n    phone: \"+1 (555) 123-4567\",\n    location: \"San Francisco, CA\",\n    timezone: \"America/Los_Angeles\",\n    joinDate: \"March 2023\"\n  });\n\n  const [notifications, setNotifications] = useState({\n    emailUpdates: true,\n    weeklyReports: true,\n    securityAlerts: true,\n    marketingEmails: false,\n    pushNotifications: true\n  });\n\n  const [privacy, setPrivacy] = useState({\n    profileVisibility: \"team\",\n    activityVisible: true,\n    emailVisible: false\n  });\n\n  const getInitials = (name: string) => {\n    return name\n      .split(\" \")\n      .map(n => n[0])\n      .join(\"\")\n      .toUpperCase()\n      .slice(0, 2);\n  };\n\n  const handleSave = () => {\n    // TODO: Implement save functionality\n  };\n\n  const handleAvatarUpload = () => {\n    // TODO: Implement avatar upload\n  };\n\n  return (\n    <div className=\"max-w-6xl mx-auto space-y-8\">\n      {/* Header */}\n      <div className=\"flex flex-col gap-6\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-foreground\">My Profile</h1>\n          <p className=\"text-muted-foreground\">\n            Manage your account settings and preferences\n          </p>\n        </div>\n        \n        {/* Profile Summary Card */}\n        <Card>\n          <CardContent className=\"p-6\">\n            <div className=\"flex items-center gap-6\">\n              <div className=\"relative\">\n                <Avatar className=\"h-24 w-24\">\n                  <AvatarImage src={userData.avatar} alt={userData.name} />\n                  <AvatarFallback className=\"bg-primary/10 text-primary text-2xl font-medium\">\n                    {getInitials(userData.name)}\n                  </AvatarFallback>\n                </Avatar>\n                <Button\n                  size=\"icon\"\n                  variant=\"outline\"\n                  className=\"absolute -bottom-2 -right-2 h-8 w-8 rounded-full\"\n                  onClick={handleAvatarUpload}\n                  data-testid=\"button-upload-avatar\"\n                >\n                  <Camera className=\"h-4 w-4\" />\n                </Button>\n              </div>\n              \n              <div className=\"flex-1\">\n                <div className=\"flex items-center gap-3 mb-2\">\n                  <h2 className=\"text-2xl font-semibold text-foreground\">{userData.name}</h2>\n                  <Badge variant=\"secondary\">Admin</Badge>\n                </div>\n                <p className=\"text-lg text-muted-foreground mb-1\">{userData.title}</p>\n                <p className=\"text-sm text-muted-foreground\">{userData.department} • Joined {userData.joinDate}</p>\n                \n                <div className=\"flex items-center gap-4 mt-4\">\n                  <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n                    <Mail className=\"h-4 w-4\" />\n                    {userData.email}\n                  </div>\n                  <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n                    <Globe className=\"h-4 w-4\" />\n                    {userData.location}\n                  </div>\n                </div>\n              </div>\n              \n              <Button onClick={handleSave} data-testid=\"button-save-profile\">\n                <Save className=\"h-4 w-4 mr-2\" />\n                Save Changes\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Profile Settings Tabs */}\n      <Tabs defaultValue=\"general\" className=\"space-y-6\">\n        <TabsList className=\"grid w-full grid-cols-4\">\n          <TabsTrigger value=\"general\" className=\"flex items-center gap-2\" data-testid=\"tab-general\">\n            <User className=\"h-4 w-4\" />\n            General\n          </TabsTrigger>\n          <TabsTrigger value=\"security\" className=\"flex items-center gap-2\" data-testid=\"tab-security\">\n            <Shield className=\"h-4 w-4\" />\n            Security\n          </TabsTrigger>\n          <TabsTrigger value=\"notifications\" className=\"flex items-center gap-2\" data-testid=\"tab-notifications\">\n            <Bell className=\"h-4 w-4\" />\n            Notifications\n          </TabsTrigger>\n          <TabsTrigger value=\"privacy\" className=\"flex items-center gap-2\" data-testid=\"tab-privacy\">\n            <Key className=\"h-4 w-4\" />\n            Privacy\n          </TabsTrigger>\n        </TabsList>\n\n        {/* General Settings */}\n        <TabsContent value=\"general\" className=\"space-y-6\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Personal Information</CardTitle>\n                <CardDescription>\n                  Update your personal details and contact information\n                </CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"name\">Full Name</Label>\n                  <Input\n                    id=\"name\"\n                    value={userData.name}\n                    onChange={(e) => setUserData({...userData, name: e.target.value})}\n                    data-testid=\"input-name\"\n                  />\n                </div>\n                \n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"email\">Email Address</Label>\n                  <Input\n                    id=\"email\"\n                    type=\"email\"\n                    value={userData.email}\n                    onChange={(e) => setUserData({...userData, email: e.target.value})}\n                    data-testid=\"input-email\"\n                  />\n                </div>\n                \n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"title\">Job Title</Label>\n                  <Input\n                    id=\"title\"\n                    value={userData.title}\n                    onChange={(e) => setUserData({...userData, title: e.target.value})}\n                    data-testid=\"input-title\"\n                  />\n                </div>\n                \n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"department\">Department</Label>\n                  <Select value={userData.department} onValueChange={(value) => setUserData({...userData, department: value})}>\n                    <SelectTrigger data-testid=\"select-department\">\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"Engineering\">Engineering</SelectItem>\n                      <SelectItem value=\"Product\">Product</SelectItem>\n                      <SelectItem value=\"Design\">Design</SelectItem>\n                      <SelectItem value=\"Marketing\">Marketing</SelectItem>\n                      <SelectItem value=\"Sales\">Sales</SelectItem>\n                      <SelectItem value=\"Operations\">Operations</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle>Contact & Location</CardTitle>\n                <CardDescription>\n                  Manage your contact details and timezone settings\n                </CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"phone\">Phone Number</Label>\n                  <Input\n                    id=\"phone\"\n                    value={userData.phone}\n                    onChange={(e) => setUserData({...userData, phone: e.target.value})}\n                    data-testid=\"input-phone\"\n                  />\n                </div>\n                \n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"location\">Location</Label>\n                  <Input\n                    id=\"location\"\n                    value={userData.location}\n                    onChange={(e) => setUserData({...userData, location: e.target.value})}\n                    data-testid=\"input-location\"\n                  />\n                </div>\n                \n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"timezone\">Timezone</Label>\n                  <Select value={userData.timezone} onValueChange={(value) => setUserData({...userData, timezone: value})}>\n                    <SelectTrigger data-testid=\"select-timezone\">\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"America/Los_Angeles\">Pacific Time (PT)</SelectItem>\n                      <SelectItem value=\"America/Denver\">Mountain Time (MT)</SelectItem>\n                      <SelectItem value=\"America/Chicago\">Central Time (CT)</SelectItem>\n                      <SelectItem value=\"America/New_York\">Eastern Time (ET)</SelectItem>\n                      <SelectItem value=\"Europe/London\">Greenwich Mean Time (GMT)</SelectItem>\n                      <SelectItem value=\"Europe/Berlin\">Central European Time (CET)</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n                \n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"bio\">Bio</Label>\n                  <Textarea\n                    id=\"bio\"\n                    value={userData.bio}\n                    onChange={(e) => setUserData({...userData, bio: e.target.value})}\n                    placeholder=\"Tell us about yourself...\"\n                    className=\"min-h-[100px]\"\n                    data-testid=\"textarea-bio\"\n                  />\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        </TabsContent>\n\n        {/* Security Settings */}\n        <TabsContent value=\"security\" className=\"space-y-6\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Password & Authentication</CardTitle>\n                <CardDescription>\n                  Manage your password and two-factor authentication\n                </CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"current-password\">Current Password</Label>\n                  <Input\n                    id=\"current-password\"\n                    type=\"password\"\n                    placeholder=\"Enter current password\"\n                    data-testid=\"input-current-password\"\n                  />\n                </div>\n                \n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"new-password\">New Password</Label>\n                  <Input\n                    id=\"new-password\"\n                    type=\"password\"\n                    placeholder=\"Enter new password\"\n                    data-testid=\"input-new-password\"\n                  />\n                </div>\n                \n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"confirm-password\">Confirm New Password</Label>\n                  <Input\n                    id=\"confirm-password\"\n                    type=\"password\"\n                    placeholder=\"Confirm new password\"\n                    data-testid=\"input-confirm-password\"\n                  />\n                </div>\n                \n                <Button className=\"w-full\" data-testid=\"button-update-password\">\n                  Update Password\n                </Button>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle>Security Settings</CardTitle>\n                <CardDescription>\n                  Additional security options for your account\n                </CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <h4 className=\"font-medium\">Two-Factor Authentication</h4>\n                    <p className=\"text-sm text-muted-foreground\">Add an extra layer of security</p>\n                  </div>\n                  <Button variant=\"outline\" size=\"sm\" data-testid=\"button-enable-2fa\">Enable</Button>\n                </div>\n                \n                <Separator />\n                \n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <h4 className=\"font-medium\">Login Notifications</h4>\n                    <p className=\"text-sm text-muted-foreground\">Get notified of new sign-ins</p>\n                  </div>\n                  <Switch defaultChecked data-testid=\"switch-login-notifications\" />\n                </div>\n                \n                <Separator />\n                \n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <h4 className=\"font-medium\">Session Management</h4>\n                    <p className=\"text-sm text-muted-foreground\">Manage active sessions</p>\n                  </div>\n                  <Button variant=\"outline\" size=\"sm\" data-testid=\"button-view-sessions\">View Sessions</Button>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        </TabsContent>\n\n        {/* Notification Settings */}\n        <TabsContent value=\"notifications\" className=\"space-y-6\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Notification Preferences</CardTitle>\n              <CardDescription>\n                Choose what notifications you want to receive\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              <div className=\"space-y-4\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <h4 className=\"font-medium\">Email Updates</h4>\n                    <p className=\"text-sm text-muted-foreground\">Receive important updates via email</p>\n                  </div>\n                  <Switch \n                    checked={notifications.emailUpdates}\n                    onCheckedChange={(checked) => setNotifications({...notifications, emailUpdates: checked})}\n                    data-testid=\"switch-email-updates\"\n                  />\n                </div>\n                \n                <Separator />\n                \n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <h4 className=\"font-medium\">Weekly Reports</h4>\n                    <p className=\"text-sm text-muted-foreground\">Get weekly analytics and performance reports</p>\n                  </div>\n                  <Switch \n                    checked={notifications.weeklyReports}\n                    onCheckedChange={(checked) => setNotifications({...notifications, weeklyReports: checked})}\n                    data-testid=\"switch-weekly-reports\"\n                  />\n                </div>\n                \n                <Separator />\n                \n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <h4 className=\"font-medium\">Security Alerts</h4>\n                    <p className=\"text-sm text-muted-foreground\">Important security and account alerts</p>\n                  </div>\n                  <Switch \n                    checked={notifications.securityAlerts}\n                    onCheckedChange={(checked) => setNotifications({...notifications, securityAlerts: checked})}\n                    data-testid=\"switch-security-alerts\"\n                  />\n                </div>\n                \n                <Separator />\n                \n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <h4 className=\"font-medium\">Marketing Emails</h4>\n                    <p className=\"text-sm text-muted-foreground\">Product updates and promotional content</p>\n                  </div>\n                  <Switch \n                    checked={notifications.marketingEmails}\n                    onCheckedChange={(checked) => setNotifications({...notifications, marketingEmails: checked})}\n                    data-testid=\"switch-marketing-emails\"\n                  />\n                </div>\n                \n                <Separator />\n                \n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <h4 className=\"font-medium\">Push Notifications</h4>\n                    <p className=\"text-sm text-muted-foreground\">Real-time notifications in your browser</p>\n                  </div>\n                  <Switch \n                    checked={notifications.pushNotifications}\n                    onCheckedChange={(checked) => setNotifications({...notifications, pushNotifications: checked})}\n                    data-testid=\"switch-push-notifications\"\n                  />\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* Privacy Settings */}\n        <TabsContent value=\"privacy\" className=\"space-y-6\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Privacy Settings</CardTitle>\n              <CardDescription>\n                Control how your information is shared and displayed\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              <div className=\"space-y-4\">\n                <div className=\"space-y-2\">\n                  <Label>Profile Visibility</Label>\n                  <Select value={privacy.profileVisibility} onValueChange={(value) => setPrivacy({...privacy, profileVisibility: value})}>\n                    <SelectTrigger data-testid=\"select-profile-visibility\">\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"public\">Public - Visible to everyone</SelectItem>\n                      <SelectItem value=\"team\">Team - Visible to team members only</SelectItem>\n                      <SelectItem value=\"private\">Private - Only visible to you</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n                \n                <Separator />\n                \n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <h4 className=\"font-medium\">Show Activity Status</h4>\n                    <p className=\"text-sm text-muted-foreground\">Let others see when you're online</p>\n                  </div>\n                  <Switch \n                    checked={privacy.activityVisible}\n                    onCheckedChange={(checked) => setPrivacy({...privacy, activityVisible: checked})}\n                    data-testid=\"switch-activity-visible\"\n                  />\n                </div>\n                \n                <Separator />\n                \n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <h4 className=\"font-medium\">Show Email Address</h4>\n                    <p className=\"text-sm text-muted-foreground\">Display your email in your public profile</p>\n                  </div>\n                  <Switch \n                    checked={privacy.emailVisible}\n                    onCheckedChange={(checked) => setPrivacy({...privacy, emailVisible: checked})}\n                    data-testid=\"switch-email-visible\"\n                  />\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n}","size_bytes":20985}},"version":1}